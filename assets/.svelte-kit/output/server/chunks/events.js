import{a1 as o,a2 as s,a as g,a3 as w,a4 as L,t as S,V as q}from"./index.js";function x(r){var a=w,n=g;o(null),s(null);try{return r()}finally{o(a),s(n)}}const W=new Set,m=new Set;function B(r,a,n,i={}){function e(t){if(i.capture||O.call(a,t),!t.cancelBubble)return x(()=>n?.call(this,t))}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?L(()=>{a.addEventListener(r,e,i)}):a.addEventListener(r,e,i),e}function D(r,a,n,i={}){var e=B(a,r,n,i);return()=>{r.removeEventListener(a,e,i)}}function O(r){var a=this,n=a.ownerDocument,i=r.type,e=r.composedPath?.()||[],t=e[0]||r.target,v=0,h=r.__root;if(h){var f=e.indexOf(h);if(f!==-1&&(a===document||a===window)){r.__root=a;return}var p=e.indexOf(a);if(p===-1)return;f<=p&&(v=f)}if(t=e[v]||r.target,t!==a){S(r,"currentTarget",{configurable:!0,get(){return t||n}});var y=w,b=g;o(null),s(null);try{for(var u,d=[];t!==null;){var _=t.assignedSlot||t.parentNode||t.host||null;try{var c=t["__"+i];if(c!=null&&(!t.disabled||r.target===t))if(q(c)){var[k,...E]=c;k.apply(t,[r,...E])}else c.call(t,r)}catch(l){u?d.push(l):u=l}if(r.cancelBubble||_===a||_===null)break;t=_}if(u){for(let l of d)queueMicrotask(()=>{throw l});throw u}}finally{r.__root=a,delete r.currentTarget,o(y),s(b)}}}export{W as a,O as h,D as o,m as r};
