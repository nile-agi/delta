import{V as Bn,W as jn,X as Kn,P as B,w as S,K as G,Q as R,y as k,z as E,Y as se,R as H,S as W,D as X,A as te,E as pe,J as I,N as z,B as K}from"./index.js";import"@sveltejs/kit/internal";import"./exports.js";import"./utils.js";import"clsx";import"@sveltejs/kit/internal/server";import{j as xe,i as Je,k as Vn,l as Hn,n as Wn,m as Gn,o as qn,p as Yn,r as Xn,h as gt,D as Ae,e as ds,q as Jn,d as Zn,s as ps,v as Qn,w as yn,x as Ee,y as $n}from"./chat.svelte.js";import{f as As,F as q,A as Os,P as Rs,T as zs,g as he,h as Ct,i as St,j as ae,k as _,E as ye,H as $e,C as ke,n as ie,w as ee,o as Te,p as we,q as et,r as _e,u as eo,v as to,x as Y,y as so,z as ne,O as kt,D as Ne,G as de,J as _t,K as y,L as Us,M as tt,N as mt,Q as Pt,R as Nt,U as no,V as oo,W as ro,Y as io,Z as uo,_ as lo,$ as co,a0 as Mt,a1 as fs,a2 as ho,a3 as ao,a4 as po,a5 as fo,a6 as Tt,a7 as go,a8 as Be,a9 as gs,aa as mo,ab as vo,ac as bo,ad as xo,c as Z,ae as Ls,af as Bs,ag as js,X as Se,ah as Ke,I as V,ai as ze,B as J,aj as Ft,ak as It,al as Ks,am as Vs,an as Hs,ao as Ws,ap as Fe,aq as wo,e as Gs,ar as Co,as as Me}from"./MarkdownContent.svelte_svelte_type_style_lang.js";import"pdfjs-dist";import{c as re,s as ue,a as Ce,m as So,b as ko,d as _o,e as Po,f as No,g as He,h as qs,i as Ue,j as vt,k as ms,l as Pe,u as Mo,n as To,S as vs,o as ge,P as Fo,p as Io,q as Do,r as Eo}from"./settings.svelte.js";import"style-to-object";import{isTabbable as Dt,tabbable as Ao,isFocusable as Oo,focusable as Ro}from"tabbable";import{m as Ys,n as je,F as zo,o as Uo,q as Lo,G as Bo,r as Xs,t as jo,u as Ko,D as Vo,a as Ho,b as Js,v as me,L as bs,c as Wo,T as bt,C as Zs,R as st,w as Go,x as qo,A as nt,f as ot,g as rt,i as it,j as ut,l as lt,S as Yo,e as Qs,y as ft,k as Xo,h as Jo}from"./ConfirmationDialog.js";import{R as ys,L as qe,T as ct,S as Zo}from"./ServerErrorSplash.js";import{o as Et}from"./events.js";const Qo=[];function Ye(t,e=!1){return Xe(t,new Map,"",Qo)}function Xe(t,e,s,n,o=null){if(typeof t=="object"&&t!==null){var i=e.get(t);if(i!==void 0)return i;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(Bn(t)){var r=Array(t.length);e.set(t,r),o!==null&&e.set(o,r);for(var c=0;c<t.length;c+=1){var h=t[c];c in t&&(r[c]=Xe(h,e,s,n))}return r}if(jn(t)===Kn){r={},e.set(t,r),o!==null&&e.set(o,r);for(var l in t)r[l]=Xe(t[l],e,s,n);return r}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function")return Xe(t.toJSON(),e,s,n,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}function oe(t){return Object.values(As).some(e=>e.mimeTypes.includes(t))?q.IMAGE:Object.values(Os).some(e=>e.mimeTypes.includes(t))?q.AUDIO:Object.values(Rs).some(e=>e.mimeTypes.includes(t))?q.PDF:Object.values(zs).some(e=>e.mimeTypes.includes(t))?q.TEXT:null}function yo(t){const e=t.toLowerCase().substring(t.lastIndexOf("."));for(const[s,n]of Object.entries(As))if(n.extensions.includes(e))return`${q.IMAGE}:${s}`;for(const[s,n]of Object.entries(Os))if(n.extensions.includes(e))return`${q.AUDIO}:${s}`;for(const[s,n]of Object.entries(Rs))if(n.extensions.includes(e))return`${q.PDF}:${s}`;for(const[s,n]of Object.entries(zs))if(n.extensions.includes(e))return`${q.TEXT}:${s}`;return null}function $o(t,e){return e&&oe(e)?!0:yo(t)!==null}function er(t){return window.getComputedStyle(t).getPropertyValue("direction")}function tr(t="ltr",e="horizontal"){return{horizontal:t==="rtl"?St:Ct,vertical:ae}[e]}function sr(t="ltr",e="horizontal"){return{horizontal:t==="rtl"?Ct:St,vertical:he}[e]}function nr(t="ltr",e="horizontal"){return["ltr","rtl"].includes(t)||(t="ltr"),["horizontal","vertical"].includes(e)||(e="horizontal"),{nextKey:tr(t,e),prevKey:sr(t,e)}}class or{#e;#t=_(null);constructor(e){this.#e=e}getCandidateNodes(){return[]}focusFirstCandidate(){const e=this.getCandidateNodes();e.length&&e[0]?.focus()}handleKeydown(e,s,n=!1){const o=this.#e.rootNode.current;if(!o||!e)return;const i=this.getCandidateNodes();if(!i.length)return;const r=i.indexOf(e),c=er(o),{nextKey:h,prevKey:l}=nr(c,this.#e.orientation.current),u=this.#e.loop.current,a={[h]:r+1,[l]:r-1,[$e]:0,[ye]:i.length-1};if(n){const p=h===ae?Ct:ae,d=l===he?St:he;a[p]=r+1,a[d]=r-1}let f=a[s.key];if(f===void 0)return;s.preventDefault(),f<0&&u?f=i.length-1:f===i.length&&u&&(f=0);const g=i[f];if(g)return g.focus(),this.#t.current=g.id,this.#e.onCandidateFocus?.(g),g}getTabIndex(e){const s=this.getCandidateNodes(),n=this.#t.current!==null;return e&&!n&&s[0]===e?(this.#t.current=e.id,0):e?.id===this.#t.current?0:-1}setCurrentTabStopId(e){this.#t.current=e}}function rr(t,e,s=!0){if(!(t.length===0||e<0||e>=t.length))return t.length===1&&e===0?t[0]:e===t.length-1?s?t[0]:void 0:t[e+1]}function ir(t,e,s=!0){if(!(t.length===0||e<0||e>=t.length))return t.length===1&&e===0?t[0]:e===0?s?t[t.length-1]:void 0:t[e-1]}function ur(t,e,s,n=!0){if(t.length===0||e<0||e>=t.length)return;let o=e+s;return n?o=(o%t.length+t.length)%t.length:o=Math.max(0,Math.min(o,t.length-1)),t[o]}function lr(t,e,s,n=!0){if(t.length===0||e<0||e>=t.length)return;let o=e-s;return n?o=(o%t.length+t.length)%t.length:o=Math.max(0,Math.min(o,t.length-1)),t[o]}function At(t,e,s){const n=e.toLowerCase();if(n.endsWith(" ")){const a=n.slice(0,-1);if(t.filter(d=>d.toLowerCase().startsWith(a)).length<=1)return At(t,a,s);const g=s?.toLowerCase();if(g&&g.startsWith(a)&&g.charAt(a.length)===" "&&e.trim()===a)return s;const p=t.filter(d=>d.toLowerCase().startsWith(n));if(p.length>0){const d=s?t.indexOf(s):-1;return xs(p,Math.max(d,0)).find(m=>m!==s)||s}}const i=e.length>1&&Array.from(e).every(a=>a===e[0])?e[0]:e,r=i.toLowerCase(),c=s?t.indexOf(s):-1;let h=xs(t,Math.max(c,0));i.length===1&&(h=h.filter(a=>a!==s));const u=h.find(a=>a?.toLowerCase().startsWith(r));return u!==s?u:void 0}function xs(t,e){return t.map((s,n)=>t[(e+n)%t.length])}const cr=et({component:"checkbox",parts:["root","group","group-label","input"]}),hr=new ke("Checkbox.Group"),$s=new ke("Checkbox.Root");class Ot{static create(e,s=null){return $s.set(new Ot(e,s))}opts;group;#e=B(()=>this.group&&this.group.opts.name.current?this.group.opts.name.current:this.opts.name.current);get trueName(){return this.#e()}set trueName(e){return this.#e(e)}#t=B(()=>this.group&&this.group.opts.required.current?!0:this.opts.required.current);get trueRequired(){return this.#t()}set trueRequired(e){return this.#t(e)}#s=B(()=>this.group&&this.group.opts.disabled.current?!0:this.opts.disabled.current);get trueDisabled(){return this.#s()}set trueDisabled(e){return this.#s(e)}attachment;constructor(e,s){this.opts=e,this.group=s,this.attachment=ie(this.opts.ref),this.onkeydown=this.onkeydown.bind(this),this.onclick=this.onclick.bind(this),ee.pre([()=>Ye(this.group?.opts.value.current),()=>this.opts.value.current],([n,o])=>{!n||!o||(this.opts.checked.current=n.includes(o))}),ee.pre(()=>this.opts.checked.current,n=>{this.group&&(n?this.group?.addValue(this.opts.value.current):this.group?.removeValue(this.opts.value.current))})}onkeydown(e){this.opts.disabled.current||(e.key===Te&&e.preventDefault(),e.key===we&&(e.preventDefault(),this.#n()))}#n(){this.opts.indeterminate.current?(this.opts.indeterminate.current=!1,this.opts.checked.current=!0):this.opts.checked.current=!this.opts.checked.current}onclick(e){this.opts.disabled.current||this.#n()}#o=B(()=>({checked:this.opts.checked.current,indeterminate:this.opts.indeterminate.current}));get snippetProps(){return this.#o()}set snippetProps(e){return this.#o(e)}#r=B(()=>({id:this.opts.id.current,role:"checkbox",type:this.opts.type.current,disabled:this.trueDisabled,"aria-checked":to(this.opts.checked.current,this.opts.indeterminate.current),"aria-required":eo(this.trueRequired),"data-disabled":_e(this.trueDisabled),"data-state":ar(this.opts.checked.current,this.opts.indeterminate.current),[cr.root]:"",onclick:this.onclick,onkeydown:this.onkeydown,...this.attachment}));get props(){return this.#r()}set props(e){return this.#r(e)}}class Rt{static create(){return new Rt($s.get())}root;#e=B(()=>this.root.group?!!(this.root.opts.value.current!==void 0&&this.root.group.opts.value.current.includes(this.root.opts.value.current)):this.root.opts.checked.current);get trueChecked(){return this.#e()}set trueChecked(e){return this.#e(e)}#t=B(()=>!!this.root.trueName);get shouldRender(){return this.#t()}set shouldRender(e){return this.#t(e)}constructor(e){this.root=e}#s=B(()=>({type:"checkbox",checked:this.root.opts.checked.current===!0,disabled:this.root.trueDisabled,required:this.root.trueRequired,name:this.root.trueName,value:this.root.opts.value.current}));get props(){return this.#s()}set props(e){return this.#s(e)}}function ar(t,e){return e?"indeterminate":t?"checked":"unchecked"}function en(t,e){S();let{value:s=void 0,$$slots:n,$$events:o,...i}=e;const r=Y(i,{"aria-hidden":"true",tabindex:-1,style:so});r.type==="checkbox"?(t.out.push("<!--[-->"),t.out.push(`<input${G({...r,value:s},null)}/>`)):(t.out.push("<!--[!-->"),t.out.push(`<input${G({value:s,...r},null)}/>`)),t.out.push("<!--]-->"),R(e,{value:s}),k()}function dr(t,e){S();const s=Rt.create();s.shouldRender?(t.out.push("<!--[-->"),en(t,E([s.props]))):t.out.push("<!--[!-->"),t.out.push("<!--]-->"),k()}function pr(t,e){S();const s=se(t);let{checked:n=!1,ref:o=null,onCheckedChange:i,children:r,disabled:c=!1,required:h=!1,name:l=void 0,value:u="on",id:a=ne(s),indeterminate:f=!1,onIndeterminateChange:g,child:p,type:d="button",$$slots:v,$$events:T,...m}=e;const x=hr.getOr(null);x&&u&&(x.opts.value.current.includes(u)?n=!0:n=!1),ee.pre(()=>u,()=>{x&&u&&(x.opts.value.current.includes(u)?n=!0:n=!1)});const C=Ot.create({checked:_.with(()=>n,b=>{n=b,i?.(b)}),disabled:_.with(()=>c??!1),required:_.with(()=>h),name:_.with(()=>l),value:_.with(()=>u),id:_.with(()=>a),ref:_.with(()=>o,b=>o=b),indeterminate:_.with(()=>f,b=>{f=b,g?.(b)}),type:_.with(()=>d)},x),w=Y({...m},C.props);p?(t.out.push("<!--[-->"),p(t,{props:w,...C.snippetProps}),t.out.push("<!---->")):(t.out.push("<!--[!-->"),t.out.push(`<button${G({...w},null)}>`),r?.(t,C.snippetProps),t.out.push("<!----></button>")),t.out.push("<!--]--> "),dr(t),t.out.push("<!---->"),R(e,{checked:n,ref:o,indeterminate:f}),k()}const zt=et({component:"collapsible",parts:["root","content","trigger"]}),Ut=new ke("Collapsible.Root");class Lt{static create(e){return Ut.set(new Lt(e))}opts;attachment;contentNode=null;contentId=void 0;constructor(e){this.opts=e,this.toggleOpen=this.toggleOpen.bind(this),this.attachment=ie(this.opts.ref),new kt({ref:_.with(()=>this.contentNode),open:this.opts.open,onComplete:()=>{this.opts.onOpenChangeComplete.current(this.opts.open.current)}})}toggleOpen(){this.opts.open.current=!this.opts.open.current}#e=B(()=>({id:this.opts.id.current,"data-state":Ne(this.opts.open.current),"data-disabled":_e(this.opts.disabled.current),[zt.root]:"",...this.attachment}));get props(){return this.#e()}set props(e){return this.#e(e)}}class Bt{static create(e){return new Bt(e,Ut.get())}opts;root;attachment;#e=B(()=>this.opts.forceMount.current||this.root.opts.open.current);get present(){return this.#e()}set present(e){return this.#e(e)}#t;#s=!1;#n=0;#o=0;constructor(e,s){this.opts=e,this.root=s,this.#s=s.opts.open.current,this.root.contentId=this.opts.id.current,this.attachment=ie(this.opts.ref,n=>this.root.contentNode=n),ee.pre(()=>this.opts.id.current,n=>{this.root.contentId=n}),ee([()=>this.opts.ref.current,()=>this.present],([n])=>{n&&de(()=>{if(!this.opts.ref.current)return;this.#t=this.#t||{transitionDuration:n.style.transitionDuration,animationName:n.style.animationName},n.style.transitionDuration="0s",n.style.animationName="none";const o=n.getBoundingClientRect();if(this.#o=o.height,this.#n=o.width,!this.#s){const{animationName:i,transitionDuration:r}=this.#t;n.style.transitionDuration=r,n.style.animationName=i}})})}#r=B(()=>({open:this.root.opts.open.current}));get snippetProps(){return this.#r()}set snippetProps(e){return this.#r(e)}#i=B(()=>({id:this.opts.id.current,style:{"--bits-collapsible-content-height":this.#o?`${this.#o}px`:void 0,"--bits-collapsible-content-width":this.#n?`${this.#n}px`:void 0},"data-state":Ne(this.root.opts.open.current),"data-disabled":_e(this.root.opts.disabled.current),[zt.content]:"",...this.attachment}));get props(){return this.#i()}set props(e){return this.#i(e)}}class jt{static create(e){return new jt(e,Ut.get())}opts;root;attachment;#e=B(()=>this.opts.disabled.current||this.root.opts.disabled.current);constructor(e,s){this.opts=e,this.root=s,this.attachment=ie(this.opts.ref),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){if(!this.#e()){if(e.button!==0)return e.preventDefault();this.root.toggleOpen()}}onkeydown(e){this.#e()||(e.key===we||e.key===Te)&&(e.preventDefault(),this.root.toggleOpen())}#t=B(()=>({id:this.opts.id.current,type:"button",disabled:this.#e(),"aria-controls":this.root.contentId,"aria-expanded":_t(this.root.opts.open.current),"data-state":Ne(this.root.opts.open.current),"data-disabled":_e(this.#e()),[zt.trigger]:"",onclick:this.onclick,onkeydown:this.onkeydown,...this.attachment}));get props(){return this.#t()}set props(e){return this.#t(e)}}function fr(t,e){S();const s=se(t);let{children:n,child:o,id:i=ne(s),ref:r=null,open:c=!1,disabled:h=!1,onOpenChange:l=y,onOpenChangeComplete:u=y,$$slots:a,$$events:f,...g}=e;const p=Lt.create({open:_.with(()=>c,v=>{c=v,l(v)}),disabled:_.with(()=>h),id:_.with(()=>i),ref:_.with(()=>r,v=>r=v),onOpenChangeComplete:_.with(()=>u)}),d=Y(g,p.props);o?(t.out.push("<!--[-->"),o(t,{props:d}),t.out.push("<!---->")):(t.out.push("<!--[!-->"),t.out.push(`<div${G({...d},null)}>`),n?.(t),t.out.push("<!----></div>")),t.out.push("<!--]-->"),R(e,{ref:r,open:c}),k()}function gr(t,e){S();const s=se(t);let{child:n,ref:o=null,forceMount:i=!1,children:r,id:c=ne(s),$$slots:h,$$events:l,...u}=e;const a=Bt.create({id:_.with(()=>c),forceMount:_.with(()=>i),ref:_.with(()=>o,f=>o=f)});{let f=function(g,{present:p}){const d=Y(u,a.props,{hidden:i?void 0:!p});n?(g.out.push("<!--[-->"),n(g,{...a.snippetProps,props:d}),g.out.push("<!---->")):(g.out.push("<!--[!-->"),g.out.push(`<div${G({...d},null)}>`),r?.(g),g.out.push("<!----></div>")),g.out.push("<!--]-->")};Us(t,{forceMount:!0,open:a.present,ref:a.opts.ref,presence:f})}R(e,{ref:o}),k()}function mr(t,e){S();const s=se(t);let{children:n,child:o,ref:i=null,id:r=ne(s),disabled:c=!1,$$slots:h,$$events:l,...u}=e;const a=jt.create({id:_.with(()=>r),ref:_.with(()=>i,g=>i=g),disabled:_.with(()=>c)}),f=Y(u,a.props);o?(t.out.push("<!--[-->"),o(t,{props:f}),t.out.push("<!---->")):(t.out.push("<!--[!-->"),t.out.push(`<button${G({...f},null)}>`),n?.(t),t.out.push("<!----></button>")),t.out.push("<!--]-->"),R(e,{ref:i}),k()}class vr{#e;#t=B(()=>this.#e.candidateValues());#s;constructor(e){this.#e=e,this.#s=Ys("",{afterMs:1e3,getWindow:this.#e.getWindow}),this.handleTypeaheadSearch=this.handleTypeaheadSearch.bind(this),this.resetTypeahead=this.resetTypeahead.bind(this)}handleTypeaheadSearch(e){if(!this.#e.enabled()||!this.#t().length)return;this.#s.current=this.#s.current+e;const s=this.#e.getCurrentItem(),n=this.#t().find(c=>c===s)??"",o=this.#t().map(c=>c??""),i=At(o,this.#s.current,n),r=this.#t().find(c=>c===i);return r&&this.#e.onMatch(r),r}resetTypeahead(){this.#s.current=""}}class tn{#e;#t;#s=B(()=>this.#e.onMatch?this.#e.onMatch:e=>e.focus());#n=B(()=>this.#e.getCurrentItem?this.#e.getCurrentItem:this.#e.getActiveElement);constructor(e){this.#e=e,this.#t=Ys("",{afterMs:1e3,getWindow:e.getWindow}),this.handleTypeaheadSearch=this.handleTypeaheadSearch.bind(this),this.resetTypeahead=this.resetTypeahead.bind(this)}handleTypeaheadSearch(e,s){if(!s.length)return;this.#t.current=this.#t.current+e;const n=this.#n()(),o=s.find(h=>h===n)?.textContent?.trim()??"",i=s.map(h=>h.textContent?.trim()??""),r=At(i,this.#t.current,o),c=s.find(h=>h.textContent?.trim()===r);return c&&this.#s()(c),c}resetTypeahead(){this.#t.current=""}get search(){return this.#t.current}}const br=[ae,Pt,$e],xr=[he,Nt,ye],wr=[...br,...xr],Cr=et({component:"select",parts:["trigger","content","item","viewport","scroll-up-button","scroll-down-button","group","group-label","separator","arrow","input","content-wrapper","item-text","value"]}),Ve=new ke("Select.Root | Combobox.Root"),ht=new ke("Select.Content | Combobox.Content");class sn{opts;touchedInput=!1;inputNode=null;contentNode=null;triggerNode=null;valueId="";highlightedNode=null;#e=B(()=>this.highlightedNode?this.highlightedNode.getAttribute("data-value"):null);get highlightedValue(){return this.#e()}set highlightedValue(e){return this.#e(e)}#t=B(()=>{if(this.highlightedNode)return this.highlightedNode.id});get highlightedId(){return this.#t()}set highlightedId(e){return this.#t(e)}#s=B(()=>this.highlightedNode?this.highlightedNode.getAttribute("data-label"):null);get highlightedLabel(){return this.#s()}set highlightedLabel(e){return this.#s(e)}isUsingKeyboard=!1;isCombobox=!1;domContext=new tt(()=>null);constructor(e){this.opts=e,this.isCombobox=e.isCombobox,new kt({ref:_.with(()=>this.contentNode),open:this.opts.open,onComplete:()=>{this.opts.onOpenChangeComplete.current(this.opts.open.current)}})}#n=ro(this.setHighlightedToFirstCandidate.bind(this),20);setHighlightedNode(e,s=!1){this.highlightedNode=e,e&&(this.isUsingKeyboard||s)&&e.scrollIntoView({block:this.opts.scrollAlignment.current})}getCandidateNodes(){const e=this.contentNode;return e?Array.from(e.querySelectorAll(`[${this.getBitsAttr("item")}]:not([data-disabled])`)):[]}setHighlightedToFirstCandidate(e={debounced:!1}){if(e.debounced){this.#n();return}this.setHighlightedNode(null);const s=this.getCandidateNodes();s.length&&this.setHighlightedNode(s[0])}getNodeByValue(e){return this.getCandidateNodes().find(n=>n.dataset.value===e)??null}setOpen(e){this.opts.open.current=e}toggleOpen(){this.opts.open.current=!this.opts.open.current}handleOpen(){this.setOpen(!0)}handleClose(){this.setHighlightedNode(null),this.setOpen(!1)}toggleMenu(){this.toggleOpen()}getBitsAttr=e=>Cr.getAttr(e,this.isCombobox?"combobox":void 0)}class Sr extends sn{opts;isMulti=!1;#e=B(()=>this.opts.value.current!=="");get hasValue(){return this.#e()}set hasValue(e){return this.#e(e)}#t=B(()=>this.opts.items.current.length?this.opts.items.current.find(s=>s.value===this.opts.value.current)?.label??"":"");get currentLabel(){return this.#t()}set currentLabel(e){return this.#t(e)}#s=B(()=>this.opts.items.current.length?this.opts.items.current.filter(s=>!s.disabled).map(s=>s.label):[]);get candidateLabels(){return this.#s()}set candidateLabels(e){return this.#s(e)}#n=B(()=>!(this.isMulti||this.opts.items.current.length===0));get dataTypeaheadEnabled(){return this.#n()}set dataTypeaheadEnabled(e){return this.#n(e)}constructor(e){super(e),this.opts=e,ee(()=>this.opts.open.current,()=>{this.opts.open.current&&this.setInitialHighlightedNode()})}includesItem(e){return this.opts.value.current===e}toggleItem(e,s=e){this.opts.value.current=this.includesItem(e)?"":e,this.opts.inputValue.current=s}setInitialHighlightedNode(){de(()=>{if(this.highlightedNode&&this.domContext.getDocument().contains(this.highlightedNode))return;if(this.opts.value.current!==""){const s=this.getNodeByValue(this.opts.value.current);if(s){this.setHighlightedNode(s,!0);return}}const e=this.getCandidateNodes()[0];e&&this.setHighlightedNode(e,!0)})}}class kr extends sn{opts;isMulti=!0;#e=B(()=>this.opts.value.current.length>0);get hasValue(){return this.#e()}set hasValue(e){return this.#e(e)}constructor(e){super(e),this.opts=e,ee(()=>this.opts.open.current,()=>{this.opts.open.current&&this.setInitialHighlightedNode()})}includesItem(e){return this.opts.value.current.includes(e)}toggleItem(e,s=e){this.includesItem(e)?this.opts.value.current=this.opts.value.current.filter(n=>n!==e):this.opts.value.current=[...this.opts.value.current,e],this.opts.inputValue.current=s}setInitialHighlightedNode(){de(()=>{if(!this.domContext||this.highlightedNode&&this.domContext.getDocument().contains(this.highlightedNode))return;if(this.opts.value.current.length&&this.opts.value.current[0]!==""){const s=this.getNodeByValue(this.opts.value.current[0]);if(s){this.setHighlightedNode(s,!0);return}}const e=this.getCandidateNodes()[0];e&&this.setHighlightedNode(e,!0)})}}class _r{static create(e){const{type:s,...n}=e,o=s==="single"?new Sr(n):new kr(n);return Ve.set(o)}}class Kt{static create(e){return new Kt(e,Ve.get())}opts;root;attachment;#e;#t;constructor(e,s){this.opts=e,this.root=s,this.attachment=ie(e.ref,n=>this.root.triggerNode=n),this.root.domContext=new tt(e.ref),this.#e=new tn({getCurrentItem:()=>this.root.highlightedNode,onMatch:n=>{this.root.setHighlightedNode(n)},getActiveElement:()=>this.root.domContext.getActiveElement(),getWindow:()=>this.root.domContext.getWindow()}),this.#t=new vr({getCurrentItem:()=>this.root.isMulti?"":this.root.currentLabel,onMatch:n=>{if(this.root.isMulti||!this.root.opts.items.current)return;const o=this.root.opts.items.current.find(i=>i.label===n);o&&(this.root.opts.value.current=o.value)},enabled:()=>!this.root.isMulti&&this.root.dataTypeaheadEnabled,candidateValues:()=>this.root.isMulti?[]:this.root.candidateLabels,getWindow:()=>this.root.domContext.getWindow()}),this.onkeydown=this.onkeydown.bind(this),this.onpointerdown=this.onpointerdown.bind(this),this.onpointerup=this.onpointerup.bind(this),this.onclick=this.onclick.bind(this)}#s(){this.root.opts.open.current=!0,this.#t.resetTypeahead(),this.#e.resetTypeahead()}#n(e){this.#s()}#o(){const e=this.root.highlightedValue===this.root.opts.value.current;return!this.root.opts.allowDeselect.current&&e&&!this.root.isMulti?(this.root.handleClose(),!0):(this.root.highlightedValue!==null&&this.root.toggleItem(this.root.highlightedValue,this.root.highlightedLabel??void 0),!this.root.isMulti&&!e?(this.root.handleClose(),!0):!1)}onkeydown(e){if(this.root.isUsingKeyboard=!0,(e.key===he||e.key===ae)&&e.preventDefault(),!this.root.opts.open.current){if(e.key===Te||e.key===we||e.key===ae||e.key===he)e.preventDefault(),this.root.handleOpen();else if(!this.root.isMulti&&this.root.dataTypeaheadEnabled){this.#t.handleTypeaheadSearch(e.key);return}if(this.root.hasValue)return;const r=this.root.getCandidateNodes();if(!r.length)return;if(e.key===ae){const c=r[0];this.root.setHighlightedNode(c)}else if(e.key===he){const c=r[r.length-1];this.root.setHighlightedNode(c)}return}if(e.key===mt){this.root.handleClose();return}if((e.key===Te||e.key===we&&this.#e.search==="")&&!e.isComposing&&(e.preventDefault(),this.#o()))return;if(e.key===he&&e.altKey&&this.root.handleClose(),wr.includes(e.key)){e.preventDefault();const r=this.root.getCandidateNodes(),c=this.root.highlightedNode,h=c?r.indexOf(c):-1,l=this.root.opts.loop.current;let u;if(e.key===ae?u=rr(r,h,l):e.key===he?u=ir(r,h,l):e.key===Nt?u=ur(r,h,10,l):e.key===Pt?u=lr(r,h,10,l):e.key===$e?u=r[0]:e.key===ye&&(u=r[r.length-1]),!u)return;this.root.setHighlightedNode(u);return}const s=e.ctrlKey||e.altKey||e.metaKey,n=e.key.length===1,o=e.key===we,i=this.root.getCandidateNodes();if(e.key!==mt){if(!s&&(n||o)){!this.#e.handleTypeaheadSearch(e.key,i)&&o&&(e.preventDefault(),this.#o());return}this.root.highlightedNode||this.root.setHighlightedToFirstCandidate()}}onclick(e){e.currentTarget.focus()}onpointerdown(e){if(this.root.opts.disabled.current)return;if(e.pointerType==="touch")return e.preventDefault();const s=e.target;s?.hasPointerCapture(e.pointerId)&&s?.releasePointerCapture(e.pointerId),e.button===0&&e.ctrlKey===!1&&(this.root.opts.open.current===!1?this.#n(e):this.root.handleClose())}onpointerup(e){this.root.opts.disabled.current||(e.preventDefault(),e.pointerType==="touch"&&(this.root.opts.open.current===!1?this.#n(e):this.root.handleClose()))}#r=B(()=>({id:this.opts.id.current,disabled:this.root.opts.disabled.current?!0:void 0,"aria-haspopup":"listbox","aria-expanded":_t(this.root.opts.open.current),"aria-activedescendant":this.root.highlightedId,"data-state":Ne(this.root.opts.open.current),"data-disabled":_e(this.root.opts.disabled.current),"data-placeholder":this.root.hasValue?void 0:"",[this.root.getBitsAttr("trigger")]:"",onpointerdown:this.onpointerdown,onkeydown:this.onkeydown,onclick:this.onclick,onpointerup:this.onpointerup,...this.attachment}));get props(){return this.#r()}set props(e){return this.#r(e)}}class Vt{static create(e){return ht.set(new Vt(e,Ve.get()))}opts;root;attachment;viewportNode=null;isPositioned=!1;domContext;constructor(e,s){this.opts=e,this.root=s,this.attachment=ie(e.ref,n=>this.root.contentNode=n),this.domContext=new tt(this.opts.ref),this.root.domContext===null&&(this.root.domContext=this.domContext),ee(()=>this.root.opts.open.current,()=>{this.root.opts.open.current||(this.isPositioned=!1)}),this.onpointermove=this.onpointermove.bind(this)}onpointermove(e){this.root.isUsingKeyboard=!1}#e=B(()=>je(this.root.isCombobox?"combobox":"select"));onInteractOutside=e=>{if(e.target===this.root.triggerNode||e.target===this.root.inputNode){e.preventDefault();return}this.opts.onInteractOutside.current(e),!e.defaultPrevented&&this.root.handleClose()};onEscapeKeydown=e=>{this.opts.onEscapeKeydown.current(e),!e.defaultPrevented&&this.root.handleClose()};onOpenAutoFocus=e=>{e.preventDefault()};onCloseAutoFocus=e=>{e.preventDefault()};#t=B(()=>({open:this.root.opts.open.current}));get snippetProps(){return this.#t()}set snippetProps(e){return this.#t(e)}#s=B(()=>({id:this.opts.id.current,role:"listbox","aria-multiselectable":this.root.isMulti?"true":void 0,"data-state":Ne(this.root.opts.open.current),[this.root.getBitsAttr("content")]:"",style:{display:"flex",flexDirection:"column",outline:"none",boxSizing:"border-box",pointerEvents:"auto",...this.#e()},onpointermove:this.onpointermove,...this.attachment}));get props(){return this.#s()}set props(e){return this.#s(e)}popperProps={onInteractOutside:this.onInteractOutside,onEscapeKeydown:this.onEscapeKeydown,onOpenAutoFocus:this.onOpenAutoFocus,onCloseAutoFocus:this.onCloseAutoFocus,trapFocus:!1,loop:!1,onPlaced:()=>{this.root.opts.open.current&&(this.isPositioned=!0)}}}class Ht{static create(e){return new Ht(e,Ve.get())}opts;root;attachment;#e=B(()=>this.root.includesItem(this.opts.value.current));get isSelected(){return this.#e()}set isSelected(e){return this.#e(e)}#t=B(()=>this.root.highlightedValue===this.opts.value.current);get isHighlighted(){return this.#t()}set isHighlighted(e){return this.#t(e)}prevHighlighted=new no(()=>this.isHighlighted);mounted=!1;constructor(e,s){this.opts=e,this.root=s,this.attachment=ie(e.ref),ee([()=>this.isHighlighted,()=>this.prevHighlighted.current],()=>{this.isHighlighted?this.opts.onHighlight.current():this.prevHighlighted.current&&this.opts.onUnhighlight.current()}),ee(()=>this.mounted,()=>{this.mounted&&this.root.setInitialHighlightedNode()}),this.onpointerdown=this.onpointerdown.bind(this),this.onpointerup=this.onpointerup.bind(this),this.onpointermove=this.onpointermove.bind(this)}handleSelect(){if(this.opts.disabled.current)return;const e=this.opts.value.current===this.root.opts.value.current;if(!this.root.opts.allowDeselect.current&&e&&!this.root.isMulti){this.root.handleClose();return}this.root.toggleItem(this.opts.value.current,this.opts.label.current),!this.root.isMulti&&!e&&this.root.handleClose()}#s=B(()=>({selected:this.isSelected,highlighted:this.isHighlighted}));get snippetProps(){return this.#s()}set snippetProps(e){return this.#s(e)}onpointerdown(e){e.preventDefault()}onpointerup(e){if(!(e.defaultPrevented||!this.opts.ref.current)){if(e.pointerType==="touch"&&!oo){Et(this.opts.ref.current,"click",()=>{this.handleSelect(),this.root.setHighlightedNode(this.opts.ref.current)},{once:!0});return}e.preventDefault(),this.handleSelect(),e.pointerType==="touch"&&this.root.setHighlightedNode(this.opts.ref.current)}}onpointermove(e){e.pointerType!=="touch"&&this.root.highlightedNode!==this.opts.ref.current&&this.root.setHighlightedNode(this.opts.ref.current)}#n=B(()=>({id:this.opts.id.current,role:"option","aria-selected":this.root.includesItem(this.opts.value.current)?"true":void 0,"data-value":this.opts.value.current,"data-disabled":_e(this.opts.disabled.current),"data-highlighted":this.root.highlightedValue===this.opts.value.current&&!this.opts.disabled.current?"":void 0,"data-selected":this.root.includesItem(this.opts.value.current)?"":void 0,"data-label":this.opts.label.current,[this.root.getBitsAttr("item")]:"",onpointermove:this.onpointermove,onpointerdown:this.onpointerdown,onpointerup:this.onpointerup,...this.attachment}));get props(){return this.#n()}set props(e){return this.#n(e)}}class Wt{static create(e){return new Wt(e,Ve.get())}opts;root;#e=B(()=>this.root.opts.name.current!=="");get shouldRender(){return this.#e()}set shouldRender(e){return this.#e(e)}constructor(e,s){this.opts=e,this.root=s,this.onfocus=this.onfocus.bind(this)}onfocus(e){e.preventDefault(),this.root.isCombobox?this.root.inputNode?.focus():this.root.triggerNode?.focus()}#t=B(()=>({disabled:uo(this.root.opts.disabled.current),required:io(this.root.opts.required.current),name:this.root.opts.name.current,value:this.opts.value.current,onfocus:this.onfocus}));get props(){return this.#t()}set props(e){return this.#t(e)}}class Gt{static create(e){return new Gt(e,ht.get())}opts;content;root;attachment;prevScrollTop=0;constructor(e,s){this.opts=e,this.content=s,this.root=s.root,this.attachment=ie(e.ref,n=>this.content.viewportNode=n)}#e=B(()=>({id:this.opts.id.current,role:"presentation",[this.root.getBitsAttr("viewport")]:"",style:{position:"relative",flex:1,overflow:"auto"},...this.attachment}));get props(){return this.#e()}set props(e){return this.#e(e)}}class nn{opts;content;root;attachment;autoScrollTimer=null;userScrollTimer=-1;isUserScrolling=!1;onAutoScroll=y;mounted=!1;constructor(e,s){this.opts=e,this.content=s,this.root=s.root,this.attachment=ie(e.ref),ee([()=>this.mounted],()=>{if(!this.mounted){this.isUserScrolling=!1;return}this.isUserScrolling}),this.onpointerdown=this.onpointerdown.bind(this),this.onpointermove=this.onpointermove.bind(this),this.onpointerleave=this.onpointerleave.bind(this)}handleUserScroll(){this.content.domContext.clearTimeout(this.userScrollTimer),this.isUserScrolling=!0,this.userScrollTimer=this.content.domContext.setTimeout(()=>{this.isUserScrolling=!1},200)}clearAutoScrollInterval(){this.autoScrollTimer!==null&&(this.content.domContext.clearTimeout(this.autoScrollTimer),this.autoScrollTimer=null)}onpointerdown(e){if(this.autoScrollTimer!==null)return;const s=n=>{this.onAutoScroll(),this.autoScrollTimer=this.content.domContext.setTimeout(()=>s(n+1),this.opts.delay.current(n))};this.autoScrollTimer=this.content.domContext.setTimeout(()=>s(1),this.opts.delay.current(0))}onpointermove(e){this.onpointerdown(e)}onpointerleave(e){this.clearAutoScrollInterval()}#e=B(()=>({id:this.opts.id.current,"aria-hidden":lo(!0),style:{flexShrink:0},onpointerdown:this.onpointerdown,onpointermove:this.onpointermove,onpointerleave:this.onpointerleave,...this.attachment}));get props(){return this.#e()}set props(e){return this.#e(e)}}class qt{static create(e){return new qt(new nn(e,ht.get()))}scrollButtonState;content;root;canScrollDown=!1;scrollIntoViewTimer=null;constructor(e){this.scrollButtonState=e,this.content=e.content,this.root=e.root,this.scrollButtonState.onAutoScroll=this.handleAutoScroll,ee([()=>this.content.viewportNode,()=>this.content.isPositioned],()=>{if(!(!this.content.viewportNode||!this.content.isPositioned))return this.handleScroll(!0),Et(this.content.viewportNode,"scroll",()=>this.handleScroll())}),ee(()=>this.scrollButtonState.mounted,()=>{this.scrollButtonState.mounted&&(this.scrollIntoViewTimer&&clearTimeout(this.scrollIntoViewTimer),this.scrollIntoViewTimer=co(5,()=>{this.root.highlightedNode?.scrollIntoView({block:this.root.opts.scrollAlignment.current})}))})}handleScroll=(e=!1)=>{if(e||this.scrollButtonState.handleUserScroll(),!this.content.viewportNode)return;const s=this.content.viewportNode.scrollHeight-this.content.viewportNode.clientHeight,n=Number.parseInt(getComputedStyle(this.content.viewportNode).paddingTop,10);this.canScrollDown=Math.ceil(this.content.viewportNode.scrollTop)<s-n};handleAutoScroll=()=>{const e=this.content.viewportNode,s=this.root.highlightedNode;!e||!s||(e.scrollTop=e.scrollTop+s.offsetHeight)};#e=B(()=>({...this.scrollButtonState.props,[this.root.getBitsAttr("scroll-down-button")]:""}));get props(){return this.#e()}set props(e){return this.#e(e)}}class Yt{static create(e){return new Yt(new nn(e,ht.get()))}scrollButtonState;content;root;canScrollUp=!1;constructor(e){this.scrollButtonState=e,this.content=e.content,this.root=e.root,this.scrollButtonState.onAutoScroll=this.handleAutoScroll,ee([()=>this.content.viewportNode,()=>this.content.isPositioned],()=>{if(!(!this.content.viewportNode||!this.content.isPositioned))return this.handleScroll(!0),Et(this.content.viewportNode,"scroll",()=>this.handleScroll())})}handleScroll=(e=!1)=>{if(e||this.scrollButtonState.handleUserScroll(),!this.content.viewportNode)return;const s=Number.parseInt(getComputedStyle(this.content.viewportNode).paddingTop,10);this.canScrollUp=this.content.viewportNode.scrollTop-s>.1};handleAutoScroll=()=>{!this.content.viewportNode||!this.root.highlightedNode||(this.content.viewportNode.scrollTop=this.content.viewportNode.scrollTop-this.root.highlightedNode.offsetHeight)};#e=B(()=>({...this.scrollButtonState.props,[this.root.getBitsAttr("scroll-up-button")]:""}));get props(){return this.#e()}set props(e){return this.#e(e)}}function ws(t,e){S();let{value:s="",autocomplete:n}=e;const o=Wt.create({value:_.with(()=>s)});let i=!0,r;function c(h){o.shouldRender?(h.out.push("<!--[-->"),en(h,E([o.props,{autocomplete:n,get value(){return s},set value(l){s=l,i=!1}}]))):h.out.push("<!--[!-->"),h.out.push("<!--]-->")}do i=!0,r=H(t),c(r);while(!i);W(t,r),R(e,{value:s}),k()}function Xt(t,e){S();let{id:s,children:n,virtualEl:o,ref:i,tooltip:r=!1}=e;zo.create({id:_.with(()=>s),virtualEl:_.with(()=>o),ref:i},r),n?.(t),t.out.push("<!---->"),k()}function Pr(t,e){S();let{id:s=Mt(),children:n,child:o,width:i=10,height:r=5,$$slots:c,$$events:h,...l}=e;const u=Y(l,{id:s});o?(t.out.push("<!--[-->"),o(t,{props:u}),t.out.push("<!---->")):(t.out.push("<!--[!-->"),t.out.push(`<span${G({...u},null)}>`),n?(t.out.push("<!--[-->"),n?.(t),t.out.push("<!---->")):(t.out.push("<!--[!-->"),t.out.push(`<svg${X("width",i)}${X("height",r)} viewBox="0 0 30 10" preserveAspectRatio="none" data-arrow=""><polygon points="0,0 30,0 15,10" fill="currentColor"></polygon></svg>`)),t.out.push("<!--]--></span>")),t.out.push("<!--]-->"),k()}function Nr(t,e){S();let{id:s=Mt(),ref:n=null,$$slots:o,$$events:i,...r}=e;const c=Uo.create({id:_.with(()=>s),ref:_.with(()=>n,l=>n=l)}),h=Y(r,c.props);Pr(t,E([h])),R(e,{ref:n}),k()}function Mr(t,e){S();let{content:s,side:n="bottom",sideOffset:o=0,align:i="center",alignOffset:r=0,id:c,arrowPadding:h=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:a=0,hideWhenDetached:f=!1,onPlaced:g=()=>{},sticky:p="partial",updatePositionStrategy:d="optimized",strategy:v="fixed",dir:T="ltr",style:m={},wrapperId:x=Mt(),customAnchor:C=null,enabled:w,tooltip:b=!1}=e;const N=Lo.create({side:_.with(()=>n),sideOffset:_.with(()=>o),align:_.with(()=>i),alignOffset:_.with(()=>r),id:_.with(()=>c),arrowPadding:_.with(()=>h),avoidCollisions:_.with(()=>l),collisionBoundary:_.with(()=>u),collisionPadding:_.with(()=>a),hideWhenDetached:_.with(()=>f),onPlaced:_.with(()=>g),sticky:_.with(()=>p),updatePositionStrategy:_.with(()=>d),strategy:_.with(()=>v),dir:_.with(()=>T),style:_.with(()=>m),enabled:_.with(()=>w),wrapperId:_.with(()=>x),customAnchor:_.with(()=>C)},b),P=Y(N.wrapperProps,{style:{pointerEvents:"auto"}});s?.(t,{props:N.props,wrapperProps:P}),t.out.push("<!---->"),k()}function Tr(t,e){S();let{content:s}=e;s?.(t,{props:{},wrapperProps:{}}),t.out.push("<!---->"),k()}function Fr(t,e){let{content:s,isStatic:n=!1,onPlaced:o,$$slots:i,$$events:r,...c}=e;n?(t.out.push("<!--[-->"),Tr(t,{content:s})):(t.out.push("<!--[!-->"),Mr(t,E([{content:s,onPlaced:o},c]))),t.out.push("<!--]-->")}function on(t,e){S();let{popper:s,onEscapeKeydown:n,escapeKeydownBehavior:o,preventOverflowTextSelection:i,id:r,onPointerDown:c,onPointerUp:h,side:l,sideOffset:u,align:a,alignOffset:f,arrowPadding:g,avoidCollisions:p,collisionBoundary:d,collisionPadding:v,sticky:T,hideWhenDetached:m,updatePositionStrategy:x,strategy:C,dir:w,preventScroll:b,wrapperId:N,style:P,onPlaced:M,onInteractOutside:A,onCloseAutoFocus:L,onOpenAutoFocus:j,onFocusOutside:U,interactOutsideBehavior:D="close",loop:O,trapFocus:F=!0,isValidEvent:$=()=>!1,customAnchor:Q=null,isStatic:Ie=!1,enabled:le,ref:fe,tooltip:dt=!1,$$slots:pt,$$events:cs,...De}=e;Fr(t,{isStatic:Ie,id:r,side:l,sideOffset:u,align:a,alignOffset:f,arrowPadding:g,avoidCollisions:p,collisionBoundary:d,collisionPadding:v,sticky:T,hideWhenDetached:m,updatePositionStrategy:x,strategy:C,dir:w,wrapperId:N,style:P,onPlaced:M,customAnchor:Q,enabled:le,tooltip:dt,content:function(ce,{props:Dn,wrapperProps:En}){De.forceMount&&le?(ce.out.push("<!--[-->"),fs(ce,{preventScroll:b})):(ce.out.push("<!--[!-->"),De.forceMount?ce.out.push("<!--[!-->"):(ce.out.push("<!--[-->"),fs(ce,{preventScroll:b})),ce.out.push("<!--]-->")),ce.out.push("<!--]--> ");{let An=function(On,{props:Rn}){ao(On,{onEscapeKeydown:n,escapeKeydownBehavior:o,enabled:le,ref:fe,children:zn=>{po(zn,{id:r,onInteractOutside:A,onFocusOutside:U,interactOutsideBehavior:D,isValidEvent:$,enabled:le,ref:fe,children:function(Un,{props:Ln}){fo(Un,{id:r,preventOverflowTextSelection:i,onPointerDown:c,onPointerUp:h,enabled:le,ref:fe,children:as=>{s?.(as,{props:Y(De,Dn,Ln,Rn,{style:{pointerEvents:"auto"}}),wrapperProps:En}),as.out.push("<!---->")}})}})}})};ho(ce,{onOpenAutoFocus:j,onCloseAutoFocus:L,loop:O,enabled:le,trapFocus:F,forceMount:De.forceMount,ref:fe,focusScope:An})}ce.out.push("<!---->")},$$slots:{content:!0}}),k()}function Jt(t,e){let{popper:s,open:n,onEscapeKeydown:o,escapeKeydownBehavior:i,preventOverflowTextSelection:r,id:c,onPointerDown:h,onPointerUp:l,side:u,sideOffset:a,align:f,alignOffset:g,arrowPadding:p,avoidCollisions:d,collisionBoundary:v,collisionPadding:T,sticky:m,hideWhenDetached:x,updatePositionStrategy:C,strategy:w,dir:b,preventScroll:N,wrapperId:P,style:M,onPlaced:A,onInteractOutside:L,onCloseAutoFocus:j,onOpenAutoFocus:U,onFocusOutside:D,interactOutsideBehavior:O="close",loop:F,trapFocus:$=!0,isValidEvent:Q=()=>!1,customAnchor:Ie=null,isStatic:le=!1,ref:fe,$$slots:dt,$$events:pt,...cs}=e;Us(t,{open:n,ref:fe,presence:function(hs){on(hs,E([{popper:s,onEscapeKeydown:o,escapeKeydownBehavior:i,preventOverflowTextSelection:r,id:c,onPointerDown:h,onPointerUp:l,side:u,sideOffset:a,align:f,alignOffset:g,arrowPadding:p,avoidCollisions:d,collisionBoundary:v,collisionPadding:T,sticky:m,hideWhenDetached:x,updatePositionStrategy:C,strategy:w,dir:b,preventScroll:N,wrapperId:P,style:M,onPlaced:A,customAnchor:Ie,isStatic:le,enabled:n,onInteractOutside:L,onCloseAutoFocus:j,onOpenAutoFocus:U,interactOutsideBehavior:O,loop:F,trapFocus:$,isValidEvent:Q,onFocusOutside:D,forceMount:!1,ref:fe},cs]))}})}function Zt(t,e){let{popper:s,onEscapeKeydown:n,escapeKeydownBehavior:o,preventOverflowTextSelection:i,id:r,onPointerDown:c,onPointerUp:h,side:l,sideOffset:u,align:a,alignOffset:f,arrowPadding:g,avoidCollisions:p,collisionBoundary:d,collisionPadding:v,sticky:T,hideWhenDetached:m,updatePositionStrategy:x,strategy:C,dir:w,preventScroll:b,wrapperId:N,style:P,onPlaced:M,onInteractOutside:A,onCloseAutoFocus:L,onOpenAutoFocus:j,onFocusOutside:U,interactOutsideBehavior:D="close",loop:O,trapFocus:F=!0,isValidEvent:$=()=>!1,customAnchor:Q=null,isStatic:Ie=!1,enabled:le,$$slots:fe,$$events:dt,...pt}=e;on(t,E([{popper:s,onEscapeKeydown:n,escapeKeydownBehavior:o,preventOverflowTextSelection:i,id:r,onPointerDown:c,onPointerUp:h,side:l,sideOffset:u,align:a,alignOffset:f,arrowPadding:g,avoidCollisions:p,collisionBoundary:d,collisionPadding:v,sticky:T,hideWhenDetached:m,updatePositionStrategy:x,strategy:C,dir:w,preventScroll:b,wrapperId:N,style:P,onPlaced:M,customAnchor:Q,isStatic:Ie,enabled:le,onInteractOutside:A,onCloseAutoFocus:L,onOpenAutoFocus:j,interactOutsideBehavior:D,loop:O,trapFocus:F,isValidEvent:$,onFocusOutside:U},pt,{forceMount:!0}]))}function Ir(t,e){S();const s=se(t);let{id:n=ne(s),ref:o=null,forceMount:i=!1,side:r="bottom",onInteractOutside:c=y,onEscapeKeydown:h=y,children:l,child:u,preventScroll:a=!1,$$slots:f,$$events:g,...p}=e;const d=Vt.create({id:_.with(()=>n),ref:_.with(()=>o,T=>o=T),onInteractOutside:_.with(()=>c),onEscapeKeydown:_.with(()=>h)}),v=Y(p,d.props);if(i){t.out.push("<!--[-->");{let T=function(m,{props:x,wrapperProps:C}){const w=Y(x,{style:d.props.style});u?(m.out.push("<!--[-->"),u(m,{props:w,wrapperProps:C,...d.snippetProps}),m.out.push("<!---->")):(m.out.push("<!--[!-->"),m.out.push(`<div${G({...C},null)}><div${G({...w},null)}>`),l?.(m),m.out.push("<!----></div></div>")),m.out.push("<!--]-->")};Zt(t,E([v,d.popperProps,{ref:d.opts.ref,side:r,enabled:d.root.opts.open.current,id:n,preventScroll:a,forceMount:!0,popper:T,$$slots:{popper:!0}}]))}}else{if(t.out.push("<!--[!-->"),i)t.out.push("<!--[!-->");else{t.out.push("<!--[-->");{let T=function(m,{props:x,wrapperProps:C}){const w=Y(x,{style:d.props.style});u?(m.out.push("<!--[-->"),u(m,{props:w,wrapperProps:C,...d.snippetProps}),m.out.push("<!---->")):(m.out.push("<!--[!-->"),m.out.push(`<div${G({...C},null)}><div${G({...w},null)}>`),l?.(m),m.out.push("<!----></div></div>")),m.out.push("<!--]-->")};Jt(t,E([v,d.popperProps,{ref:d.opts.ref,side:r,open:d.root.opts.open.current,id:n,preventScroll:a,forceMount:!1,popper:T,$$slots:{popper:!0}}]))}}t.out.push("<!--]-->")}t.out.push("<!--]-->"),R(e,{ref:o}),k()}function Qt(t,e){S();let{mounted:s=!1,onMountedChange:n=y}=e;R(e,{mounted:s}),k()}function Dr(t,e){S();const s=se(t);let{id:n=ne(s),ref:o=null,value:i,label:r=i,disabled:c=!1,children:h,child:l,onHighlight:u=y,onUnhighlight:a=y,$$slots:f,$$events:g,...p}=e;const d=Ht.create({id:_.with(()=>n),ref:_.with(()=>o,C=>o=C),value:_.with(()=>i),disabled:_.with(()=>c),label:_.with(()=>r),onHighlight:_.with(()=>u),onUnhighlight:_.with(()=>a)}),v=Y(p,d.props);let T=!0,m;function x(C){l?(C.out.push("<!--[-->"),l(C,{props:v,...d.snippetProps}),C.out.push("<!---->")):(C.out.push("<!--[!-->"),C.out.push(`<div${G({...v},null)}>`),h?.(C,d.snippetProps),C.out.push("<!----></div>")),C.out.push("<!--]--> "),Qt(C,{get mounted(){return d.mounted},set mounted(w){d.mounted=w,T=!1}}),C.out.push("<!---->")}do T=!0,m=H(t),x(m);while(!T);W(t,m),R(e,{ref:o}),k()}function Er(t,e){S();const s=se(t);let{id:n=ne(s),ref:o=null,children:i,child:r,$$slots:c,$$events:h,...l}=e;const u=Gt.create({id:_.with(()=>n),ref:_.with(()=>o,f=>o=f)}),a=Y(l,u.props);r?(t.out.push("<!--[-->"),r(t,{props:a}),t.out.push("<!---->")):(t.out.push("<!--[!-->"),t.out.push(`<div${G({...a},null)}>`),i?.(t),t.out.push("<!----></div>")),t.out.push("<!--]-->"),R(e,{ref:o}),k()}function Ar(t,e){S();const s=se(t);let{id:n=ne(s),ref:o=null,delay:i=()=>50,child:r,children:c,$$slots:h,$$events:l,...u}=e;const a=qt.create({id:_.with(()=>n),ref:_.with(()=>o,v=>o=v),delay:_.with(()=>i)}),f=Y(u,a.props);let g=!0,p;function d(v){a.canScrollDown?(v.out.push("<!--[-->"),Qt(v,{get mounted(){return a.scrollButtonState.mounted},set mounted(T){a.scrollButtonState.mounted=T,g=!1}}),v.out.push("<!----> "),r?(v.out.push("<!--[-->"),r(v,{props:u}),v.out.push("<!---->")):(v.out.push("<!--[!-->"),v.out.push(`<div${G({...f},null)}>`),c?.(v),v.out.push("<!----></div>")),v.out.push("<!--]-->")):v.out.push("<!--[!-->"),v.out.push("<!--]-->")}do g=!0,p=H(t),d(p);while(!g);W(t,p),R(e,{ref:o}),k()}function Or(t,e){S();const s=se(t);let{id:n=ne(s),ref:o=null,delay:i=()=>50,child:r,children:c,$$slots:h,$$events:l,...u}=e;const a=Yt.create({id:_.with(()=>n),ref:_.with(()=>o,v=>o=v),delay:_.with(()=>i)}),f=Y(u,a.props);let g=!0,p;function d(v){a.canScrollUp?(v.out.push("<!--[-->"),Qt(v,{get mounted(){return a.scrollButtonState.mounted},set mounted(T){a.scrollButtonState.mounted=T,g=!1}}),v.out.push("<!----> "),r?(v.out.push("<!--[-->"),r(v,{props:u}),v.out.push("<!---->")):(v.out.push("<!--[!-->"),v.out.push(`<div${G({...f},null)}>`),c?.(v),v.out.push("<!----></div>")),v.out.push("<!--]-->")):v.out.push("<!--[!-->"),v.out.push("<!--]-->")}do g=!0,p=H(t),d(p);while(!g);W(t,p),R(e,{ref:o}),k()}const Rr=[Te,we],zr=[ae,Pt,$e],rn=[he,Nt,ye],Ur=[...zr,...rn];function Cs(t){return t.pointerType==="mouse"}function Lr(t,{select:e=!1}={}){if(!t||!t.focus)return;const s=Tt(t);if(s.activeElement===t)return;const n=s.activeElement;t.focus({preventScroll:!0}),t!==n&&go(t)&&e&&t.select()}function Br(t,{select:e=!1}={},s){const n=s();for(const o of t)if(Lr(o,{select:e}),s()!==n)return!0}function Le(){return{getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"}}function jr(t,e){if(!Dt(t,Le()))return Kr(t,e);const s=Tt(t),n=Ao(s.body,Le());e==="prev"&&n.reverse();const o=n.indexOf(t);return o===-1?s.body:n.slice(o+1)[0]}function Kr(t,e){const s=Tt(t);if(!Oo(t,Le()))return s.body;const n=Ro(s.body,Le());e==="prev"&&n.reverse();const o=n.indexOf(t);return o===-1?s.body:n.slice(o+1).find(r=>Dt(r,Le()))??s.body}const Vr=new ke("Menu.Root"),yt=new ke("Menu.Root | Menu.Sub"),un=new ke("Menu.Content"),Hr=new vo("bitsmenuopen",{bubbles:!1,cancelable:!0}),Wr=et({component:"menu",parts:["trigger","content","sub-trigger","item","group","group-heading","checkbox-group","checkbox-item","radio-group","radio-item","separator","sub-content","arrow"]});class $t{static create(e){const s=new $t(e);return Vr.set(s)}opts;isUsingKeyboard=new ti;ignoreCloseAutoFocus=!1;isPointerInTransit=!1;constructor(e){this.opts=e}getBitsAttr=e=>Wr.getAttr(e,this.opts.variant.current)}class es{static create(e,s){return yt.set(new es(e,s,null))}opts;root;parentMenu;contentId=_.with(()=>"");contentNode=null;triggerNode=null;constructor(e,s,n){this.opts=e,this.root=s,this.parentMenu=n,new kt({ref:_.with(()=>this.contentNode),open:this.opts.open,onComplete:()=>{this.opts.onOpenChangeComplete.current(this.opts.open.current)}}),n&&ee(()=>n.opts.open.current,()=>{n.opts.open.current||(this.opts.open.current=!1)})}toggleOpen(){this.opts.open.current=!this.opts.open.current}onOpen(){this.opts.open.current=!0}onClose(){this.opts.open.current=!1}}class ts{static create(e){return un.set(new ts(e,yt.get()))}opts;parentMenu;rovingFocusGroup;domContext;attachment;search="";#e=0;#t;mounted=!1;#s;constructor(e,s){this.opts=e,this.parentMenu=s,this.domContext=new tt(e.ref),this.attachment=ie(this.opts.ref,n=>{this.parentMenu.contentNode!==n&&(this.parentMenu.contentNode=n)}),s.contentId=e.id,this.#s=e.isSub??!1,this.onkeydown=this.onkeydown.bind(this),this.onblur=this.onblur.bind(this),this.onfocus=this.onfocus.bind(this),this.handleInteractOutside=this.handleInteractOutside.bind(this),new Bo({contentNode:()=>this.parentMenu.contentNode,triggerNode:()=>this.parentMenu.triggerNode,enabled:()=>this.parentMenu.opts.open.current&&!!this.parentMenu.triggerNode?.hasAttribute(this.parentMenu.root.getBitsAttr("sub-trigger")),onPointerExit:()=>{this.parentMenu.opts.open.current=!1},setIsPointerInTransit:n=>{this.parentMenu.root.isPointerInTransit=n}}),this.#t=new tn({getActiveElement:()=>this.domContext.getActiveElement(),getWindow:()=>this.domContext.getWindow()}).handleTypeaheadSearch,this.rovingFocusGroup=new or({rootNode:_.with(()=>this.parentMenu.contentNode),candidateAttr:this.parentMenu.root.getBitsAttr("item"),loop:this.opts.loop,orientation:_.with(()=>"vertical")}),ee(()=>this.parentMenu.contentNode,n=>{if(!n)return;const o=()=>{de(()=>{this.parentMenu.root.isUsingKeyboard.current&&this.rovingFocusGroup.focusFirstCandidate()})};return Hr.listen(n,o)})}#n(){const e=this.parentMenu.contentNode;return e?Array.from(e.querySelectorAll(`[${this.parentMenu.root.getBitsAttr("item")}]:not([data-disabled])`)):[]}#o(){return this.parentMenu.root.isPointerInTransit}onCloseAutoFocus=e=>{this.opts.onCloseAutoFocus.current(e),!(e.defaultPrevented||this.#s)&&this.parentMenu.triggerNode&&Dt(this.parentMenu.triggerNode)&&this.parentMenu.triggerNode.focus()};handleTabKeyDown(e){let s=this.parentMenu;for(;s.parentMenu!==null;)s=s.parentMenu;if(!s.triggerNode)return;e.preventDefault();const n=jr(s.triggerNode,e.shiftKey?"prev":"next");n?(this.parentMenu.root.ignoreCloseAutoFocus=!0,s.onClose(),de(()=>{n.focus(),de(()=>{this.parentMenu.root.ignoreCloseAutoFocus=!1})})):this.domContext.getDocument().body.focus()}onkeydown(e){if(e.defaultPrevented)return;if(e.key===mt){this.handleTabKeyDown(e);return}const s=e.target,n=e.currentTarget;if(!Be(s)||!Be(n))return;const o=s.closest(`[${this.parentMenu.root.getBitsAttr("content")}]`)?.id===this.parentMenu.contentId.current,i=e.ctrlKey||e.altKey||e.metaKey,r=e.key.length===1;if(this.rovingFocusGroup.handleKeydown(s,e)||e.code==="Space")return;const h=this.#n();o&&!i&&r&&this.#t(e.key,h),e.target?.id===this.parentMenu.contentId.current&&Ur.includes(e.key)&&(e.preventDefault(),rn.includes(e.key)&&h.reverse(),Br(h,{select:!1},()=>this.domContext.getActiveElement()))}onblur(e){gs(e.currentTarget)&&gs(e.target)&&(e.currentTarget.contains?.(e.target)||(this.domContext.getWindow().clearTimeout(this.#e),this.search=""))}onfocus(e){this.parentMenu.root.isUsingKeyboard.current&&de(()=>this.rovingFocusGroup.focusFirstCandidate())}onItemEnter(){return this.#o()}onItemLeave(e){if(e.currentTarget.hasAttribute(this.parentMenu.root.getBitsAttr("sub-trigger"))||this.#o()||this.parentMenu.root.isUsingKeyboard.current)return;this.parentMenu.contentNode?.focus(),this.rovingFocusGroup.setCurrentTabStopId("")}onTriggerLeave(){return!!this.#o()}onOpenAutoFocus=e=>{if(e.defaultPrevented)return;e.preventDefault(),this.parentMenu.contentNode?.focus()};handleInteractOutside(e){if(!mo(e.target))return;const s=this.parentMenu.triggerNode?.id;if(e.target.id===s){e.preventDefault();return}e.target.closest(`#${s}`)&&e.preventDefault()}#r=B(()=>({open:this.parentMenu.opts.open.current}));get snippetProps(){return this.#r()}set snippetProps(e){return this.#r(e)}#i=B(()=>({id:this.opts.id.current,role:"menu","aria-orientation":bo("vertical"),[this.parentMenu.root.getBitsAttr("content")]:"","data-state":Ne(this.parentMenu.opts.open.current),onkeydown:this.onkeydown,onblur:this.onblur,onfocus:this.onfocus,dir:this.parentMenu.root.opts.dir.current,style:{pointerEvents:"auto"},...this.attachment}));get props(){return this.#i()}set props(e){return this.#i(e)}popperProps={onCloseAutoFocus:e=>this.onCloseAutoFocus(e)}}class Gr{opts;content;attachment;#e=!1;constructor(e,s){this.opts=e,this.content=s,this.attachment=ie(this.opts.ref),this.onpointermove=this.onpointermove.bind(this),this.onpointerleave=this.onpointerleave.bind(this),this.onfocus=this.onfocus.bind(this),this.onblur=this.onblur.bind(this)}onpointermove(e){if(!e.defaultPrevented&&Cs(e))if(this.opts.disabled.current)this.content.onItemLeave(e);else{if(this.content.onItemEnter())return;const n=e.currentTarget;if(!Be(n))return;n.focus()}}onpointerleave(e){e.defaultPrevented||Cs(e)&&this.content.onItemLeave(e)}onfocus(e){de(()=>{e.defaultPrevented||this.opts.disabled.current||(this.#e=!0)})}onblur(e){de(()=>{e.defaultPrevented||(this.#e=!1)})}#t=B(()=>({id:this.opts.id.current,tabindex:-1,role:"menuitem","aria-disabled":xo(this.opts.disabled.current),"data-disabled":_e(this.opts.disabled.current),"data-highlighted":this.#e?"":void 0,[this.content.parentMenu.root.getBitsAttr("item")]:"",onpointermove:this.onpointermove,onpointerleave:this.onpointerleave,onfocus:this.onfocus,onblur:this.onblur,...this.attachment}));get props(){return this.#t()}set props(e){return this.#t(e)}}class ss{static create(e){const s=new Gr(e,un.get());return new ss(e,s)}opts;item;root;#e=!1;constructor(e,s){this.opts=e,this.item=s,this.root=s.content.parentMenu.root,this.onkeydown=this.onkeydown.bind(this),this.onclick=this.onclick.bind(this),this.onpointerdown=this.onpointerdown.bind(this),this.onpointerup=this.onpointerup.bind(this)}#t(){if(this.item.opts.disabled.current)return;const e=new CustomEvent("menuitemselect",{bubbles:!0,cancelable:!0});if(this.opts.onSelect.current(e),e.defaultPrevented){this.item.content.parentMenu.root.isUsingKeyboard.current=!1;return}this.opts.closeOnSelect.current&&this.item.content.parentMenu.root.opts.onClose()}onkeydown(e){const s=this.item.content.search!=="";if(!(this.item.opts.disabled.current||s&&e.key===we)&&Rr.includes(e.key)){if(!Be(e.currentTarget))return;e.currentTarget.click(),e.preventDefault()}}onclick(e){this.item.opts.disabled.current||this.#t()}onpointerup(e){if(!e.defaultPrevented&&!this.#e){if(!Be(e.currentTarget))return;e.currentTarget?.click()}}onpointerdown(e){this.#e=!0}#s=B(()=>Y(this.item.props,{onclick:this.onclick,onpointerdown:this.onpointerdown,onpointerup:this.onpointerup,onkeydown:this.onkeydown}));get props(){return this.#s()}set props(e){return this.#s(e)}}class ns{static create(e){return new ns(e,yt.get())}opts;parentMenu;attachment;constructor(e,s){this.opts=e,this.parentMenu=s,this.attachment=ie(this.opts.ref,n=>this.parentMenu.triggerNode=n)}onpointerdown=e=>{if(!this.opts.disabled.current){if(e.pointerType==="touch")return e.preventDefault();e.button===0&&e.ctrlKey===!1&&(this.parentMenu.toggleOpen(),this.parentMenu.opts.open.current||e.preventDefault())}};onpointerup=e=>{this.opts.disabled.current||e.pointerType==="touch"&&(e.preventDefault(),this.parentMenu.toggleOpen())};onkeydown=e=>{if(!this.opts.disabled.current){if(e.key===we||e.key===Te){this.parentMenu.toggleOpen(),e.preventDefault();return}e.key===ae&&(this.parentMenu.onOpen(),e.preventDefault())}};#e=B(()=>{if(this.parentMenu.opts.open.current&&this.parentMenu.contentId.current)return this.parentMenu.contentId.current});#t=B(()=>({id:this.opts.id.current,disabled:this.opts.disabled.current,"aria-haspopup":"menu","aria-expanded":_t(this.parentMenu.opts.open.current),"aria-controls":this.#e(),"data-disabled":_e(this.opts.disabled.current),"data-state":Ne(this.parentMenu.opts.open.current),[this.parentMenu.root.getBitsAttr("trigger")]:"",onpointerdown:this.onpointerdown,onpointerup:this.onpointerup,onkeydown:this.onkeydown,...this.attachment}));get props(){return this.#t()}set props(e){return this.#t(e)}}function qr(t,e){S();const s=se(t);let{child:n,children:o,ref:i=null,id:r=ne(s),disabled:c=!1,onSelect:h=y,closeOnSelect:l=!0,$$slots:u,$$events:a,...f}=e;const g=ss.create({id:_.with(()=>r),disabled:_.with(()=>c),onSelect:_.with(()=>h),ref:_.with(()=>i,d=>i=d),closeOnSelect:_.with(()=>l)}),p=Y(f,g.props);n?(t.out.push("<!--[-->"),n(t,{props:p}),t.out.push("<!---->")):(t.out.push("<!--[!-->"),t.out.push(`<div${G({...p},null)}>`),o?.(t),t.out.push("<!----></div>")),t.out.push("<!--]-->"),R(e,{ref:i}),k()}function Yr(t,e){S();let{open:s=!1,dir:n="ltr",onOpenChange:o=y,onOpenChangeComplete:i=y,_internal_variant:r="dropdown-menu",children:c}=e;const h=$t.create({variant:_.with(()=>r),dir:_.with(()=>n),onClose:()=>{s=!1,o(!1)}});es.create({open:_.with(()=>s,l=>{s=l,o(l)}),onOpenChangeComplete:_.with(()=>i)},h),Xs(t,{children:l=>{c?.(l),l.out.push("<!---->")}}),R(e,{open:s}),k()}function Xr(t,e){S();const s=se(t);let{id:n=ne(s),child:o,children:i,ref:r=null,loop:c=!0,onInteractOutside:h=y,onEscapeKeydown:l=y,onCloseAutoFocus:u=y,forceMount:a=!1,trapFocus:f=!1,$$slots:g,$$events:p,...d}=e;const v=ts.create({id:_.with(()=>n),loop:_.with(()=>c),ref:_.with(()=>r,C=>r=C),onCloseAutoFocus:_.with(()=>u)}),T=Y(d,v.props);function m(C){if(v.handleInteractOutside(C),!C.defaultPrevented&&(h(C),!C.defaultPrevented)){if(C.target&&C.target instanceof Element){const w=`[${v.parentMenu.root.getBitsAttr("sub-content")}]`;if(C.target.closest(w))return}v.parentMenu.onClose()}}function x(C){l(C),!C.defaultPrevented&&v.parentMenu.onClose()}if(a){t.out.push("<!--[-->");{let C=function(w,{props:b,wrapperProps:N}){const P=Y(b,{style:je("dropdown-menu")});o?(w.out.push("<!--[-->"),o(w,{props:P,wrapperProps:N,...v.snippetProps}),w.out.push("<!---->")):(w.out.push("<!--[!-->"),w.out.push(`<div${G({...N},null)}><div${G({...P},null)}>`),i?.(w),w.out.push("<!----></div></div>")),w.out.push("<!--]-->")};Zt(t,E([T,v.popperProps,{ref:v.opts.ref,enabled:v.parentMenu.opts.open.current,onInteractOutside:m,onEscapeKeydown:x,trapFocus:f,loop:c,forceMount:!0,id:n,popper:C,$$slots:{popper:!0}}]))}}else{if(t.out.push("<!--[!-->"),a)t.out.push("<!--[!-->");else{t.out.push("<!--[-->");{let C=function(w,{props:b,wrapperProps:N}){const P=Y(b,{style:je("dropdown-menu")});o?(w.out.push("<!--[-->"),o(w,{props:P,wrapperProps:N,...v.snippetProps}),w.out.push("<!---->")):(w.out.push("<!--[!-->"),w.out.push(`<div${G({...N},null)}><div${G({...P},null)}>`),i?.(w),w.out.push("<!----></div></div>")),w.out.push("<!--]-->")};Jt(t,E([T,v.popperProps,{ref:v.opts.ref,open:v.parentMenu.opts.open.current,onInteractOutside:m,onEscapeKeydown:x,trapFocus:f,loop:c,forceMount:!1,id:n,popper:C,$$slots:{popper:!0}}]))}}t.out.push("<!--]-->")}t.out.push("<!--]-->"),R(e,{ref:r}),k()}function Jr(t,e){S();const s=se(t);let{id:n=ne(s),ref:o=null,child:i,children:r,disabled:c=!1,type:h="button",$$slots:l,$$events:u,...a}=e;const f=ns.create({id:_.with(()=>n),disabled:_.with(()=>c??!1),ref:_.with(()=>o,p=>o=p)}),g=Y(a,f.props,{type:h});Xt(t,{id:n,ref:f.opts.ref,children:p=>{i?(p.out.push("<!--[-->"),i(p,{props:g}),p.out.push("<!---->")):(p.out.push("<!--[!-->"),p.out.push(`<button${G({...g},null)}>`),r?.(p),p.out.push("<!----></button>")),p.out.push("<!--]-->")}}),R(e,{ref:o}),k()}function Zr(t,e){S();let{value:s=void 0,onValueChange:n=y,name:o="",disabled:i=!1,type:r,open:c=!1,onOpenChange:h=y,onOpenChangeComplete:l=y,loop:u=!1,scrollAlignment:a="nearest",required:f=!1,items:g=[],allowDeselect:p=!1,autocomplete:d,children:v}=e;function T(){s===void 0&&(s=r==="single"?"":[])}T(),ee.pre(()=>s,()=>{T()});let m="";const x=_r.create({type:r,value:_.with(()=>s,N=>{s=N,n(N)}),disabled:_.with(()=>i),required:_.with(()=>f),open:_.with(()=>c,N=>{c=N,h(N)}),loop:_.with(()=>u),scrollAlignment:_.with(()=>a),name:_.with(()=>o),isCombobox:!1,items:_.with(()=>g),allowDeselect:_.with(()=>p),inputValue:_.with(()=>m,N=>m=N),onOpenChangeComplete:_.with(()=>l)});let C=!0,w;function b(N){if(Xs(N,{children:P=>{v?.(P),P.out.push("<!---->")}}),N.out.push("<!----> "),Array.isArray(x.opts.value.current)){if(N.out.push("<!--[-->"),x.opts.value.current.length){N.out.push("<!--[-->");const P=te(x.opts.value.current);N.out.push("<!--[-->");for(let M=0,A=P.length;M<A;M++){let L=P[M];ws(N,{value:L,autocomplete:d})}N.out.push("<!--]-->")}else N.out.push("<!--[!-->");N.out.push("<!--]-->")}else N.out.push("<!--[!-->"),ws(N,{autocomplete:d,get value(){return x.opts.value.current},set value(P){x.opts.value.current=P,C=!1}});N.out.push("<!--]-->")}do C=!0,w=H(t),b(w);while(!C);W(t,w),R(e,{value:s,open:c}),k()}function Qr(t,e){S();const s=se(t);let{id:n=ne(s),ref:o=null,child:i,children:r,type:c="button",$$slots:h,$$events:l,...u}=e;const a=Kt.create({id:_.with(()=>n),ref:_.with(()=>o,g=>o=g)}),f=Y(u,a.props,{type:c});t.out.push("<!---->"),Xt(t,{id:n,ref:a.opts.ref,children:g=>{i?(g.out.push("<!--[-->"),i(g,{props:f}),g.out.push("<!---->")):(g.out.push("<!--[!-->"),g.out.push(`<button${G({...f},null)}>`),r?.(g),g.out.push("<!----></button>")),g.out.push("<!--]-->")}}),t.out.push("<!---->"),R(e,{ref:o}),k()}function yr(t,e){S();const s=se(t);let{children:n,child:o,id:i=ne(s),ref:r=null,side:c="top",sideOffset:h=0,align:l="center",avoidCollisions:u=!0,arrowPadding:a=0,sticky:f="partial",hideWhenDetached:g=!1,collisionPadding:p=0,onInteractOutside:d=y,onEscapeKeydown:v=y,forceMount:T=!1,$$slots:m,$$events:x,...C}=e;const w=jo.create({id:_.with(()=>i),ref:_.with(()=>r,P=>r=P),onInteractOutside:_.with(()=>d),onEscapeKeydown:_.with(()=>v)}),N=Y(C,{side:c,sideOffset:h,align:l,avoidCollisions:u,arrowPadding:a,sticky:f,hideWhenDetached:g,collisionPadding:p},w.props);if(T){t.out.push("<!--[-->");{let P=function(M,{props:A,wrapperProps:L}){const j=Y(A,{style:je("tooltip")});o?(M.out.push("<!--[-->"),o(M,{props:j,wrapperProps:L,...w.snippetProps}),M.out.push("<!---->")):(M.out.push("<!--[!-->"),M.out.push(`<div${G({...L},null)}><div${G({...j},null)}>`),n?.(M),M.out.push("<!----></div></div>")),M.out.push("<!--]-->")};Zt(t,E([N,w.popperProps,{enabled:w.root.opts.open.current,id:i,trapFocus:!1,loop:!1,preventScroll:!1,forceMount:!0,ref:w.opts.ref,tooltip:!0,popper:P,$$slots:{popper:!0}}]))}}else{if(t.out.push("<!--[!-->"),T)t.out.push("<!--[!-->");else{t.out.push("<!--[-->");{let P=function(M,{props:A,wrapperProps:L}){const j=Y(A,{style:je("tooltip")});o?(M.out.push("<!--[-->"),o(M,{props:j,wrapperProps:L,...w.snippetProps}),M.out.push("<!---->")):(M.out.push("<!--[!-->"),M.out.push(`<div${G({...L},null)}><div${G({...j},null)}>`),n?.(M),M.out.push("<!----></div></div>")),M.out.push("<!--]-->")};Jt(t,E([N,w.popperProps,{open:w.root.opts.open.current,id:i,trapFocus:!1,loop:!1,preventScroll:!1,forceMount:!1,ref:w.opts.ref,tooltip:!0,popper:P,$$slots:{popper:!0}}]))}}t.out.push("<!--]-->")}t.out.push("<!--]-->"),R(e,{ref:r}),k()}function $r(t,e){S();const s=se(t);let{children:n,child:o,id:i=ne(s),disabled:r=!1,type:c="button",ref:h=null,$$slots:l,$$events:u,...a}=e;const f=Ko.create({id:_.with(()=>i),disabled:_.with(()=>r??!1),ref:_.with(()=>h,p=>h=p)}),g=Y(a,f.props,{type:c});Xt(t,{id:i,ref:f.opts.ref,tooltip:!0,children:p=>{o?(p.out.push("<!--[-->"),o(p,{props:g}),p.out.push("<!---->")):(p.out.push("<!--[!-->"),p.out.push(`<button${G({...g},null)}>`),n?.(p),p.out.push("<!----></button>")),p.out.push("<!--]-->")}}),R(e,{ref:h}),k()}function ei(t,e){S();let{ref:s=null,$$slots:n,$$events:o,...i}=e,r=!0,c;function h(l){Nr(l,E([i,{get ref(){return s},set ref(u){s=u,r=!1}}]))}do r=!0,c=H(t),h(c);while(!r);W(t,c),R(e,{ref:s}),k()}let Ss=!1;class ti{static _refs=0;static _cleanup;constructor(){}get current(){return Ss}set current(e){Ss=e}}function Ze(t,e){S();let{ref:s=null,class:n,$$slots:o,$$events:i,...r}=e,c=!0,h;function l(u){u.out.push("<!---->"),Vo(u,E([{"data-slot":"dialog-title",class:Z("text-lg leading-none font-semibold",n)},r,{get ref(){return s},set ref(a){s=a,c=!1}}])),u.out.push("<!---->")}do c=!0,h=H(t),l(h);while(!c);W(t,h),R(e,{ref:s}),k()}function si(t,e){S();let{ref:s=null,class:n,children:o,$$slots:i,$$events:r,...c}=e;t.out.push(`<div${G({"data-slot":"dialog-footer",class:pe(Z("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n)),...c},null)}>`),o?.(t),t.out.push("<!----></div>"),R(e,{ref:s}),k()}function ln(t,e){S();let{ref:s=null,class:n,children:o,$$slots:i,$$events:r,...c}=e;t.out.push(`<div${G({"data-slot":"dialog-header",class:pe(Z("flex flex-col gap-2 text-center sm:text-left",n)),...c},null)}>`),o?.(t),t.out.push("<!----></div>"),R(e,{ref:s}),k()}function cn(t,e){S();let{ref:s=null,class:n,$$slots:o,$$events:i,...r}=e,c=!0,h;function l(u){u.out.push("<!---->"),Ls(u,E([{"data-slot":"dialog-overlay",class:Z("fixed inset-0 z-50 bg-black/50 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:animate-in data-[state=open]:fade-in-0",n)},r,{get ref(){return s},set ref(a){s=a,c=!1}}])),u.out.push("<!---->")}do c=!0,h=H(t),l(h);while(!c);W(t,h),R(e,{ref:s}),k()}function os(t,e){S();let{ref:s=null,class:n,portalProps:o,children:i,showCloseButton:r=!0,$$slots:c,$$events:h,...l}=e,u=!0,a;function f(g){g.out.push("<!---->"),hn(g,E([o,{children:p=>{p.out.push("<!---->"),cn(p,{}),p.out.push("<!----> <!---->"),Bs(p,E([{"data-slot":"dialog-content",class:Z("fixed top-[50%] left-[50%] z-50 grid max-h-[100dvh] w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 overflow-y-auto rounded-lg border border-border/30 bg-background p-6 shadow-lg duration-200 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95 sm:max-w-lg md:max-h-[100vh]",n)},l,{get ref(){return s},set ref(d){s=d,u=!1},children:d=>{i?.(d),d.out.push("<!----> "),r?(d.out.push("<!--[-->"),d.out.push("<!---->"),js(d,{class:"absolute top-4 right-4 rounded-xs opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:v=>{Se(v,{}),v.out.push('<!----> <span class="sr-only">Close</span>')},$$slots:{default:!0}}),d.out.push("<!---->")):d.out.push("<!--[!-->"),d.out.push("<!--]-->")},$$slots:{default:!0}}])),p.out.push("<!---->")},$$slots:{default:!0}}])),g.out.push("<!---->")}do u=!0,a=H(t),f(a);while(!u);W(t,a),R(e,{ref:s}),k()}function ni(t,e){S();let{ref:s=null,class:n,$$slots:o,$$events:i,...r}=e,c=!0,h;function l(u){u.out.push("<!---->"),Ho(u,E([{"data-slot":"dialog-description",class:Z("text-sm text-muted-foreground",n)},r,{get ref(){return s},set ref(a){s=a,c=!1}}])),u.out.push("<!---->")}do c=!0,h=H(t),l(h);while(!c);W(t,h),R(e,{ref:s}),k()}const rs=Js,hn=Ke;function oi(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"arrow-up"},o,{iconNode:[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function an(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"brain"},o,{iconNode:[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function ri(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"chart-no-axes-column"},o,{iconNode:[["line",{x1:"18",x2:"18",y1:"20",y2:"10"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function at(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"check"},o,{iconNode:[["path",{d:"M20 6 9 17l-5-5"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function is(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"chevron-down"},o,{iconNode:[["path",{d:"m6 9 6 6 6-6"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function dn(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"chevron-left"},o,{iconNode:[["path",{d:"m15 18-6-6 6-6"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function ii(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"chevron-up"},o,{iconNode:[["path",{d:"m18 15-6-6-6 6"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function pn(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"chevron-right"},o,{iconNode:[["path",{d:"m9 18 6-6-6-6"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function ui(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"chevrons-up-down"},o,{iconNode:[["path",{d:"m7 15 5 5 5-5"}],["path",{d:"m7 9 5-5 5 5"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function li(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"clock"},o,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 16 14"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function ci(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"code"},o,{iconNode:[["path",{d:"m16 18 6-6-6-6"}],["path",{d:"m8 6-6 6 6 6"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function fn(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"copy"},o,{iconNode:[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function hi(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"database"},o,{iconNode:[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5"}],["path",{d:"M3 12A9 3 0 0 0 21 12"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function ai(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"download"},o,{iconNode:[["path",{d:"M12 15V3"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["path",{d:"m7 10 5 5 5-5"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function gn(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"eye"},o,{iconNode:[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}],["circle",{cx:"12",cy:"12",r:"3"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function Oe(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"file-text"},o,{iconNode:[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M10 9H8"}],["path",{d:"M16 13H8"}],["path",{d:"M16 17H8"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function di(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"file-x"},o,{iconNode:[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"m14.5 12.5-5 5"}],["path",{d:"m9.5 12.5 5 5"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function mn(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"file"},o,{iconNode:[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function pi(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"funnel"},o,{iconNode:[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function fi(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"gauge"},o,{iconNode:[["path",{d:"m12 14 4-4"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function vn(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"image"},o,{iconNode:[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["circle",{cx:"9",cy:"9",r:"2"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function bn(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"mic"},o,{iconNode:[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function gi(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"minus"},o,{iconNode:[["path",{d:"M5 12h14"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function mi(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"monitor"},o,{iconNode:[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function vi(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"moon"},o,{iconNode:[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function ks(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"music"},o,{iconNode:[["path",{d:"M9 18V5l12-2v13"}],["circle",{cx:"6",cy:"18",r:"3"}],["circle",{cx:"18",cy:"16",r:"3"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function bi(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"package"},o,{iconNode:[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z"}],["path",{d:"M12 22V12"}],["polyline",{points:"3.29 7 12 12 20.71 7"}],["path",{d:"m7.5 4.27 9 5.15"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function xi(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"paperclip"},o,{iconNode:[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function xt(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"rotate-ccw"},o,{iconNode:[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}],["path",{d:"M3 3v5h5"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function us(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"server"},o,{iconNode:[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function xn(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"settings"},o,{iconNode:[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}],["circle",{cx:"12",cy:"12",r:"3"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function wi(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"square"},o,{iconNode:[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function Ci(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"sun"},o,{iconNode:[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function Si(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"timer-off"},o,{iconNode:[["path",{d:"M10 2h4"}],["path",{d:"M4.6 11a8 8 0 0 0 1.7 8.7 8 8 0 0 0 8.7 1.7"}],["path",{d:"M7.4 7.4a8 8 0 0 1 10.3 1 8 8 0 0 1 .9 10.2"}],["path",{d:"m2 2 20 20"}],["path",{d:"M12 12v-2"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function ki(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"upload"},o,{iconNode:[["path",{d:"M12 3v12"}],["path",{d:"m17 8-5-5-5 5"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function _i(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"volume-2"},o,{iconNode:[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"}],["path",{d:"M16 9a5 5 0 0 1 0 6"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function Pi(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"whole-word"},o,{iconNode:[["circle",{cx:"7",cy:"12",r:"3"}],["path",{d:"M10 9v6"}],["circle",{cx:"17",cy:"12",r:"3"}],["path",{d:"M14 7v8"}],["path",{d:"M22 17v1c0 .5-.5 1-1 1H3c-.5 0-1-.5-1-1v-1"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}function Ni(t,e){S();let{$$slots:s,$$events:n,...o}=e;V(t,E([{name:"wrench"},o,{iconNode:[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"}]],children:r=>{o.children?.(r),r.out.push("<!---->")},$$slots:{default:!0}}])),k()}async function _s(t){throw new Error("PDF processing is only available in the browser")}async function wn(t,e=1.5){throw new Error("PDF processing is only available in the browser")}function wt(t){if(t===0)return"0 Bytes";const e=1024,s=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,n)).toFixed(2))+" "+s[n]}function Mi(t){return t.split("/").pop()?.toUpperCase()||"FILE"}function Ps(t){return t.length>150?t.substring(0,150)+"...":t}function Ti(t,e){S();let{open:s=void 0,uploadedFile:n,attachment:o,preview:i,name:r,type:c,size:h,textContent:l}=e,u=n?.name||o?.name||r||"Unknown File",a=n?.preview||(o?.type==="imageFile"?o.base64Url:i),f=n?.type||(o?.type==="imageFile"?"image":o?.type==="textFile"?"text":o?.type==="audioFile"?o.mimeType||"audio":o?.type==="pdfFile"?ze.PDF:c||"unknown"),g=n?.size||h,p=n?.textContent||(o?.type==="textFile"||o?.type==="pdfFile"?o.content:l),d=oe(f)===q.AUDIO||f==="audio",v=oe(f)===q.IMAGE||f==="image",T=f===ze.PDF,m=oe(f)===q.TEXT||f==="text",x=()=>v?vn:m||T?Oe:d?ks:mn,C="pages",w=[],b=!1,N=null;async function P(){if(!(!T||w.length>0||b)){b=!0,N=null;try{let j=null;if(n?.file)j=n.file;else if(o?.type==="pdfFile"){if(o.images&&Array.isArray(o.images)){w=o.images;return}if(o.base64Data){const U=o.base64Data,D=atob(U),O=new Array(D.length);for(let $=0;$<D.length;$++)O[$]=D.charCodeAt($);const F=new Uint8Array(O);j=new File([F],u,{type:ze.PDF})}}if(j)w=await wn(j);else throw new Error("No PDF file available for conversion")}catch(j){N=j instanceof Error?j.message:"Failed to load PDF images"}finally{b=!1}}}let M=!0,A;function L(j){j.out.push("<!---->"),rs(j,{get open(){return s},set open(U){s=U,M=!1},children:U=>{U.out.push("<!---->"),os(U,{class:"grid max-h-[90vh] max-w-5xl overflow-hidden !p-10 sm:w-auto sm:max-w-6xl",children:D=>{if(D.out.push("<!---->"),ln(D,{class:"flex-shrink-0",children:O=>{O.out.push('<div class="flex items-center justify-between"><div class="flex items-center gap-3">'),x?(O.out.push("<!--[-->"),O.out.push("<!---->"),O.out.push("<!---->")):O.out.push("<!--[!-->"),O.out.push("<!--]--> <div><!---->"),Ze(O,{class:"text-left",children:F=>{F.out.push(`<!---->${I(u)}`)},$$slots:{default:!0}}),O.out.push(`<!----> <div class="flex items-center gap-2 text-sm text-muted-foreground"><span>${I(f)}</span> `),g?(O.out.push("<!--[-->"),O.out.push(`<span></span> <span>${I(wt(g))}</span>`)):O.out.push("<!--[!-->"),O.out.push("<!--]--></div></div></div> "),T?(O.out.push("<!--[-->"),O.out.push('<div class="flex items-center gap-2">'),J(O,{variant:C==="text"?"default":"outline",size:"sm",onclick:()=>C="text",disabled:b,children:F=>{Oe(F,{class:"mr-1 h-4 w-4"}),F.out.push("<!----> Text")},$$slots:{default:!0}}),O.out.push("<!----> "),J(O,{variant:C==="pages"?"default":"outline",size:"sm",onclick:()=>{C="pages",P()},disabled:b,children:F=>{b?(F.out.push("<!--[-->"),F.out.push('<div class="mr-1 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"></div>')):(F.out.push("<!--[!-->"),gn(F,{class:"mr-1 h-4 w-4"})),F.out.push("<!--]--> Pages")},$$slots:{default:!0}}),O.out.push("<!----></div>")):O.out.push("<!--[!-->"),O.out.push("<!--]--></div>")},$$slots:{default:!0}}),D.out.push('<!----> <div class="flex-1 overflow-auto">'),v&&a)D.out.push("<!--[-->"),D.out.push(`<div class="flex items-center justify-center"><img${X("src",a)}${X("alt",u)} class="max-h-full rounded-lg object-contain shadow-lg"/></div>`);else{if(D.out.push("<!--[!-->"),T&&C==="pages"){if(D.out.push("<!--[-->"),b)D.out.push("<!--[-->"),D.out.push('<div class="flex items-center justify-center p-8"><div class="text-center"><div class="mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"></div> <p class="text-muted-foreground">Converting PDF to images...</p></div></div>');else{if(D.out.push("<!--[!-->"),N)D.out.push("<!--[-->"),D.out.push('<div class="flex items-center justify-center p-8"><div class="text-center">'),Oe(D,{class:"mx-auto mb-4 h-16 w-16 text-muted-foreground"}),D.out.push(`<!----> <p class="mb-4 text-muted-foreground">Failed to load PDF images</p> <p class="text-sm text-muted-foreground">${I(N)}</p> `),J(D,{class:"mt-4",onclick:()=>C="text",children:O=>{O.out.push("<!---->View as Text")},$$slots:{default:!0}}),D.out.push("<!----></div></div>");else{if(D.out.push("<!--[!-->"),w.length>0){D.out.push("<!--[-->");const O=te(w);D.out.push('<div class="max-h-[70vh] space-y-4 overflow-auto"><!--[-->');for(let F=0,$=O.length;F<$;F++){let Q=O[F];D.out.push(`<div class="text-center"><p class="mb-2 text-sm text-muted-foreground">Page ${I(F+1)}</p> <img${X("src",Q)}${X("alt",`PDF Page ${z(F+1)}`)} class="mx-auto max-w-full rounded-lg shadow-lg"/></div>`)}D.out.push("<!--]--></div>")}else D.out.push("<!--[!-->"),D.out.push('<div class="flex items-center justify-center p-8"><div class="text-center">'),Oe(D,{class:"mx-auto mb-4 h-16 w-16 text-muted-foreground"}),D.out.push('<!----> <p class="mb-4 text-muted-foreground">No PDF pages available</p></div></div>');D.out.push("<!--]-->")}D.out.push("<!--]-->")}D.out.push("<!--]-->")}else D.out.push("<!--[!-->"),(m||T&&C==="text")&&p?(D.out.push("<!--[-->"),D.out.push(`<div class="max-h-[60vh] overflow-auto rounded-lg bg-muted p-4 font-mono text-sm break-words whitespace-pre-wrap">${I(p)}</div>`)):(D.out.push("<!--[!-->"),d?(D.out.push("<!--[-->"),D.out.push('<div class="flex items-center justify-center p-8"><div class="w-full max-w-md text-center">'),ks(D,{class:"mx-auto mb-4 h-16 w-16 text-muted-foreground"}),D.out.push("<!----> "),o?.type==="audioFile"?(D.out.push("<!--[-->"),D.out.push(`<audio controls class="mb-4 w-full"${X("src",`data:${z(o.mimeType)};base64,${z(o.base64Data)}`)}>Your browser does not support the audio element.</audio>`)):(D.out.push("<!--[!-->"),n?.preview?(D.out.push("<!--[-->"),D.out.push(`<audio controls class="mb-4 w-full"${X("src",n.preview)}>Your browser does not support the audio element.</audio>`)):(D.out.push("<!--[!-->"),D.out.push('<p class="mb-4 text-muted-foreground">Audio preview not available</p>')),D.out.push("<!--]-->")),D.out.push(`<!--]--> <p class="text-sm text-muted-foreground">${I(u)}</p></div></div>`)):(D.out.push("<!--[!-->"),D.out.push('<div class="flex items-center justify-center p-8"><div class="text-center">'),x?(D.out.push("<!--[-->"),D.out.push("<!---->"),D.out.push("<!---->")):D.out.push("<!--[!-->"),D.out.push('<!--]--> <p class="mb-4 text-muted-foreground">Preview not available for this file type</p></div></div>')),D.out.push("<!--]-->")),D.out.push("<!--]-->");D.out.push("<!--]-->")}D.out.push("<!--]--></div>")},$$slots:{default:!0}}),U.out.push("<!---->")},$$slots:{default:!0}}),j.out.push("<!---->")}do M=!0,A=H(t),L(A);while(!M);W(t,A),R(e,{open:s}),k()}function Cn(t,e){S();let{class:s="",attachments:n=[],readonly:o=!1,onFileRemove:i,uploadedFiles:r=[],imageClass:c="",imageHeight:h="h-24",imageWidth:l="w-auto"}=e,u=g(),a=!1,f=null;function g(){const m=[];for(const x of r)m.push({id:x.id,name:x.name,size:x.size,preview:x.preview,type:x.type,isImage:oe(x.type)===q.IMAGE,uploadedFile:x,textContent:x.textContent});for(const[x,C]of n.entries())C.type==="imageFile"?m.push({id:`attachment-${x}`,name:C.name,preview:C.base64Url,type:"image",isImage:!0,attachment:C,attachmentIndex:x}):C.type==="textFile"?m.push({id:`attachment-${x}`,name:C.name,type:"text",isImage:!1,attachment:C,attachmentIndex:x,textContent:C.content}):C.type==="context"?m.push({id:`attachment-${x}`,name:C.name,type:"text",isImage:!1,attachment:C,attachmentIndex:x,textContent:C.content}):C.type==="audioFile"?m.push({id:`attachment-${x}`,name:C.name,type:C.mimeType||"audio",isImage:!1,attachment:C,attachmentIndex:x}):C.type==="pdfFile"&&m.push({id:`attachment-${x}`,name:C.name,type:"application/pdf",isImage:!1,attachment:C,attachmentIndex:x,textContent:C.content});return m}function p(m,x){x&&(x.preventDefault(),x.stopPropagation()),f={uploadedFile:m.uploadedFile,attachment:m.attachment,preview:m.preview,name:m.name,type:m.type,size:m.size,textContent:m.textContent},a=!0}let d=!0,v;function T(m){if(u.length>0){m.out.push("<!--[-->");const x=te(u);m.out.push(`<div${K(`flex flex-wrap items-start ${z(o?"justify-end":"")} gap-3 ${z(s)}`)}><!--[-->`);for(let C=0,w=x.length;C<w;C++){let b=x[C];b.isImage&&b.preview?(m.out.push("<!--[-->"),Ii(m,{class:"cursor-pointer",id:b.id,name:b.name,preview:b.preview,readonly:o,onRemove:i,height:h,width:l,imageClass:c,onClick:N=>p(b,N)})):(m.out.push("<!--[!-->"),Fi(m,{class:"cursor-pointer",id:b.id,name:b.name,type:b.type,size:b.size,readonly:o,onRemove:i,textContent:b.textContent})),m.out.push("<!--]-->")}m.out.push("<!--]--></div>")}else m.out.push("<!--[!-->");m.out.push("<!--]--> "),f?(m.out.push("<!--[-->"),Ti(m,{uploadedFile:f.uploadedFile,attachment:f.attachment,preview:f.preview,name:f.name,type:f.type,size:f.size,textContent:f.textContent,get open(){return a},set open(x){a=x,d=!1}})):m.out.push("<!--[!-->"),m.out.push("<!--]-->")}do d=!0,v=H(t),T(v);while(!d);W(t,v),R(e,{uploadedFiles:r}),k()}function Fi(t,e){S();let{class:s="",id:n,onRemove:o,name:i,readonly:r=!1,size:c,textContent:h,type:l}=e;l===Ft.PLAIN||l===q.TEXT?(t.out.push("<!--[-->"),r?(t.out.push("<!--[-->"),t.out.push(`<button${K(`cursor-pointer rounded-lg border border-border bg-muted p-3 transition-shadow hover:shadow-md ${z(s)} w-full max-w-2xl`)}${X("aria-label",`Preview ${i}`)} type="button"><div class="flex items-start gap-3"><div class="flex min-w-0 flex-1 flex-col items-start text-left"><span class="w-full truncate text-sm font-medium text-foreground">${I(i)}</span> `),c?(t.out.push("<!--[-->"),t.out.push(`<span class="text-xs text-muted-foreground">${I(wt(c))}</span>`)):t.out.push("<!--[!-->"),t.out.push("<!--]--> "),h&&l==="text"?(t.out.push("<!--[-->"),t.out.push(`<div class="relative mt-2 w-full"><div class="overflow-hidden font-mono text-xs leading-relaxed break-words whitespace-pre-wrap text-muted-foreground">${I(Ps(h))}</div> `),h.length>150?(t.out.push("<!--[-->"),t.out.push('<div class="pointer-events-none absolute right-0 bottom-0 left-0 h-6 bg-gradient-to-t from-muted to-transparent"></div>')):t.out.push("<!--[!-->"),t.out.push("<!--]--></div>")):t.out.push("<!--[!-->"),t.out.push("<!--]--></div></div></button>")):(t.out.push("<!--[!-->"),t.out.push(`<div${K(`relative rounded-lg border border-border bg-muted p-3 ${z(s)} w-64`)}>`),J(t,{type:"button",variant:"ghost",size:"sm",class:"absolute top-2 right-2 h-6 w-6 bg-white/20 p-0 hover:bg-white/30",onclick:()=>o?.(n),"aria-label":"Remove file",children:u=>{Se(u,{class:"h-3 w-3"})},$$slots:{default:!0}}),t.out.push(`<!----> <div class="pr-8"><span class="mb-3 block truncate text-sm font-medium text-foreground">${I(i)}</span> `),h?(t.out.push("<!--[-->"),t.out.push(`<div class="relative"><div class="overflow-hidden font-mono text-xs leading-relaxed break-words whitespace-pre-wrap text-muted-foreground" style="max-height: 3.6em; line-height: 1.2em;">${I(Ps(h))}</div> `),h.length>150?(t.out.push("<!--[-->"),t.out.push('<div class="pointer-events-none absolute right-0 bottom-0 left-0 h-4 bg-gradient-to-t from-muted to-transparent"></div>')):t.out.push("<!--[!-->"),t.out.push("<!--]--></div>")):t.out.push("<!--[!-->"),t.out.push("<!--]--></div></div>")),t.out.push("<!--]-->")):(t.out.push("<!--[!-->"),t.out.push(`<button${K(`flex items-center gap-2 gap-3 rounded-lg border border-border bg-muted p-3 ${z(s)}`)}><div class="flex h-8 w-8 items-center justify-center rounded bg-primary/10 text-xs font-medium text-primary">${I(Mi(l))}</div> <div class="flex flex-col gap-1"><span class="max-w-36 truncate text-sm font-medium text-foreground md:max-w-72">${I(i)}</span> `),c?(t.out.push("<!--[-->"),t.out.push(`<span class="text-left text-xs text-muted-foreground">${I(wt(c))}</span>`)):t.out.push("<!--[!-->"),t.out.push("<!--]--></div> "),r?t.out.push("<!--[!-->"):(t.out.push("<!--[-->"),J(t,{type:"button",variant:"ghost",size:"sm",class:"h-6 w-6 p-0",onclick:u=>{u.stopPropagation(),o?.(n)},children:u=>{Se(u,{class:"h-3 w-3"})},$$slots:{default:!0}})),t.out.push("<!--]--></button>")),t.out.push("<!--]-->"),k()}function Ii(t,e){S();let{id:s,name:n,preview:o,readonly:i=!1,onRemove:r,onClick:c,class:h="",width:l="w-auto",height:u="h-24",imageClass:a=""}=e;t.out.push(`<div${K(`relative overflow-hidden rounded-lg border border-border bg-muted ${z(h)}`)}>`),c?(t.out.push("<!--[-->"),t.out.push(`<button type="button" class="block h-full w-full rounded-lg focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:outline-none"${X("aria-label",`Preview ${z(n)}`)}><img${X("src",o)}${X("alt",n)}${K(`${z(u)} ${z(l)} cursor-pointer object-cover ${z(a)}`)}/></button>`)):(t.out.push("<!--[!-->"),t.out.push(`<img${X("src",o)}${X("alt",n)}${K(`${z(u)} ${z(l)} cursor-pointer object-cover ${z(a)}`)}/>`)),t.out.push("<!--]--> "),i?t.out.push("<!--[!-->"):(t.out.push("<!--[-->"),t.out.push('<div class="absolute top-1 right-1 flex items-center justify-center opacity-0 transition-opacity hover:opacity-100">'),J(t,{type:"button",variant:"ghost",size:"sm",class:"h-6 w-6 bg-white/20 p-0 text-white hover:bg-white/30",onclick:()=>r?.(s),children:f=>{Se(f,{class:"h-3 w-3"})},$$slots:{default:!0}}),t.out.push("<!----></div>")),t.out.push("<!--]--></div>"),k()}const ls=`
    bg-muted/70 dark:bg-muted/85
    border border-border/30 focus-within:border-border  dark:border-border/20 dark:focus-within:border-border
    outline-none
    text-foreground
`;function Sn(t){return t.isComposing||t.keyCode===229}function Ns(t,e){S();let{class:s,disabled:n=!1,isLoading:o=!1,onFileRemove:i,onFileUpload:r,onSend:c,onStop:h,showHelperText:l=!0,uploadedFiles:u=[]}=e,a=re(),f,g=!1,p="";Number(a.pasteLongTextToFileLen);function d(P){switch(P){case q.IMAGE:return[...Object.values(Ws),...Object.values(Fe)].join(",");case q.AUDIO:return[...Object.values(Vs),...Object.values(Hs)].join(",");case q.PDF:return[...Object.values(Ks),...Object.values(ze)].join(",");case q.TEXT:return[...Object.values(It),Ft.PLAIN].join(",");default:return""}}function v(P){r?.(P)}function T(P){P?f=d(P):f=void 0,setTimeout(()=>{},10)}async function m(P){if(P.key==="Enter"&&!P.shiftKey&&!Sn(P)){if(P.preventDefault(),!p.trim()&&u.length===0||n||o)return;const M=p.trim(),A=[...u];p="",u=[],await c?.(M,A)||(p=M,u=A)}}async function x(){{console.warn("Audio recording not supported");return}}function C(){h?.()}let w=!0,b;function N(P){Vi(P,{onFileSelect:v,get accept(){return f},set accept(M){f=M,w=!1}}),P.out.push(`<!----> <form${K(`${z(ls)} border-radius-bottom-none mx-auto max-w-[48rem] overflow-hidden rounded-3xl backdrop-blur-md ${z(s)}`)}>`),Cn(P,{onFileRemove:i,class:"mb-3 px-5 pt-5",get uploadedFiles(){return u},set uploadedFiles(M){u=M,w=!1}}),P.out.push('<!----> <div class="flex-column relative min-h-[48px] items-center rounded-3xl px-5 py-3 shadow-sm transition-all focus-within:shadow-md">'),Di(P,{onKeydown:m,disabled:n,get value(){return p},set value(M){p=M,w=!1}}),P.out.push("<!----> "),Li(P,{canSend:p.trim().length>0||u.length>0,disabled:n,isLoading:o,isRecording:g,onFileUpload:T,onMicClick:x,onStop:C}),P.out.push("<!----></div></form> "),Bi(P,{show:l}),P.out.push("<!---->")}do w=!0,b=H(t),N(b);while(!w);W(t,b),R(e,{uploadedFiles:u}),k()}function Di(t,e){S();let{class:s="",disabled:n=!1,onKeydown:o,onPaste:i,placeholder:r="Ask anything...",value:c=""}=e,h;function l(){return h}function u(){}function a(){}t.out.push(`<div${K(`flex-1 ${z(s)}`)}><textarea${K("text-md max-h-32 min-h-12 w-full resize-none border-0 bg-transparent p-0 leading-6 outline-none placeholder:text-muted-foreground focus-visible:ring-0 focus-visible:ring-offset-0",void 0,{"cursor-not-allowed":n})}${X("disabled",n,!0)}${X("placeholder",r)}>`);const f=I(c);f&&t.out.push(`${f}`),t.out.push("</textarea></div>"),R(e,{value:c,getElement:l,focus:u,resetHeight:a}),k()}function Ei(t,e){S();let{ref:s=null,sideOffset:n=4,portalProps:o,class:i,$$slots:r,$$events:c,...h}=e,l=!0,u;function a(f){f.out.push("<!---->"),Ke(f,E([o,{children:g=>{g.out.push("<!---->"),Xr(g,E([{"data-slot":"dropdown-menu-content",sideOffset:n,class:Z("z-50 max-h-(--bits-dropdown-menu-content-available-height) min-w-[8rem] origin-(--bits-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border border-border bg-popover p-1 text-popover-foreground shadow-md outline-none data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95 dark:border-border/20",i)},h,{get ref(){return s},set ref(p){s=p,l=!1}}])),g.out.push("<!---->")},$$slots:{default:!0}}])),f.out.push("<!---->")}do l=!0,u=H(t),a(u);while(!l);W(t,u),R(e,{ref:s}),k()}function We(t,e){S();let{ref:s=null,class:n,inset:o,variant:i="default",$$slots:r,$$events:c,...h}=e,l=!0,u;function a(f){f.out.push("<!---->"),qr(f,E([{"data-slot":"dropdown-menu-item","data-inset":o,"data-variant":i,class:Z("relative flex cursor-pointer items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-highlighted:bg-accent data-highlighted:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 data-[variant=destructive]:text-destructive data-[variant=destructive]:data-highlighted:bg-destructive/10 data-[variant=destructive]:data-highlighted:text-destructive dark:data-[variant=destructive]:data-highlighted:bg-destructive/20 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground data-[variant=destructive]:*:[svg]:!text-destructive",n)},h,{get ref(){return s},set ref(g){s=g,l=!1}}])),f.out.push("<!---->")}do l=!0,u=H(t),a(u);while(!l);W(t,u),R(e,{ref:s}),k()}function Ai(t,e){S();let{ref:s=null,$$slots:n,$$events:o,...i}=e,r=!0,c;function h(l){l.out.push("<!---->"),Jr(l,E([{"data-slot":"dropdown-menu-trigger"},i,{get ref(){return s},set ref(u){s=u,r=!1}}])),l.out.push("<!---->")}do r=!0,c=H(t),h(c);while(!r);W(t,c),R(e,{ref:s}),k()}const Oi=Yr;function ve(t,e){S();let{ref:s=null,$$slots:n,$$events:o,...i}=e,r=!0,c;function h(l){l.out.push("<!---->"),$r(l,E([{"data-slot":"tooltip-trigger"},i,{get ref(){return s},set ref(u){s=u,r=!1}}])),l.out.push("<!---->")}do r=!0,c=H(t),h(c);while(!r);W(t,c),R(e,{ref:s}),k()}function be(t,e){S();let{ref:s=null,class:n,sideOffset:o=0,side:i="top",children:r,arrowClasses:c,$$slots:h,$$events:l,...u}=e,a=!0,f;function g(p){p.out.push("<!---->"),Ke(p,{children:d=>{d.out.push("<!---->"),yr(d,E([{"data-slot":"tooltip-content",sideOffset:o,side:i,class:Z("z-50 w-fit origin-(--bits-tooltip-content-transform-origin) animate-in rounded-md bg-primary px-3 py-1.5 text-xs text-balance text-primary-foreground fade-in-0 zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95",n)},u,{get ref(){return s},set ref(v){s=v,a=!1},children:v=>{r?.(v),v.out.push("<!----> <!---->"),ei(v,{child:function(m,{props:x}){m.out.push(`<div${G({class:pe(Z("z-50 size-2.5 rotate-45 rounded-[2px] bg-primary","data-[side=top]:translate-x-1/2 data-[side=top]:translate-y-[calc(-50%_+_2px)]","data-[side=bottom]:-translate-x-1/2 data-[side=bottom]:-translate-y-[calc(-50%_+_1px)]","data-[side=right]:translate-x-[calc(50%_+_2px)] data-[side=right]:translate-y-1/2","data-[side=left]:-translate-y-[calc(50%_-_3px)]",c)),...x},null)}></div>`)},$$slots:{child:!0}}),v.out.push("<!---->")},$$slots:{default:!0}}])),d.out.push("<!---->")}}),p.out.push("<!---->")}do a=!0,f=H(t),g(f);while(!a);W(t,f),R(e,{ref:s}),k()}const Re=100;function Ri(t,e){S();let{class:s="",disabled:n=!1,onFileUpload:o}=e;const i=ue()?"Attach files":"Text files and PDFs supported. Images, audio, and video require vision models.";function r(c){o?.(c)}t.out.push(`<div${K(`flex items-center gap-1 ${z(s)}`)}><!---->`),Oi(t,{children:c=>{c.out.push("<!---->"),Ai(c,{name:"Attach files",children:h=>{h.out.push("<!---->"),me(h,{delayDuration:Re,children:l=>{l.out.push("<!---->"),ve(l,{children:u=>{J(u,{class:"file-upload-button h-8 w-8 rounded-full bg-transparent p-0 text-muted-foreground hover:bg-foreground/10 hover:text-foreground",disabled:n,type:"button",children:a=>{a.out.push('<span class="sr-only">Attach files</span> '),xi(a,{class:"h-4 w-4"}),a.out.push("<!---->")},$$slots:{default:!0}})},$$slots:{default:!0}}),l.out.push("<!----> <!---->"),be(l,{children:u=>{u.out.push(`<p>${I(i)}</p>`)},$$slots:{default:!0}}),l.out.push("<!---->")},$$slots:{default:!0}}),h.out.push("<!---->")},$$slots:{default:!0}}),c.out.push("<!----> <!---->"),Ei(c,{align:"start",class:"w-48",children:h=>{h.out.push("<!---->"),me(h,{delayDuration:Re,children:l=>{l.out.push("<!---->"),ve(l,{class:"w-full",children:u=>{u.out.push("<!---->"),We(u,{class:"images-button flex cursor-pointer items-center gap-2",disabled:!ue(),onclick:()=>r(q.IMAGE),children:a=>{vn(a,{class:"h-4 w-4"}),a.out.push("<!----> <span>Images</span>")},$$slots:{default:!0}}),u.out.push("<!---->")},$$slots:{default:!0}}),l.out.push("<!----> "),ue()?l.out.push("<!--[!-->"):(l.out.push("<!--[-->"),l.out.push("<!---->"),be(l,{children:u=>{u.out.push("<p>Images require vision models to be processed</p>")},$$slots:{default:!0}}),l.out.push("<!---->")),l.out.push("<!--]-->")},$$slots:{default:!0}}),h.out.push("<!----> <!---->"),me(h,{delayDuration:Re,children:l=>{l.out.push("<!---->"),ve(l,{class:"w-full",children:u=>{u.out.push("<!---->"),We(u,{class:"audio-button flex cursor-pointer items-center gap-2",disabled:!Ce(),onclick:()=>r(q.AUDIO),children:a=>{_i(a,{class:"h-4 w-4"}),a.out.push("<!----> <span>Audio Files</span>")},$$slots:{default:!0}}),u.out.push("<!---->")},$$slots:{default:!0}}),l.out.push("<!----> "),Ce()?l.out.push("<!--[!-->"):(l.out.push("<!--[-->"),l.out.push("<!---->"),be(l,{children:u=>{u.out.push("<p>Audio files require audio models to be processed</p>")},$$slots:{default:!0}}),l.out.push("<!---->")),l.out.push("<!--]-->")},$$slots:{default:!0}}),h.out.push("<!----> <!---->"),We(h,{class:"flex cursor-pointer items-center gap-2",onclick:()=>r(q.TEXT),children:l=>{Oe(l,{class:"h-4 w-4"}),l.out.push("<!----> <span>Text Files</span>")},$$slots:{default:!0}}),h.out.push("<!----> <!---->"),me(h,{delayDuration:Re,children:l=>{l.out.push("<!---->"),ve(l,{class:"w-full",children:u=>{u.out.push("<!---->"),We(u,{class:"flex cursor-pointer items-center gap-2",onclick:()=>r(q.PDF),children:a=>{mn(a,{class:"h-4 w-4"}),a.out.push("<!----> <span>PDF Files</span>")},$$slots:{default:!0}}),u.out.push("<!---->")},$$slots:{default:!0}}),l.out.push("<!----> "),ue()?l.out.push("<!--[!-->"):(l.out.push("<!--[-->"),l.out.push("<!---->"),be(l,{children:u=>{u.out.push("<p>PDFs will be converted to text. Image-based PDFs may not work properly.</p>")},$$slots:{default:!0}}),l.out.push("<!---->")),l.out.push("<!--]-->")},$$slots:{default:!0}}),h.out.push("<!---->")},$$slots:{default:!0}}),c.out.push("<!---->")},$$slots:{default:!0}}),t.out.push("<!----></div>"),k()}function zi(t,e){S();let{class:s="",disabled:n=!1,isLoading:o=!1,isRecording:i=!1,onMicClick:r}=e;t.out.push(`<div${K(`flex items-center gap-1 ${z(s)}`)}><!---->`),me(t,{delayDuration:100,children:c=>{c.out.push("<!---->"),ve(c,{children:h=>{J(h,{class:`h-8 w-8 rounded-full p-0 ${z(i?"animate-pulse bg-red-500 text-white hover:bg-red-600":"bg-transparent text-muted-foreground hover:bg-foreground/10 hover:text-foreground")} ${z(Ce()?"":"cursor-not-allowed opacity-50")}`,disabled:n||o||!Ce(),onclick:r,type:"button",children:l=>{l.out.push(`<span class="sr-only">${I(i?"Stop recording":"Start recording")}</span> `),bn(l,{class:"h-4 w-4"}),l.out.push("<!---->")},$$slots:{default:!0}})},$$slots:{default:!0}}),c.out.push("<!----> "),Ce()?c.out.push("<!--[!-->"):(c.out.push("<!--[-->"),c.out.push("<!---->"),be(c,{children:h=>{h.out.push("<p>Current model does not support audio</p>")},$$slots:{default:!0}}),c.out.push("<!---->")),c.out.push("<!--]-->")},$$slots:{default:!0}}),t.out.push("<!----></div>"),k()}function Ui(t,e){S();let{class:s=""}=e,n=So(),o=ko(),i=_o(),r=Po(),c=No(),h=!1;function l(){return c?n.find(u=>u.id===c):n[0]}if(t.out.push(`<div${K(pe(Z("relative z-10 flex max-w-[200px] min-w-[120px] flex-col items-end gap-1",s)))}>`),o&&n.length===0)t.out.push("<!--[-->"),t.out.push('<div class="flex items-center gap-2 text-xs text-muted-foreground">'),bs(t,{class:"h-4 w-4 animate-spin"}),t.out.push("<!----> Loading models</div>");else{if(t.out.push("<!--[!-->"),n.length===0)t.out.push("<!--[-->"),t.out.push('<p class="text-xs text-muted-foreground">No models available.</p>');else{t.out.push("<!--[!-->");const u=l();t.out.push(`<div class="relative w-full"><button type="button"${K(pe(Z("flex w-full items-center justify-end gap-2 rounded-md px-2 py-1 text-sm text-muted-foreground transition hover:text-foreground focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-60","")))} aria-haspopup="listbox"${X("aria-expanded",h)}${X("disabled",o||i,!0)}><span class="max-w-[160px] truncate text-right font-medium">${I(u?.name||"Select model")}</span> `),i?(t.out.push("<!--[-->"),bs(t,{class:"h-3.5 w-3.5 animate-spin text-muted-foreground"})):(t.out.push("<!--[!-->"),is(t,{class:Z("h-4 w-4 text-muted-foreground transition-transform","")})),t.out.push("<!--]--></button> "),t.out.push("<!--[!-->"),t.out.push("<!--]--></div>")}t.out.push("<!--]-->")}t.out.push("<!--]--> "),r?(t.out.push("<!--[-->"),t.out.push(`<p class="text-xs text-destructive">${I(r)}</p>`)):t.out.push("<!--[!-->"),t.out.push("<!--]--></div>"),k()}function Li(t,e){S();let{canSend:s=!1,class:n="",disabled:o=!1,isLoading:i=!1,isRecording:r=!1,onFileUpload:c,onMicClick:h,onStop:l}=e,u=re();t.out.push(`<div${K(`flex w-full items-center gap-2 ${z(n)}`)}>`),Ri(t,{class:"mr-auto",disabled:o,onFileUpload:c}),t.out.push("<!----> "),u.modelSelectorEnabled?(t.out.push("<!--[-->"),Ui(t,{class:"shrink-0"})):t.out.push("<!--[!-->"),t.out.push("<!--]--> "),i?(t.out.push("<!--[-->"),J(t,{type:"button",onclick:l,class:"h-8 w-8 bg-transparent p-0 hover:bg-destructive/20",children:a=>{a.out.push('<span class="sr-only">Stop</span> '),wi(a,{class:"h-8 w-8 fill-destructive stroke-destructive"}),a.out.push("<!---->")},$$slots:{default:!0}})):(t.out.push("<!--[!-->"),zi(t,{disabled:o,isLoading:i,isRecording:r,onMicClick:h}),t.out.push("<!----> "),J(t,{type:"submit",disabled:!s||o||i,class:"h-8 w-8 rounded-full p-0",children:a=>{a.out.push('<span class="sr-only">Send</span> '),oi(a,{class:"h-12 w-12"}),a.out.push("<!---->")},$$slots:{default:!0}}),t.out.push("<!---->")),t.out.push("<!--]--></div>"),k()}function Bi(t,e){let{class:s="",show:n=!0}=e;n?(t.out.push("<!--[-->"),t.out.push(`<div${K(`mt-4 flex items-center justify-center ${z(s)}`)}><p class="text-xs text-muted-foreground">Press <kbd class="rounded bg-muted px-1 py-0.5 font-mono text-xs">Enter</kbd> to send, <kbd class="rounded bg-muted px-1 py-0.5 font-mono text-xs">Shift + Enter</kbd> for new line</p></div>`)):t.out.push("<!--[!-->"),t.out.push("<!--]-->")}function ji(t){const e=[],s=[],n={},o=ue(),i=Ce();for(const r of t){const c=oe(r.type);let h=!0,l="";switch(c){case q.IMAGE:o||(h=!1,l="Images require a vision-capable model");break;case q.AUDIO:i||(h=!1,l="Audio files require an audio-capable model");break;case q.TEXT:case q.PDF:break}h?e.push(r):(s.push(r),n[r.name]=l)}return{supportedFiles:e,unsupportedFiles:s,modalityReasons:n}}function Ki(){const t=ue(),e=Ce(),s=[],n=[];return s.push(...Object.values(It)),n.push(...Object.values(Ft)),s.push(...Object.values(Ks)),n.push(...Object.values(ze)),t&&(s.push(...Object.values(Ws)),n.push(...Object.values(Fe))),e&&(s.push(...Object.values(Vs)),n.push(...Object.values(Hs))),[...s,...n].join(",")}function Vi(t,e){S();let{accept:s=void 0,class:n="",multiple:o=!0,onFileSelect:i}=e,r=s??Ki();function c(){}t.out.push(`<input type="file"${X("multiple",o,!0)}${X("accept",r)}${K(`hidden ${z(n)}`)}/>`),R(e,{accept:s,click:c}),k()}async function Hi(t,e="Copied to clipboard",s="Failed to copy to clipboard"){try{if(navigator.clipboard&&navigator.clipboard.writeText)return await navigator.clipboard.writeText(t),xe.success(e),!0;const n=document.createElement("textarea");n.value=t,n.style.position="fixed",n.style.left="-999999px",n.style.top="-999999px",document.body.appendChild(n),n.focus(),n.select();const o=document.execCommand("copy");if(document.body.removeChild(n),o)return xe.success(e),!0;throw new Error("execCommand failed")}catch(n){return console.error("Failed to copy to clipboard:",n),xe.error(s),!1}}function kn(){let t=!1,e=null,s=null,n=null;async function o(){if(!t){t=!0,n=He.subscribe(l=>{e=l,l?s=l:s=null});try{const l=await He.getCurrentState();l&&(e=l,s=l),He.isStreaming()&&He.startStreaming()}catch(l){console.warn("Failed to start slots monitoring:",l)}}}function i(){if(!t)return;t=!1,re().keepStatsVisible?s&&(e=s):e=null,n&&(n(),n=null)}function r(){if(!e)return"Processing...";switch(e.status){case"initializing":return"Initializing...";case"preparing":return e.progressPercent!==void 0?`Processing (${e.progressPercent}%)`:"Preparing response...";case"generating":return e.tokensDecoded>0?`Generating... (${e.tokensDecoded} tokens)`:"Generating...";default:return"Processing..."}}function c(){const l=e||s;if(!l)return[];const u=[],a=re();if(l.contextUsed>=0&&l.contextTotal>0){const f=Math.round(l.contextUsed/l.contextTotal*100);u.push(`Context: ${l.contextUsed}/${l.contextTotal} (${f}%)`)}if(l.outputTokensUsed>0)if(l.outputTokensMax<=0)u.push(`Output: ${l.outputTokensUsed}/`);else{const f=Math.round(l.outputTokensUsed/l.outputTokensMax*100);u.push(`Output: ${l.outputTokensUsed}/${l.outputTokensMax} (${f}%)`)}return a.showTokensPerSecond&&l.tokensPerSecond&&l.tokensPerSecond>0&&u.push(`${l.tokensPerSecond.toFixed(1)} tokens/sec`),l.speculative&&u.push("Speculative decoding enabled"),u}function h(){return e!==null&&e.status!=="idle"}return{get processingState(){return e},getProcessingDetails:c,getProcessingMessage:r,shouldShowDetails:h,startMonitoring:o,stopMonitoring:i}}function Qe(t,e){S();let{ref:s=null,checked:n=!1,indeterminate:o=!1,class:i,$$slots:r,$$events:c,...h}=e,l=!0,u;function a(f){f.out.push("<!---->");{let g=function(p,{checked:d,indeterminate:v}){p.out.push('<div data-slot="checkbox-indicator" class="text-current transition-none">'),d?(p.out.push("<!--[-->"),at(p,{class:"size-3.5"})):(p.out.push("<!--[!-->"),v?(p.out.push("<!--[-->"),gi(p,{class:"size-3.5"})):p.out.push("<!--[!-->"),p.out.push("<!--]-->")),p.out.push("<!--]--></div>")};pr(f,E([{"data-slot":"checkbox",class:Z("peer flex size-4 shrink-0 items-center justify-center rounded-[4px] border border-input shadow-xs transition-shadow outline-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:cursor-not-allowed disabled:opacity-50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 data-[state=checked]:border-primary data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:bg-input/30 dark:aria-invalid:ring-destructive/40 dark:data-[state=checked]:bg-primary",i)},h,{get ref(){return s},set ref(p){s=p,l=!1},get checked(){return n},set checked(p){n=p,l=!1},get indeterminate(){return o},set indeterminate(p){o=p,l=!1},children:g,$$slots:{default:!0}}]))}f.out.push("<!---->")}do l=!0,u=H(t),a(u);while(!l);W(t,u),R(e,{ref:s,checked:n,indeterminate:o}),k()}function Wi(t,e){S();let{class:s="",siblingInfo:n,onNavigateToSibling:o}=e,i=n&&n.currentIndex>0,r=n&&n.currentIndex<n.totalSiblings-1,c=r?n.siblingIds[n.currentIndex+1]:null,h=i?n.siblingIds[n.currentIndex-1]:null;function l(){c&&o?.(c)}function u(){h&&o?.(h)}n&&n.totalSiblings>1?(t.out.push("<!--[-->"),t.out.push(`<div${X("aria-label",`Message version ${z(n.currentIndex+1)} of ${z(n.totalSiblings)}`)}${K(`flex items-center gap-1 text-xs text-muted-foreground ${z(s)}`)} role="navigation"><!---->`),me(t,{children:a=>{a.out.push("<!---->"),ve(a,{children:f=>{J(f,{"aria-label":"Previous message version",class:`h-5 w-5 p-0 ${z(i?"":"cursor-not-allowed opacity-30")}`,disabled:!i,onclick:u,size:"sm",variant:"ghost",children:g=>{dn(g,{class:"h-3 w-3"})},$$slots:{default:!0}})},$$slots:{default:!0}}),a.out.push("<!----> <!---->"),be(a,{children:f=>{f.out.push("<p>Previous version</p>")},$$slots:{default:!0}}),a.out.push("<!---->")},$$slots:{default:!0}}),t.out.push(`<!----> <span class="px-1 font-mono text-xs">${I(n.currentIndex+1)}/${I(n.totalSiblings)}</span> <!---->`),me(t,{children:a=>{a.out.push("<!---->"),ve(a,{children:f=>{J(f,{"aria-label":"Next message version",class:`h-5 w-5 p-0 ${z(r?"":"cursor-not-allowed opacity-30")}`,disabled:!r,onclick:l,size:"sm",variant:"ghost",children:g=>{pn(g,{class:"h-3 w-3"})},$$slots:{default:!0}})},$$slots:{default:!0}}),a.out.push("<!----> <!---->"),be(a,{children:f=>{f.out.push("<p>Next version</p>")},$$slots:{default:!0}}),a.out.push("<!---->")},$$slots:{default:!0}}),t.out.push("<!----></div>")):t.out.push("<!--[!-->"),t.out.push("<!--]-->"),k()}function _n(t,e){S();let{actionsPosition:s,deletionInfo:n,justify:o,onCopy:i,onEdit:r,onConfirmDelete:c,onDelete:h,onNavigateToSibling:l,onShowDeleteDialogChange:u,onRegenerate:a,role:f,siblingInfo:g=null,showDeleteDialog:p}=e;function d(){c(),u(!1)}let v=!0,T;function m(x){x.out.push(`<div${K(`relative ${z(o==="start"?"mt-2":"")} flex h-6 items-center justify-${z(o)}`)}><div${K(`absolute top-0 ${z(s==="left"?"left-0":"right-0")} flex items-center gap-2 opacity-100 transition-opacity`)}>`),g&&g.totalSiblings>1?(x.out.push("<!--[-->"),Wi(x,{siblingInfo:g,onNavigateToSibling:l})):x.out.push("<!--[!-->"),x.out.push('<!--]--> <div class="pointer-events-auto inset-0 flex items-center gap-1 opacity-100 transition-all duration-150">'),Ge(x,{icon:fn,tooltip:"Copy",onclick:i}),x.out.push("<!----> "),r?(x.out.push("<!--[-->"),Ge(x,{icon:Wo,tooltip:"Edit",onclick:r})):x.out.push("<!--[!-->"),x.out.push("<!--]--> "),f==="assistant"&&a?(x.out.push("<!--[-->"),Ge(x,{icon:ys,tooltip:"Regenerate",onclick:a})):x.out.push("<!--[!-->"),x.out.push("<!--]--> "),Ge(x,{icon:bt,tooltip:"Delete",onclick:h}),x.out.push("<!----></div></div></div> "),Zs(x,{title:"Delete Message",description:n&&n.totalCount>1?`This will delete ${n.totalCount} messages including: ${n.userMessages} user message${n.userMessages>1?"s":""} and ${n.assistantMessages} assistant response${n.assistantMessages>1?"s":""}. All messages in this branch and their responses will be permanently removed. This action cannot be undone.`:"Are you sure you want to delete this message? This action cannot be undone.",confirmText:n&&n.totalCount>1?`Delete ${n.totalCount} Messages`:"Delete",cancelText:"Cancel",variant:"destructive",icon:bt,onConfirm:d,onCancel:()=>u(!1),get open(){return p},set open(C){p=C,v=!1}}),x.out.push("<!---->")}do v=!0,T=H(t),m(T);while(!v);W(t,T),k()}function Gi(t,e){S();let{class:s="",deletionInfo:n,editedContent:o="",isEditing:i=!1,message:r,messageContent:c,onCancelEdit:h,onConfirmDelete:l,onCopy:u,onDelete:a,onEdit:f,onEditKeydown:g,onEditedContentChange:p,onNavigateToSibling:d,onRegenerate:v,onSaveEdit:T,onShowDeleteDialogChange:m,onShouldBranchAfterEditChange:x,showDeleteDialog:C,shouldBranchAfterEdit:w=!1,siblingInfo:b=null,textareaElement:N=void 0,thinkingContent:P}=e;const M=kn();let A=re(),L=qs(),j=()=>A.showModelInfo?r.model?r.model:L:null,U=!0,D;function O(F){if(F.out.push(`<div${K(`text-md group w-full leading-7.5 ${z(s)}`,"svelte-16qxm4u")} role="group" aria-label="Assistant message with actions">`),P?(F.out.push("<!--[-->"),yi(F,{reasoningContent:P,isStreaming:!r.timestamp,hasRegularContent:!!c?.trim()})):F.out.push("<!--[!-->"),F.out.push("<!--]--> "),r?.role==="assistant"&&Je()&&!r?.content?.trim()?(F.out.push("<!--[-->"),F.out.push(`<div class="mt-6 w-full max-w-[48rem]"><div class="processing-container svelte-16qxm4u"><span class="processing-text svelte-16qxm4u">${I(M.getProcessingMessage())}</span></div></div>`)):F.out.push("<!--[!-->"),F.out.push("<!--]--> "),i){F.out.push("<!--[-->"),F.out.push(`<div class="w-full"><textarea${K(`min-h-[50vh] w-full resize-y rounded-2xl px-3 py-2 text-sm ${z(ls)}`,"svelte-16qxm4u")} placeholder="Edit assistant message...">`);const $=I(o);$&&F.out.push(`${$}`),F.out.push('</textarea> <div class="mt-2 flex items-center justify-between"><div class="flex items-center space-x-2">'),Qe(F,{id:"branch-after-edit",onCheckedChange:Q=>x?.(Q===!0),get checked(){return w},set checked(Q){w=Q,U=!1}}),F.out.push("<!----> "),qe(F,{for:"branch-after-edit",class:"cursor-pointer text-sm text-muted-foreground",children:Q=>{Q.out.push("<!---->Branch conversation after edit")},$$slots:{default:!0}}),F.out.push('<!----></div> <div class="flex gap-2">'),J(F,{class:"h-8 px-3",onclick:h,size:"sm",variant:"outline",children:Q=>{Se(Q,{class:"mr-1 h-3 w-3"}),Q.out.push("<!----> Cancel")},$$slots:{default:!0}}),F.out.push("<!----> "),J(F,{class:"h-8 px-3",onclick:T,disabled:!o?.trim(),size:"sm",children:Q=>{at(Q,{class:"mr-1 h-3 w-3"}),Q.out.push("<!----> Save")},$$slots:{default:!0}}),F.out.push("<!----></div></div></div>")}else F.out.push("<!--[!-->"),r.role==="assistant"?(F.out.push("<!--[-->"),re().disableReasoningFormat?(F.out.push("<!--[-->"),F.out.push(`<pre class="raw-output svelte-16qxm4u">${I(c||"")}</pre>`)):(F.out.push("<!--[!-->"),In(F,{content:c||""})),F.out.push("<!--]-->")):(F.out.push("<!--[!-->"),F.out.push(`<div class="text-sm whitespace-pre-wrap">${I(c)}</div>`)),F.out.push("<!--]-->");if(F.out.push('<!--]--> <div class="info my-6 grid gap-4">'),j()?(F.out.push("<!--[-->"),F.out.push('<span class="inline-flex items-center gap-2 text-xs text-muted-foreground"><span class="inline-flex items-center gap-1">'),bi(F,{class:"h-3.5 w-3.5"}),F.out.push(`<!----> <span>Model used:</span></span> <button class="inline-flex cursor-pointer items-center gap-1 rounded-sm bg-muted-foreground/15 px-1.5 py-0.75">${I(j())} `),fn(F,{class:"ml-1 h-3 w-3 "}),F.out.push("<!----></button></span>")):F.out.push("<!--[!-->"),F.out.push("<!--]--> "),A.showMessageStats&&r.timings&&r.timings.predicted_n&&r.timings.predicted_ms){F.out.push("<!--[-->");const $=r.timings.predicted_n/r.timings.predicted_ms*1e3;F.out.push('<span class="inline-flex items-center gap-2 text-xs text-muted-foreground"><span class="inline-flex items-center gap-1">'),ri(F,{class:"h-3.5 w-3.5"}),F.out.push('<!----> <span>Statistics:</span></span> <div class="inline-flex flex-wrap items-center gap-2 text-xs text-muted-foreground"><span class="inline-flex items-center gap-1 rounded-sm bg-muted-foreground/15 px-1.5 py-0.75">'),fi(F,{class:"h-3 w-3"}),F.out.push(`<!----> ${I($.toFixed(2))} tokens/s</span> <span class="inline-flex items-center gap-1 rounded-sm bg-muted-foreground/15 px-1.5 py-0.75">`),Pi(F,{class:"h-3 w-3"}),F.out.push(`<!----> ${I(r.timings.predicted_n)} tokens</span> <span class="inline-flex items-center gap-1 rounded-sm bg-muted-foreground/15 px-1.5 py-0.75">`),li(F,{class:"h-3 w-3"}),F.out.push(`<!----> ${I((r.timings.predicted_ms/1e3).toFixed(2))}s</span></div></span>`)}else F.out.push("<!--[!-->");F.out.push("<!--]--></div> "),r.timestamp&&!i?(F.out.push("<!--[-->"),_n(F,{role:"assistant",justify:"start",actionsPosition:"left",siblingInfo:b,showDeleteDialog:C,deletionInfo:n,onCopy:u,onEdit:f,onRegenerate:v,onDelete:a,onConfirmDelete:l,onNavigateToSibling:d,onShowDeleteDialogChange:m})):F.out.push("<!--[!-->"),F.out.push("<!--]--></div>")}do U=!0,D=H(t),O(D);while(!U);W(t,D),R(e,{textareaElement:N}),k()}function Pn(t,e){S();let{ref:s=null,class:n,children:o,$$slots:i,$$events:r,...c}=e;t.out.push(`<div${G({"data-slot":"card",class:pe(Z("flex flex-col gap-6 rounded-xl border bg-card py-6 text-card-foreground shadow-sm",n)),...c},null)}>`),o?.(t),t.out.push("<!----></div>"),R(e,{ref:s}),k()}function qi(t,e){S();let{class:s="",message:n,isEditing:o,editedContent:i,siblingInfo:r=null,showDeleteDialog:c,deletionInfo:h,onCancelEdit:l,onSaveEdit:u,onEditKeydown:a,onEditedContentChange:f,onCopy:g,onEdit:p,onDelete:d,onConfirmDelete:v,onNavigateToSibling:T,onShowDeleteDialogChange:m,textareaElement:x=void 0}=e;const C=re();if(t.out.push(`<div aria-label="User message with actions"${K(`group flex flex-col items-end gap-3 md:gap-2 ${z(s)}`)} role="group">`),o){t.out.push("<!--[-->"),t.out.push(`<div class="w-full max-w-[80%]"><textarea${K(`min-h-[60px] w-full resize-none rounded-2xl px-3 py-2 text-sm ${z(ls)}`)} placeholder="Edit your message...">`);const w=I(i);w&&t.out.push(`${w}`),t.out.push('</textarea> <div class="mt-2 flex justify-end gap-2">'),J(t,{class:"h-8 px-3",onclick:l,size:"sm",variant:"outline",children:b=>{Se(b,{class:"mr-1 h-3 w-3"}),b.out.push("<!----> Cancel")},$$slots:{default:!0}}),t.out.push("<!----> "),J(t,{class:"h-8 px-3",onclick:u,disabled:!i.trim(),size:"sm",children:b=>{at(b,{class:"mr-1 h-3 w-3"}),b.out.push("<!----> Send")},$$slots:{default:!0}}),t.out.push("<!----></div></div>")}else t.out.push("<!--[!-->"),n.extra&&n.extra.length>0?(t.out.push("<!--[-->"),t.out.push('<div class="mb-2 max-w-[80%]">'),Cn(t,{attachments:n.extra,readonly:!0,imageHeight:"h-80"}),t.out.push("<!----></div>")):t.out.push("<!--[!-->"),t.out.push("<!--]--> "),n.content.trim()?(t.out.push("<!--[-->"),Pn(t,{class:"max-w-[80%] rounded-[1.125rem] bg-primary px-3.75 py-1.5 text-primary-foreground data-[multiline]:py-2.5","data-multiline":void 0,children:w=>{C.renderUserContentAsMarkdown?(w.out.push("<!--[-->"),w.out.push('<div class="text-md">'),In(w,{class:"markdown-user-content text-primary-foreground",content:n.content}),w.out.push("<!----></div>")):(w.out.push("<!--[!-->"),w.out.push(`<span class="text-md whitespace-pre-wrap">${I(n.content)}</span>`)),w.out.push("<!--]-->")},$$slots:{default:!0}})):t.out.push("<!--[!-->"),t.out.push("<!--]--> "),n.timestamp?(t.out.push("<!--[-->"),t.out.push('<div class="max-w-[80%]">'),_n(t,{actionsPosition:"right",deletionInfo:h,justify:"end",onConfirmDelete:v,onCopy:g,onDelete:d,onEdit:p,onNavigateToSibling:T,onShowDeleteDialogChange:m,siblingInfo:r,showDeleteDialog:c,role:"user"}),t.out.push("<!----></div>")):t.out.push("<!--[!-->"),t.out.push("<!--]-->");t.out.push("<!--]--></div>"),R(e,{textareaElement:x}),k()}function Yi(t,e){S();let{class:s="",message:n,onCopy:o,onDelete:i,onEditWithBranching:r,onEditWithReplacement:c,onNavigateToSibling:h,onRegenerateWithBranching:l,siblingInfo:u=null}=e,a=null,f=n.content,g=!1,p=!1,d=!1,v,T=(()=>{if(n.role==="assistant"){const O=n.thinking?.trim();return O||null}return null})();function m(){g=!1,f=n.content}async function x(){await Hi(n.content,"Message copied to clipboard"),o?.(n)}function C(){i?.(n),p=!1}async function w(){a=await Vn(n.id),p=!0}function b(){g=!0,f=n.content,setTimeout(()=>{v&&(v.focus(),v.setSelectionRange(v.value.length,v.value.length))},0)}function N(O){f=O}function P(O){O.key==="Enter"&&!O.shiftKey&&!Sn(O)?(O.preventDefault(),A()):O.key==="Escape"&&(O.preventDefault(),m())}function M(){l?.(n)}function A(){n.role==="user"?r?.(n,f.trim()):c?.(n,f.trim(),d),g=!1,d=!1}function L(O){p=O}let j=!0,U;function D(O){n.role==="user"?(O.out.push("<!--[-->"),qi(O,{class:s,deletionInfo:a,editedContent:f,isEditing:g,message:n,onCancelEdit:m,onConfirmDelete:C,onCopy:x,onDelete:w,onEdit:b,onEditKeydown:P,onEditedContentChange:N,onNavigateToSibling:h,onSaveEdit:A,onShowDeleteDialogChange:L,showDeleteDialog:p,siblingInfo:u,get textareaElement(){return v},set textareaElement(F){v=F,j=!1}})):(O.out.push("<!--[!-->"),Gi(O,{class:s,deletionInfo:a,editedContent:f,isEditing:g,message:n,messageContent:n.content,onCancelEdit:m,onConfirmDelete:C,onCopy:x,onDelete:w,onEdit:b,onEditKeydown:P,onEditedContentChange:N,onNavigateToSibling:h,onRegenerate:M,onSaveEdit:A,onShowDeleteDialogChange:L,shouldBranchAfterEdit:d,onShouldBranchAfterEditChange:F=>d=F,showDeleteDialog:p,siblingInfo:u,thinkingContent:T,get textareaElement(){return v},set textareaElement(F){v=F,j=!1}})),O.out.push("<!--]-->")}do j=!0,U=H(t),D(U);while(!j);W(t,U),k()}function Xi(t,e){S();let{class:s,messages:n=[]}=e,o=[];function i(){const g=gt();g?Ae.getConversationMessages(g.id).then(p=>{o=p}):o=[]}let r=n.length?n.map(g=>{const p=Hn(o,g.id);return{message:g,siblingInfo:p||{message:g,siblingIds:[g.id],currentIndex:0,totalSiblings:1}}}):[];async function c(g){await Wn(g)}async function h(g,p){await Gn(g.id,p),i()}async function l(g,p,d){await qn(g.id,p,d),i()}async function u(g){await Xn(g.id),i()}async function a(g){await Yn(g.id),i()}const f=te(r);t.out.push(`<div${K(`flex h-full flex-col space-y-10 pt-16 md:pt-24 ${z(s)}`)} style="height: auto;"><!--[-->`);for(let g=0,p=f.length;g<p;g++){let{message:d,siblingInfo:v}=f[g];Yi(t,{class:"mx-auto w-full max-w-[48rem]",message:d,siblingInfo:v,onDelete:a,onNavigateToSibling:c,onEditWithBranching:h,onEditWithReplacement:l,onRegenerateWithBranching:u})}t.out.push("<!--]--></div>"),k()}function Ji(t,e){S();let{ref:s=null,open:n=!1,$$slots:o,$$events:i,...r}=e,c=!0,h;function l(u){u.out.push("<!---->"),fr(u,E([{"data-slot":"collapsible"},r,{get ref(){return s},set ref(a){s=a,c=!1},get open(){return n},set open(a){n=a,c=!1}}])),u.out.push("<!---->")}do c=!0,h=H(t),l(h);while(!c);W(t,h),R(e,{ref:s,open:n}),k()}function Zi(t,e){S();let{ref:s=null,$$slots:n,$$events:o,...i}=e,r=!0,c;function h(l){l.out.push("<!---->"),mr(l,E([{"data-slot":"collapsible-trigger"},i,{get ref(){return s},set ref(u){s=u,r=!1}}])),l.out.push("<!---->")}do r=!0,c=H(t),h(c);while(!r);W(t,c),R(e,{ref:s}),k()}function Qi(t,e){S();let{ref:s=null,$$slots:n,$$events:o,...i}=e,r=!0,c;function h(l){l.out.push("<!---->"),gr(l,E([{"data-slot":"collapsible-content"},i,{get ref(){return s},set ref(u){s=u,r=!1}}])),l.out.push("<!---->")}do r=!0,c=H(t),h(c);while(!r);W(t,c),R(e,{ref:s}),k()}function yi(t,e){S();let{class:s="",isStreaming:n=!1,reasoningContent:o}=e,r=re().showThoughtInProgress,c=!0,h;function l(u){u.out.push("<!---->"),Ji(u,{class:`mb-6 ${z(s)}`,get open(){return r},set open(a){r=a,c=!1},children:a=>{Pn(a,{class:"gap-0 border-muted bg-muted/30 py-0",children:f=>{f.out.push("<!---->"),Zi(f,{class:"flex cursor-pointer items-center justify-between p-3",children:g=>{g.out.push('<div class="flex items-center gap-2 text-muted-foreground">'),an(g,{class:"h-4 w-4"}),g.out.push(`<!----> <span class="text-sm font-medium">${I(n?"Reasoning...":"Reasoning")}</span></div> <div${K(pe(wo({variant:"ghost",size:"sm",class:"h-6 w-6 p-0 text-muted-foreground hover:text-foreground"})))}>`),ui(g,{class:"h-4 w-4"}),g.out.push('<!----> <span class="sr-only">Toggle reasoning content</span></div>')},$$slots:{default:!0}}),f.out.push("<!----> <!---->"),Qi(f,{children:g=>{g.out.push(`<div class="border-t border-muted px-3 pb-3"><div class="pt-3"><div class="text-xs leading-relaxed break-words whitespace-pre-wrap">${I(o??"")}</div></div></div>`)},$$slots:{default:!0}}),f.out.push("<!---->")},$$slots:{default:!0}})},$$slots:{default:!0}}),u.out.push("<!---->")}do c=!0,h=H(t),l(h);while(!c);W(t,h),k()}function $i(t,e){S();const s=kn();let n=Je(),o=s.getProcessingDetails(),i=n||re().keepStatsVisible;const r=te(o);t.out.push(`<div${K("chat-processing-info-container svelte-1m2w9ag",void 0,{visible:i})}><div class="chat-processing-info-content svelte-1m2w9ag"><!--[-->`);for(let c=0,h=r.length;c<h;c++){let l=r[c];t.out.push(`<span class="chat-processing-info-detail svelte-1m2w9ag">${I(l)}</span>`)}t.out.push("<!--]--></div></div>"),k()}function eu(t){let e=!1;function s(){e=!0}t.out.push('<header class="md:background-transparent pointer-events-none fixed top-0 right-0 left-0 z-50 flex items-center justify-end bg-background/40 p-4 backdrop-blur-xl md:left-[var(--sidebar-width)]"><div class="pointer-events-auto flex items-center space-x-2">'),J(t,{variant:"ghost",size:"sm",onclick:s,children:n=>{xn(n,{class:"h-4 w-4"})},$$slots:{default:!0}}),t.out.push("<!----></div></header> "),cu(t,{open:e,onOpenChange:n=>e=n}),t.out.push("<!---->")}function Ms(t,e){S();let{class:s=""}=e;t.out.push(`<div${K(`mb-3 ${z(s)}`)}><div class="rounded-md border border-yellow-200 bg-yellow-50 px-3 py-2 dark:border-yellow-800 dark:bg-yellow-950"><div class="flex items-center justify-between"><div class="flex items-center">`),ct(t,{class:"h-4 w-4 text-yellow-600 dark:text-yellow-400"}),t.out.push(`<!----> <p class="ml-2 text-sm text-yellow-800 dark:text-yellow-200">Server \`/props\` endpoint not available - using cached data</p></div> <button${X("disabled",Ue(),!0)} class="ml-3 flex items-center gap-1.5 rounded bg-yellow-100 px-2 py-1 text-xs font-medium text-yellow-800 hover:bg-yellow-200 disabled:opacity-50 dark:bg-yellow-900 dark:text-yellow-200 dark:hover:bg-yellow-800">`),ys(t,{class:`h-3 w-3 ${z(Ue()?"animate-spin":"")}`}),t.out.push(`<!----> ${I(Ue()?"Checking...":"Retry")}</button></div></div></div>`),k()}function Nn(t,e="white"){return new Promise((s,n)=>{try{const o=new Image;o.onload=()=>{const i=document.createElement("canvas"),r=i.getContext("2d");if(!r){n(new Error("Failed to get 2D canvas context."));return}const c=o.naturalWidth||300,h=o.naturalHeight||300;i.width=c,i.height=h,e&&(r.fillStyle=e,r.fillRect(0,0,i.width,i.height)),r.drawImage(o,0,0,c,h),s(i.toDataURL(Fe.PNG))},o.onerror=()=>{n(new Error("Failed to load SVG image. Ensure the SVG data is valid."))},o.src=t}catch(o){const r=`Error converting SVG to PNG: ${o instanceof Error?o.message:String(o)}`;console.error(r,o),n(new Error(r))}})}function Mn(t){return t===Fe.SVG}function Tn(t,e="white"){return new Promise((s,n)=>{try{const o=new Image;o.onload=()=>{const i=document.createElement("canvas"),r=i.getContext("2d");if(!r){n(new Error("Failed to get 2D canvas context."));return}const c=o.naturalWidth||300,h=o.naturalHeight||300;i.width=c,i.height=h,e&&(r.fillStyle=e,r.fillRect(0,0,i.width,i.height)),r.drawImage(o,0,0,c,h),s(i.toDataURL(Fe.PNG))},o.onerror=()=>{n(new Error("Failed to load WebP image. Ensure the WebP data is valid."))},o.src=t}catch(o){const r=`Error converting WebP to PNG: ${o instanceof Error?o.message:String(o)}`;console.error(r,o),n(new Error(r))}})}function Fn(t){return t===Fe.WEBP}const tu={prefixLength:1024*10,suspiciousCharThresholdRatio:.15,maxAbsoluteNullBytes:2};function su(t){return Object.values(It).some(s=>t.toLowerCase().endsWith(s))}async function nu(t){return new Promise((e,s)=>{const n=new FileReader;n.onload=o=>{o.target?.result!==null&&o.target?.result!==void 0?e(o.target.result):s(new Error("Failed to read file"))},n.onerror=()=>s(new Error("File reading error")),n.readAsText(t)})}function ou(t,e={}){if(!t)return!0;const s={...tu,...e},n=t.substring(0,s.prefixLength);let o=0,i=0;for(let r=0;r<n.length;r++){const c=n.charCodeAt(r);if(c===0){o++;continue}c<32&&c!==9&&c!==10&&c!==13&&(c<8||c>13&&c<27)&&i++,c===65533&&i++}return!(o>s.maxAbsoluteNullBytes||i/n.length>s.suspiciousCharThresholdRatio)}function Ts(t){return new Promise((e,s)=>{const n=new FileReader;n.onload=()=>{const i=n.result.split(",")[1];e(i)},n.onerror=()=>s(n.error),n.readAsDataURL(t)})}async function ru(t){const e=[],s=[];for(const n of t)if(oe(n.type)===q.IMAGE){if(n.preview){let o=n.preview;if(Mn(n.type))try{o=await Nn(o)}catch(i){console.error("Failed to convert SVG to PNG for database storage:",i)}else if(Fn(n.type))try{o=await Tn(o)}catch(i){console.error("Failed to convert WebP to PNG for database storage:",i)}e.push({type:"imageFile",name:n.name,base64Url:o})}}else if(oe(n.type)===q.AUDIO)try{const o=await Ts(n.file);e.push({type:"audioFile",name:n.name,base64Data:o,mimeType:n.type})}catch(o){console.error(`Failed to process audio file ${n.name}:`,o)}else if(oe(n.type)===q.PDF)try{const o=await Ts(n.file),i=re(),r=ue();let c=!!i.pdfAsImage&&r;if(i.pdfAsImage&&!r&&(console.log("Non-vision model detected: forcing PDF-to-text mode and updating settings"),vt.updateConfig("pdfAsImage",!1),xe.warning("PDF setting changed: Non-vision model detected, PDFs will be processed as text instead of images.",{duration:5e3}),c=!1),c)try{const h=await wn(n.file);xe.success(`PDF "${n.name}" processed as ${h.length} images for vision model.`,{duration:3e3}),e.push({type:"pdfFile",name:n.name,content:`PDF file with ${h.length} pages`,images:h,processedAsImages:!0,base64Data:o})}catch(h){console.warn(`Failed to process PDF ${n.name} as images, falling back to text:`,h);const l=await _s(n.file);e.push({type:"pdfFile",name:n.name,content:l,processedAsImages:!1,base64Data:o})}else{const h=await _s(n.file);xe.success(`PDF "${n.name}" processed as text content.`,{duration:3e3}),e.push({type:"pdfFile",name:n.name,content:h,processedAsImages:!1,base64Data:o})}}catch(o){console.error(`Failed to process PDF file ${n.name}:`,o)}else try{const o=await nu(n.file);o.trim()===""?(console.warn(`File ${n.name} is empty and will be skipped`),s.push(n.name)):ou(o)?e.push({type:"textFile",name:n.name,content:o}):console.warn(`File ${n.name} appears to be binary and will be skipped`)}catch(o){console.error(`Failed to read file ${n.name}:`,o)}return{extras:e,emptyFiles:s}}function Fs(t){return new Promise((e,s)=>{const n=new FileReader;n.onload=()=>e(n.result),n.onerror=()=>s(n.error),n.readAsDataURL(t)})}function iu(t){return new Promise((e,s)=>{const n=new FileReader;n.onload=()=>e(n.result),n.onerror=()=>s(n.error),n.readAsText(t)})}async function uu(t){const e=[];for(const s of t){const o={id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:s.name,size:s.size,type:s.type,file:s};try{if(oe(s.type)===q.IMAGE){let i=await Fs(s);if(Mn(s.type))try{i=await Nn(i)}catch(r){console.error("Failed to convert SVG to PNG:",r)}else if(Fn(s.type))try{i=await Tn(i)}catch(r){console.error("Failed to convert WebP to PNG:",r)}e.push({...o,preview:i})}else if(oe(s.type)===q.TEXT||su(s.name))try{const i=await iu(s);e.push({...o,textContent:i})}catch(i){console.warn("Failed to read text file, adding without content:",i),e.push(o)}else if(oe(s.type)===q.PDF){e.push(o);const i=ue(),r=vt.config;i&&!r.pdfAsImage&&xe.info("You can enable parsing PDF as images with vision models.",{duration:8e3,action:{label:"Enable PDF as Images",onClick:()=>{vt.updateConfig("pdfAsImage",!0),xe.success("PDF parsing as images enabled!",{duration:3e3})}}})}else if(oe(s.type)===q.AUDIO){const i=await Fs(s);e.push({...o,preview:i})}else e.push(o)}catch(i){console.error("Error processing file",s.name,i),e.push(o)}}return e}function Ku(t,e){S();let{showCenteredEmpty:s=!1}=e,n=!1,o=[],i={generallyUnsupported:[],modalityUnsupported:[],modalityReasons:{},supportedTypes:[]},r=!1,c=!1,h=[],l=s&&!gt()&&ds().length===0&&!Je(),u=Jn(),a=Ue(),f=Je();async function g(){const b=gt();b&&await Zn(b.id),r=!1}function p(b){b||yn()}function d(b){o=o.filter(N=>N.id!==b)}function v(b){m(b)}async function T(b,N){const P=N?await ru(N):void 0;if(P?.emptyFiles&&P.emptyFiles.length>0){if(h=P.emptyFiles,c=!0,N){const A=new Set(P.emptyFiles);o=o.filter(L=>!A.has(L.name))}return!1}const M=P?.extras;return await Qn(b,M),!0}async function m(b){const N=[],P=[];for(const U of b)$o(U.name,U.type)?N.push(U):P.push(U);const{supportedFiles:M,unsupportedFiles:A,modalityReasons:L}=ji(N);if([...P,...A].length>0){const U=["text files","PDFs"];ue()&&U.push("images"),Ce()&&U.push("audio files"),i={generallyUnsupported:P,modalityUnsupported:A,modalityReasons:L,supportedTypes:U},n=!0}if(M.length>0){const U=await uu(M);o=[...o,...U]}}let x=!0,C;function w(b){b.out.push("<!--[!-->"),b.out.push("<!--]--> "),eu(b),b.out.push("<!----> "),l?(b.out.push("<!--[!-->"),a?(b.out.push("<!--[-->"),ku(b,{})):(b.out.push("<!--[!-->"),Pe.error&&!Pe.modelName?(b.out.push("<!--[-->"),Zo(b,{error:Pe.error})):(b.out.push("<!--[!-->"),Pe.modelName?(b.out.push("<!--[-->"),b.out.push('<div aria-label="Welcome screen with file drop zone" class="flex h-full items-center justify-center" role="main"><div class="w-full max-w-2xl px-4"><div class="mb-8 text-center"><h1 class="mb-2 text-3xl font-semibold tracking-tight">Delta</h1> <p class="text-lg text-muted-foreground">How can I help you today?</p></div> <div class="mb-6 flex justify-center">'),_u(b),b.out.push("<!----></div> "),ms()?(b.out.push("<!--[-->"),Ms(b,{})):b.out.push("<!--[!-->"),b.out.push("<!--]--> <div>"),Ns(b,{isLoading:f,onFileRemove:d,onFileUpload:v,onSend:T,onStop:()=>ps(),showHelperText:!0,get uploadedFiles(){return o},set uploadedFiles(N){o=N,x=!1}}),b.out.push("<!----></div></div></div>")):b.out.push("<!--[!-->"),b.out.push("<!--]-->")),b.out.push("<!--]-->")),b.out.push("<!--]-->")):(b.out.push("<!--[-->"),b.out.push('<div aria-label="Chat interface with file drop zone" class="flex h-full flex-col overflow-y-auto px-4 md:px-6" role="main">'),Xi(b,{class:"mb-16 md:mb-24",messages:ds()}),b.out.push('<!----> <div class="pointer-events-none sticky right-0 bottom-0 left-0 mt-auto">'),$i(b),b.out.push("<!----> "),ms()?(b.out.push("<!--[-->"),Ms(b,{class:"pointer-events-auto mx-auto max-w-[48rem] px-4"})):b.out.push("<!--[!-->"),b.out.push('<!--]--> <div class="conversation-chat-form pointer-events-auto rounded-t-3xl pb-4 svelte-sn2p3p">'),Ns(b,{isLoading:f,onFileRemove:d,onFileUpload:v,onSend:T,onStop:()=>ps(),showHelperText:!1,get uploadedFiles(){return o},set uploadedFiles(N){o=N,x=!1}}),b.out.push("<!----></div></div></div>")),b.out.push("<!--]--> <!---->"),st(b,{get open(){return n},set open(N){n=N,x=!1},children:N=>{N.out.push("<!---->"),Go(N,{children:P=>{P.out.push("<!---->"),qo(P,{}),P.out.push("<!----> <!---->"),nt(P,{class:"max-w-md",children:M=>{if(M.out.push("<!---->"),ot(M,{children:A=>{A.out.push("<!---->"),rt(A,{children:L=>{L.out.push("<!---->File Upload Error")},$$slots:{default:!0}}),A.out.push("<!----> <!---->"),it(A,{class:"text-sm text-muted-foreground",children:L=>{L.out.push("<!---->Some files cannot be uploaded with the current model.")},$$slots:{default:!0}}),A.out.push("<!---->")},$$slots:{default:!0}}),M.out.push('<!----> <div class="space-y-4">'),i.generallyUnsupported.length>0){M.out.push("<!--[-->");const A=te(i.generallyUnsupported);M.out.push('<div class="space-y-2"><h4 class="text-sm font-medium text-destructive">Unsupported File Types</h4> <div class="space-y-1"><!--[-->');for(let L=0,j=A.length;L<j;L++){let U=A[L];M.out.push(`<div class="rounded-md bg-destructive/10 px-3 py-2"><p class="font-mono text-sm break-all text-destructive">${I(U.name)}</p> <p class="mt-1 text-xs text-muted-foreground">File type not supported</p></div>`)}M.out.push("<!--]--></div></div>")}else M.out.push("<!--[!-->");if(M.out.push("<!--]--> "),i.modalityUnsupported.length>0){M.out.push("<!--[-->");const A=te(i.modalityUnsupported);M.out.push('<div class="space-y-2"><h4 class="text-sm font-medium text-destructive">Model Compatibility Issues</h4> <div class="space-y-1"><!--[-->');for(let L=0,j=A.length;L<j;L++){let U=A[L];M.out.push(`<div class="rounded-md bg-destructive/10 px-3 py-2"><p class="font-mono text-sm break-all text-destructive">${I(U.name)}</p> <p class="mt-1 text-xs text-muted-foreground">${I(i.modalityReasons[U.name]||"Not supported by current model")}</p></div>`)}M.out.push("<!--]--></div></div>")}else M.out.push("<!--[!-->");M.out.push(`<!--]--> <div class="rounded-md bg-muted/50 p-3"><h4 class="mb-2 text-sm font-medium">This model supports:</h4> <p class="text-sm text-muted-foreground">${I(i.supportedTypes.join(", "))}</p></div></div> <!---->`),ut(M,{children:A=>{A.out.push("<!---->"),lt(A,{onclick:()=>n=!1,children:L=>{L.out.push("<!---->Got it")},$$slots:{default:!0}}),A.out.push("<!---->")},$$slots:{default:!0}}),M.out.push("<!---->")},$$slots:{default:!0}}),P.out.push("<!---->")}}),N.out.push("<!---->")},$$slots:{default:!0}}),b.out.push("<!----> "),Zs(b,{title:"Delete Conversation",description:"Are you sure you want to delete this conversation? This action cannot be undone and will permanently remove all messages in this conversation.",confirmText:"Delete",cancelText:"Cancel",variant:"destructive",icon:bt,onConfirm:g,onCancel:()=>r=!1,get open(){return r},set open(N){r=N,x=!1}}),b.out.push("<!----> "),wu(b,{emptyFiles:h,onOpenChange:N=>{N||(h=[])},get open(){return c},set open(N){c=N,x=!1}}),b.out.push("<!----> "),xu(b,{message:u?.message??"",onOpenChange:p,open:!!u,type:u?.type??"server"}),b.out.push("<!---->")}do x=!0,C=H(t),w(C);while(!x);W(t,C),k()}function Is(t,e){S();let{conversations:s,messageCountMap:n=new Map,mode:o,onCancel:i,onConfirm:r,open:c=!1}=e,h="",l=new Ee(s.map(w=>w.id)),u=null,a=s.filter(w=>(w.name||"Untitled conversation").toLowerCase().includes(h.toLowerCase())),f=a.length>0&&a.every(w=>l.has(w.id)),g=a.some(w=>l.has(w.id))&&!f;function p(w,b=!1){const N=new Ee(l);if(b&&u!==null){const P=a.findIndex(A=>A.id===u),M=a.findIndex(A=>A.id===w);if(P!==-1&&M!==-1){const A=Math.min(P,M),L=Math.max(P,M),j=!N.has(w);for(let U=A;U<=L;U++)j?N.add(a[U].id):N.delete(a[U].id);l=N;return}}N.has(w)?N.delete(w):N.add(w),l=N,u=w}function d(){if(f){const w=new Ee(l);a.forEach(b=>w.delete(b.id)),l=w}else{const w=new Ee(l);a.forEach(b=>w.add(b.id)),l=w}}function v(){const w=s.filter(b=>l.has(b.id));r(w)}function T(){l=new Ee(s.map(w=>w.id)),h="",u=null,i()}let m=!0,x;function C(w){w.out.push("<!---->"),rs(w,{get open(){return c},set open(b){c=b,m=!1},children:b=>{b.out.push("<!---->"),hn(b,{children:N=>{N.out.push("<!---->"),cn(N,{class:"z-[1000000]"}),N.out.push("<!----> <!---->"),os(N,{class:"z-[1000001] max-w-2xl",children:P=>{P.out.push("<!---->"),ln(P,{children:M=>{M.out.push("<!---->"),Ze(M,{children:A=>{A.out.push(`<!---->Select Conversations to ${I(o==="export"?"Export":"Import")}`)},$$slots:{default:!0}}),M.out.push("<!----> <!---->"),ni(M,{children:A=>{o==="export"?(A.out.push("<!--[-->"),A.out.push(`Choose which conversations you want to export. Selected conversations will be downloaded
						as a JSON file.`)):(A.out.push("<!--[!-->"),A.out.push(`Choose which conversations you want to import. Selected conversations will be merged
						with your existing conversations.`)),A.out.push("<!--]-->")},$$slots:{default:!0}}),M.out.push("<!---->")},$$slots:{default:!0}}),P.out.push('<!----> <div class="space-y-4"><div class="relative">'),Yo(P,{class:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),P.out.push("<!----> "),Gs(P,{placeholder:"Search conversations...",class:"pr-9 pl-9",get value(){return h},set value(M){h=M,m=!1}}),P.out.push("<!----> "),h?(P.out.push("<!--[-->"),P.out.push('<button class="absolute top-1/2 right-3 -translate-y-1/2 text-muted-foreground hover:text-foreground" type="button">'),Se(P,{class:"h-4 w-4"}),P.out.push("<!----></button>")):P.out.push("<!--[!-->"),P.out.push(`<!--]--></div> <div class="flex items-center justify-between text-sm text-muted-foreground"><span>${I(l.size)} of ${I(s.length)} selected `),h?(P.out.push("<!--[-->"),P.out.push(`(${I(a.length)} shown)`)):P.out.push("<!--[!-->"),P.out.push('<!--]--></span></div> <div class="overflow-hidden rounded-md border">'),Qs(P,{class:"h-[400px]",children:M=>{if(M.out.push('<table class="w-full"><thead class="sticky top-0 z-10 bg-muted"><tr class="border-b"><th class="w-12 p-3 text-left">'),Qe(M,{checked:f,indeterminate:g,onCheckedChange:d}),M.out.push('<!----></th><th class="p-3 text-left text-sm font-medium">Conversation Name</th><th class="w-32 p-3 text-left text-sm font-medium">Messages</th></tr></thead><tbody>'),a.length===0)M.out.push("<!--[-->"),M.out.push('<tr><td colspan="3" class="p-8 text-center text-sm text-muted-foreground">'),h?(M.out.push("<!--[-->"),M.out.push(`No conversations found matching "${I(h)}"`)):(M.out.push("<!--[!-->"),M.out.push("No conversations available")),M.out.push("<!--]--></td></tr>");else{M.out.push("<!--[!-->");const A=te(a);M.out.push("<!--[-->");for(let L=0,j=A.length;L<j;L++){let U=A[L];M.out.push('<tr class="cursor-pointer border-b transition-colors hover:bg-muted/50"><td class="p-3">'),Qe(M,{checked:l.has(U.id),onclick:D=>{D.preventDefault(),D.stopPropagation(),p(U.id,D.shiftKey)}}),M.out.push(`<!----></td><td class="p-3 text-sm"><div class="max-w-[17rem] truncate"${X("title",U.name||"Untitled conversation")}>${I(U.name||"Untitled conversation")}</div></td><td class="p-3 text-sm text-muted-foreground">${I(n.get(U.id)??0)}</td></tr>`)}M.out.push("<!--]-->")}M.out.push("<!--]--></tbody></table>")},$$slots:{default:!0}}),P.out.push("<!----></div></div> <!---->"),si(P,{children:M=>{J(M,{variant:"outline",onclick:T,children:A=>{A.out.push("<!---->Cancel")},$$slots:{default:!0}}),M.out.push("<!----> "),J(M,{onclick:v,disabled:l.size===0,children:A=>{A.out.push(`<!---->${I(o==="export"?"Export":"Import")} (${I(l.size)})`)},$$slots:{default:!0}}),M.out.push("<!---->")},$$slots:{default:!0}}),P.out.push("<!---->")},$$slots:{default:!0}}),N.out.push("<!---->")}}),b.out.push("<!---->")},$$slots:{default:!0}}),w.out.push("<!---->")}do m=!0,x=H(t),C(x);while(!m);W(t,x),R(e,{open:c}),k()}function Ds(t){const e=new Map;for(const s of t)e.set(s.conv.id,s.messages.length);return e}function lu(t,e){S();let s=[],n=[],o=!1,i=!1,r=!1,c=!1,h=[],l=new Map,u=[];async function a(){try{const m=await Ae.getAllConversations();if(m.length===0){alert("No conversations to export");return}const x=await Promise.all(m.map(async C=>{const w=await Ae.getConversationMessages(C.id);return{conv:C,messages:w}}));l=Ds(x),h=m,r=!0}catch(m){console.error("Failed to load conversations:",m),alert("Failed to load conversations")}}async function f(m){try{const x=await Promise.all(m.map(async N=>{const P=await Ae.getConversationMessages(N.id);return{conv:Ye(N),messages:Ye(P)}})),C=new Blob([JSON.stringify(x,null,2)],{type:"application/json"}),w=URL.createObjectURL(C),b=document.createElement("a");b.href=w,b.download=`conversations_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(w),s=m,o=!0,i=!1,r=!1}catch(x){console.error("Export failed:",x),alert("Failed to export conversations")}}async function g(){try{const m=document.createElement("input");m.type="file",m.accept=".json",m.onchange=async x=>{const C=x.target?.files?.[0];if(C)try{const w=await C.text(),b=JSON.parse(w);let N;if(Array.isArray(b))N=b;else if(b&&typeof b=="object"&&"conv"in b&&"messages"in b)N=[b];else throw new Error("Invalid file format: expected array of conversations or single conversation object");u=N,h=N.map(P=>P.conv),l=Ds(N),c=!0}catch(w){const b=w instanceof Error?w.message:"Unknown error";console.error("Failed to parse file:",w),alert(`Failed to parse file: ${b}`)}},m.click()}catch(m){console.error("Import failed:",m),alert("Failed to import conversations")}}async function p(m){try{const x=new Set(m.map(w=>w.id)),C=Ye(u).filter(w=>x.has(w.conv.id));await Ae.importConversations(C),await $n.loadConversations(),n=m,i=!0,o=!1,c=!1}catch(x){console.error("Import failed:",x),alert("Failed to import conversations. Please check the file format.")}}let d=!0,v;function T(m){if(m.out.push(`<div class="space-y-6"><div class="space-y-4"><div class="grid"><h4 class="mb-2 text-sm font-medium">Export Conversations</h4> <p class="mb-4 text-sm text-muted-foreground">Download all your conversations as a JSON file. This includes all messages, attachments, and
				conversation history.</p> `),J(m,{class:"w-full justify-start justify-self-start md:w-auto",onclick:a,variant:"outline",children:x=>{ai(x,{class:"mr-2 h-4 w-4"}),x.out.push("<!----> Export conversations")},$$slots:{default:!0}}),m.out.push("<!----> "),o&&s.length>0){m.out.push("<!--[-->");const x=te(s.slice(0,10));m.out.push(`<div class="mt-4 grid overflow-x-auto rounded-lg border border-border/50 bg-muted/30 p-4"><h5 class="mb-2 text-sm font-medium">Exported ${I(s.length)} conversation${I(s.length===1?"":"s")}</h5> <ul class="space-y-1 text-sm text-muted-foreground"><!--[-->`);for(let C=0,w=x.length;C<w;C++){let b=x[C];m.out.push(`<li class="truncate"> ${I(b.name||"Untitled conversation")}</li>`)}m.out.push("<!--]--> "),s.length>10?(m.out.push("<!--[-->"),m.out.push(`<li class="italic">... and ${I(s.length-10)} more</li>`)):m.out.push("<!--[!-->"),m.out.push("<!--]--></ul></div>")}else m.out.push("<!--[!-->");if(m.out.push(`<!--]--></div> <div class="grid border-t border-border/30 pt-4"><h4 class="mb-2 text-sm font-medium">Import Conversations</h4> <p class="mb-4 text-sm text-muted-foreground">Import one or more conversations from a previously exported JSON file. This will merge with
				your existing conversations.</p> `),J(m,{class:"w-full justify-start justify-self-start md:w-auto",onclick:g,variant:"outline",children:x=>{ki(x,{class:"mr-2 h-4 w-4"}),x.out.push("<!----> Import conversations")},$$slots:{default:!0}}),m.out.push("<!----> "),i&&n.length>0){m.out.push("<!--[-->");const x=te(n.slice(0,10));m.out.push(`<div class="mt-4 grid overflow-x-auto rounded-lg border border-border/50 bg-muted/30 p-4"><h5 class="mb-2 text-sm font-medium">Imported ${I(n.length)} conversation${I(n.length===1?"":"s")}</h5> <ul class="space-y-1 text-sm text-muted-foreground"><!--[-->`);for(let C=0,w=x.length;C<w;C++){let b=x[C];m.out.push(`<li class="truncate"> ${I(b.name||"Untitled conversation")}</li>`)}m.out.push("<!--]--> "),n.length>10?(m.out.push("<!--[-->"),m.out.push(`<li class="italic">... and ${I(n.length-10)} more</li>`)):m.out.push("<!--[!-->"),m.out.push("<!--]--></ul></div>")}else m.out.push("<!--[!-->");m.out.push("<!--]--></div></div></div> "),Is(m,{conversations:h,messageCountMap:l,mode:"export",onCancel:()=>r=!1,onConfirm:f,get open(){return r},set open(x){r=x,d=!1}}),m.out.push("<!----> "),Is(m,{conversations:h,messageCountMap:l,mode:"import",onCancel:()=>c=!1,onConfirm:p,get open(){return c},set open(x){c=x,d=!1}}),m.out.push("<!---->")}do d=!0,v=H(t),T(v);while(!d);W(t,v),k()}function cu(t,e){S();let{onOpenChange:s,open:n=!1}=e;const o=[{title:"General",icon:xn,fields:[{key:"apiKey",label:"API Key",type:"input"},{key:"systemMessage",label:"System Message (will be disabled if left empty)",type:"textarea"},{key:"theme",label:"Theme",type:"select",options:[{value:"system",label:"System",icon:mi},{value:"light",label:"Light",icon:Ci},{value:"dark",label:"Dark",icon:vi}]},{key:"showMessageStats",label:"Show message generation statistics",type:"checkbox"},{key:"showTokensPerSecond",label:"Show tokens per second",type:"checkbox"},{key:"keepStatsVisible",label:"Keep stats visible after generation",type:"checkbox"},{key:"askForTitleConfirmation",label:"Ask for confirmation before changing conversation title",type:"checkbox"},{key:"pasteLongTextToFileLen",label:"Paste long text to file length",type:"input"},{key:"pdfAsImage",label:"Parse PDF as image",type:"checkbox"},{key:"showModelInfo",label:"Show model information",type:"checkbox"},{key:"renderUserContentAsMarkdown",label:"Render user content as Markdown",type:"checkbox"}]},{title:"Sampling",icon:pi,fields:[{key:"temperature",label:"Temperature",type:"input"},{key:"dynatemp_range",label:"Dynamic temperature range",type:"input"},{key:"dynatemp_exponent",label:"Dynamic temperature exponent",type:"input"},{key:"top_k",label:"Top K",type:"input"},{key:"top_p",label:"Top P",type:"input"},{key:"min_p",label:"Min P",type:"input"},{key:"xtc_probability",label:"XTC probability",type:"input"},{key:"xtc_threshold",label:"XTC threshold",type:"input"},{key:"typ_p",label:"Typical P",type:"input"},{key:"max_tokens",label:"Max tokens",type:"input"},{key:"samplers",label:"Samplers",type:"input"}]},{title:"Penalties",icon:ct,fields:[{key:"repeat_last_n",label:"Repeat last N",type:"input"},{key:"repeat_penalty",label:"Repeat penalty",type:"input"},{key:"presence_penalty",label:"Presence penalty",type:"input"},{key:"frequency_penalty",label:"Frequency penalty",type:"input"},{key:"dry_multiplier",label:"DRY multiplier",type:"input"},{key:"dry_base",label:"DRY base",type:"input"},{key:"dry_allowed_length",label:"DRY allowed length",type:"input"},{key:"dry_penalty_last_n",label:"DRY penalty last N",type:"input"}]},{title:"Reasoning",icon:an,fields:[{key:"showThoughtInProgress",label:"Show thought in progress",type:"checkbox"}]},{title:"Import/Export",icon:hi,fields:[]},{title:"Developer",icon:ci,fields:[{key:"modelSelectorEnabled",label:"Enable model selector",type:"checkbox"},{key:"disableReasoningFormat",label:"Show raw LLM output",type:"checkbox"},{key:"custom",label:"Custom JSON",type:"textarea"}]}];let i="General",r=o.find(p=>p.title===i)||o[0],c={...re()},h="";function l(p){c.theme=p,ft(p)}function u(p,d){c[p]=d}function a(){c.theme!==h&&ft(h),s?.(!1)}function f(){c={...re()},ft(c.theme),h=c.theme}function g(){if(c.custom&&typeof c.custom=="string"&&c.custom.trim())try{JSON.parse(c.custom)}catch(v){alert("Invalid JSON in custom parameters. Please check the format and try again."),console.error(v);return}const p={...c},d=["temperature","top_k","top_p","min_p","max_tokens","pasteLongTextToFileLen","dynatemp_range","dynatemp_exponent","typ_p","xtc_probability","xtc_threshold","repeat_last_n","repeat_penalty","presence_penalty","frequency_penalty","dry_multiplier","dry_base","dry_allowed_length","dry_penalty_last_n"];for(const v of d)if(p[v]!==void 0&&p[v]!==""){const T=Number(p[v]);if(!isNaN(T))p[v]=T;else{alert(`Invalid numeric value for ${v}. Please enter a valid number.`);return}}Mo(p),s?.(!1)}t.out.push("<!---->"),rs(t,{open:n,onOpenChange:a,children:p=>{p.out.push("<!---->"),os(p,{class:`z-999999 flex h-[100dvh] max-h-[100dvh] min-h-[100dvh] flex-col gap-0 rounded-none p-0
			md:h-[64vh] md:max-h-[64vh] md:min-h-0 md:rounded-lg`,style:"max-width: 48rem;",children:d=>{const v=te(o),T=te(o);d.out.push('<div class="flex flex-1 flex-col overflow-hidden md:flex-row"><div class="hidden w-64 border-r border-border/30 p-6 md:block"><nav class="space-y-1 py-2"><!---->'),Ze(d,{class:"mb-6 flex items-center gap-2",children:m=>{m.out.push("<!---->Settings")},$$slots:{default:!0}}),d.out.push("<!----> <!--[-->");for(let m=0,x=v.length;m<x;m++){let C=v[m];d.out.push(`<button${K(`flex w-full cursor-pointer items-center gap-3 rounded-lg px-3 py-2 text-left text-sm transition-colors hover:bg-accent ${z(i===C.title?"bg-accent text-accent-foreground":"text-muted-foreground")}`)}><!---->`),C.icon(d,{class:"h-4 w-4"}),d.out.push(`<!----> <span class="ml-2">${I(C.title)}</span></button>`)}d.out.push('<!--]--></nav></div> <div class="flex flex-col md:hidden"><div class="border-b border-border/30 py-4"><!---->'),Ze(d,{class:"mb-6 flex items-center gap-2 px-4",children:m=>{m.out.push("<!---->Settings")},$$slots:{default:!0}}),d.out.push(`<!----> <div class="relative flex items-center" style="scroll-padding: 1rem;"><button${K(`absolute left-2 z-10 flex h-6 w-6 items-center justify-center rounded-full bg-muted shadow-md backdrop-blur-sm transition-opacity hover:bg-accent ${z("pointer-events-none opacity-0")}`)} aria-label="Scroll left">`),dn(d,{class:"h-4 w-4"}),d.out.push('<!----></button> <div class="scrollbar-hide overflow-x-auto py-2"><div class="flex min-w-max gap-2"><!--[-->');for(let m=0,x=T.length;m<x;m++){let C=T[m];d.out.push(`<button${K(`flex cursor-pointer items-center gap-2 rounded-lg px-3 py-2 text-sm whitespace-nowrap transition-colors first:ml-4 last:mr-4 hover:bg-accent ${z(i===C.title?"bg-accent text-accent-foreground":"text-muted-foreground")}`)}><!---->`),C.icon(d,{class:"h-4 w-4 flex-shrink-0"}),d.out.push(`<!----> <span>${I(C.title)}</span></button>`)}d.out.push(`<!--]--></div></div> <button${K(`absolute right-2 z-10 flex h-6 w-6 items-center justify-center rounded-full bg-muted shadow-md backdrop-blur-sm transition-opacity hover:bg-accent ${z("pointer-events-none opacity-0")}`)} aria-label="Scroll right">`),pn(d,{class:"h-4 w-4"}),d.out.push("<!----></button></div></div></div> "),Qs(d,{class:"max-h-[calc(100dvh-13.5rem)] flex-1 md:max-h-[calc(100vh-13.5rem)]",children:m=>{m.out.push('<div class="space-y-6 p-4 md:p-6"><div class="grid"><div class="mb-6 flex hidden items-center gap-2 border-b border-border/30 pb-6 md:flex"><!---->'),r.icon(m,{class:"h-5 w-5"}),m.out.push(`<!----> <h3 class="text-lg font-semibold">${I(r.title)}</h3></div> `),r.title==="Import/Export"?(m.out.push("<!--[-->"),lu(m)):(m.out.push("<!--[!-->"),m.out.push('<div class="space-y-6">'),bu(m,{fields:r.fields,localConfig:c,onConfigChange:u,onThemeChange:l}),m.out.push("<!----></div>")),m.out.push(`<!--]--></div> <div class="mt-8 border-t pt-6"><p class="text-xs text-muted-foreground">Settings are saved in browser's localStorage</p></div></div>`)},$$slots:{default:!0}}),d.out.push("<!----></div> "),hu(d,{onReset:f,onSave:g}),d.out.push("<!---->")},$$slots:{default:!0}}),p.out.push("<!---->")},$$slots:{default:!0}}),t.out.push("<!---->"),k()}function hu(t,e){S();let{onReset:s,onSave:n}=e,o=!1;function i(){o=!0}function r(){To(),s?.(),o=!1}function c(){n?.()}let h=!0,l;function u(a){a.out.push('<div class="flex justify-between border-t border-border/30 p-6"><div class="flex gap-2">'),J(a,{variant:"outline",onclick:i,children:f=>{xt(f,{class:"h-3 w-3"}),f.out.push("<!----> Reset to default")},$$slots:{default:!0}}),a.out.push("<!----></div> "),J(a,{onclick:c,children:f=>{f.out.push("<!---->Save settings")},$$slots:{default:!0}}),a.out.push("<!----></div> <!---->"),st(a,{get open(){return o},set open(f){o=f,h=!1},children:f=>{f.out.push("<!---->"),nt(f,{children:g=>{g.out.push("<!---->"),ot(g,{children:p=>{p.out.push("<!---->"),rt(p,{children:d=>{d.out.push("<!---->Reset Settings to Default")},$$slots:{default:!0}}),p.out.push("<!----> <!---->"),it(p,{children:d=>{d.out.push(`<!---->Are you sure you want to reset all settings to their default values? This will reset all
				parameters to the values provided by the server's /props endpoint and remove all your custom
				configurations.`)},$$slots:{default:!0}}),p.out.push("<!---->")},$$slots:{default:!0}}),g.out.push("<!----> <!---->"),ut(g,{children:p=>{p.out.push("<!---->"),Xo(p,{children:d=>{d.out.push("<!---->Cancel")},$$slots:{default:!0}}),p.out.push("<!----> <!---->"),lt(p,{onclick:r,children:d=>{d.out.push("<!---->Reset to Default")},$$slots:{default:!0}}),p.out.push("<!---->")},$$slots:{default:!0}}),g.out.push("<!---->")},$$slots:{default:!0}}),f.out.push("<!---->")},$$slots:{default:!0}}),a.out.push("<!---->")}do h=!0,l=H(t),u(l);while(!h);W(t,l),k()}function au(t,e){S();let{ref:s=null,class:n,value:o,label:i,children:r,$$slots:c,$$events:h,...l}=e,u=!0,a;function f(g){g.out.push("<!---->");{let p=function(d,{selected:v,highlighted:T}){d.out.push('<span class="absolute right-2 flex size-3.5 items-center justify-center">'),v?(d.out.push("<!--[-->"),at(d,{class:"size-4"})):d.out.push("<!--[!-->"),d.out.push("<!--]--></span> "),r?(d.out.push("<!--[-->"),r(d,{selected:v,highlighted:T}),d.out.push("<!---->")):(d.out.push("<!--[!-->"),d.out.push(`${I(i||o)}`)),d.out.push("<!--]-->")};Dr(g,E([{value:o,"data-slot":"select-item",class:Z("relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n)},l,{get ref(){return s},set ref(d){s=d,u=!1},children:p,$$slots:{default:!0}}]))}g.out.push("<!---->")}do u=!0,a=H(t),f(a);while(!u);W(t,a),R(e,{ref:s}),k()}function du(t,e){S();let{ref:s=null,class:n,$$slots:o,$$events:i,...r}=e,c=!0,h;function l(u){u.out.push("<!---->"),Or(u,E([{"data-slot":"select-scroll-up-button",class:Z("flex cursor-default items-center justify-center py-1",n)},r,{get ref(){return s},set ref(a){s=a,c=!1},children:a=>{ii(a,{class:"size-4"})},$$slots:{default:!0}}])),u.out.push("<!---->")}do c=!0,h=H(t),l(h);while(!c);W(t,h),R(e,{ref:s}),k()}function pu(t,e){S();let{ref:s=null,class:n,$$slots:o,$$events:i,...r}=e,c=!0,h;function l(u){u.out.push("<!---->"),Ar(u,E([{"data-slot":"select-scroll-down-button",class:Z("flex cursor-default items-center justify-center py-1",n)},r,{get ref(){return s},set ref(a){s=a,c=!1},children:a=>{is(a,{class:"size-4"})},$$slots:{default:!0}}])),u.out.push("<!---->")}do c=!0,h=H(t),l(h);while(!c);W(t,h),R(e,{ref:s}),k()}function fu(t,e){S();let{ref:s=null,class:n,sideOffset:o=4,portalProps:i,children:r,$$slots:c,$$events:h,...l}=e;Co(()=>{});let u=!0,a;function f(g){g.out.push("<!---->"),Ke(g,E([i,{children:p=>{p.out.push("<!---->"),Ir(p,E([{sideOffset:o,"data-slot":"select-content",class:Z("relative z-[var(--layer-popover,1000000)] max-h-(--bits-select-content-available-height) min-w-[8rem] origin-(--bits-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border bg-popover text-popover-foreground shadow-md data-[side=bottom]:translate-y-1 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:-translate-x-1 data-[side=left]:slide-in-from-right-2 data-[side=right]:translate-x-1 data-[side=right]:slide-in-from-left-2 data-[side=top]:-translate-y-1 data-[side=top]:slide-in-from-bottom-2 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95",n)},l,{get ref(){return s},set ref(d){s=d,u=!1},children:d=>{du(d,{}),d.out.push("<!----> <!---->"),Er(d,{class:Z("h-(--bits-select-anchor-height) w-full min-w-(--bits-select-anchor-width) scroll-my-1 p-1"),children:v=>{r?.(v),v.out.push("<!---->")},$$slots:{default:!0}}),d.out.push("<!----> "),pu(d,{}),d.out.push("<!---->")},$$slots:{default:!0}}])),p.out.push("<!---->")},$$slots:{default:!0}}])),g.out.push("<!---->")}do u=!0,a=H(t),f(a);while(!u);W(t,a),R(e,{ref:s}),k()}function gu(t,e){S();let{ref:s=null,class:n,children:o,size:i="default",variant:r="default",$$slots:c,$$events:h,...l}=e;const u=r==="plain"?"group inline-flex w-full items-center justify-end gap-2 whitespace-nowrap px-0 py-0 text-sm font-medium text-muted-foreground transition-colors focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50 data-[placeholder]:text-muted-foreground data-[size=default]:h-9 data-[size=sm]:h-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-3 [&_svg:not([class*='text-'])]:text-muted-foreground":"flex w-fit items-center justify-between gap-2 rounded-md border border-input bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none select-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:cursor-not-allowed disabled:opacity-50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 data-[placeholder]:text-muted-foreground data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 dark:bg-input/30 dark:hover:bg-input/50 dark:aria-invalid:ring-destructive/40 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground",a=r==="plain"?"size-3 opacity-60 transition-transform group-data-[state=open]:-rotate-180":"size-4 opacity-50";let f=!0,g;function p(d){d.out.push("<!---->"),Qr(d,E([{"data-slot":"select-trigger","data-size":i,class:Z(u,n)},l,{get ref(){return s},set ref(v){s=v,f=!1},children:v=>{o?.(v),v.out.push("<!----> "),is(v,{class:a}),v.out.push("<!---->")},$$slots:{default:!0}}])),d.out.push("<!---->")}do f=!0,g=H(t),p(g);while(!f);W(t,g),R(e,{ref:s}),k()}const mu=Zr;function vu(t,e){S();let{ref:s=null,value:n=void 0,class:o,$$slots:i,$$events:r,...c}=e;t.out.push(`<textarea${G({"data-slot":"textarea",class:pe(Z("flex field-sizing-content min-h-16 w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:cursor-not-allowed disabled:opacity-50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 md:text-sm dark:bg-input/30 dark:aria-invalid:ring-destructive/40",o)),...c},null)}>`);const h=I(n);h&&t.out.push(`${h}`),t.out.push("</textarea>"),R(e,{ref:s,value:n}),k()}function Es(t,e){let{class:s=""}=e;Me(t,{variant:"secondary",class:`h-5 bg-orange-100 px-1.5 py-0.5 text-xs text-orange-800 dark:bg-orange-900 dark:text-orange-200 ${z(s)}`,children:n=>{Ni(n,{class:"mr-1 h-3 w-3"}),n.out.push("<!----> Custom")},$$slots:{default:!0}})}function bu(t,e){S();let{fields:s,localConfig:n,onConfigChange:o,onThemeChange:i}=e;function r(h){return Fo.canSyncParameter(h)?Io(h):null}const c=te(s);t.out.push("<!--[-->");for(let h=0,l=c.length;h<l;h++){let u=c[h];if(t.out.push('<div class="space-y-2">'),u.type==="input"){t.out.push("<!--[-->");const a=r(u.key),f=String(n[u.key]??""),g=a?.serverDefault,p=(()=>{if(!a||g===void 0)return!1;const d=f,v=parseFloat(d),T=isNaN(v)?d:Math.round(v*1e6)/1e6,m=typeof g=="number"?Math.round(g*1e6)/1e6:g;return T!==m})();t.out.push('<div class="flex items-center gap-2">'),qe(t,{for:u.key,class:"text-sm font-medium",children:d=>{d.out.push(`<!---->${I(u.label)}`)},$$slots:{default:!0}}),t.out.push("<!----> "),p?(t.out.push("<!--[-->"),Es(t,{})):t.out.push("<!--[!-->"),t.out.push('<!--]--></div> <div class="relative w-full md:max-w-md">'),Gs(t,{id:u.key,value:f,oninput:d=>{o(u.key,d.currentTarget.value)},placeholder:`Default: ${vs[u.key]??"none"}`,class:`w-full ${z(p?"pr-8":"")}`}),t.out.push("<!----> "),p?(t.out.push("<!--[-->"),t.out.push('<button type="button" class="absolute top-1/2 right-2 inline-flex h-5 w-5 -translate-y-1/2 items-center justify-center rounded transition-colors hover:bg-muted" aria-label="Reset to default" title="Reset to default">'),xt(t,{class:"h-3 w-3"}),t.out.push("<!----></button>")):t.out.push("<!--[!-->"),t.out.push("<!--]--></div> "),u.help||ge[u.key]?(t.out.push("<!--[-->"),t.out.push(`<p class="mt-1 text-xs text-muted-foreground">${I(u.help||ge[u.key])}</p>`)):t.out.push("<!--[!-->"),t.out.push("<!--]-->")}else{if(t.out.push("<!--[!-->"),u.type==="textarea")t.out.push("<!--[-->"),qe(t,{for:u.key,class:"block text-sm font-medium",children:a=>{a.out.push(`<!---->${I(u.label)}`)},$$slots:{default:!0}}),t.out.push("<!----> "),vu(t,{id:u.key,value:String(n[u.key]??""),onchange:a=>o(u.key,a.currentTarget.value),placeholder:`Default: ${vs[u.key]??"none"}`,class:"min-h-[100px] w-full md:max-w-2xl"}),t.out.push("<!----> "),u.help||ge[u.key]?(t.out.push("<!--[-->"),t.out.push(`<p class="mt-1 text-xs text-muted-foreground">${I(u.help||ge[u.key])}</p>`)):t.out.push("<!--[!-->"),t.out.push("<!--]-->");else{if(t.out.push("<!--[!-->"),u.type==="select"){t.out.push("<!--[-->");const a=u.options?.find(v=>v.value===n[u.key]),f=r(u.key),g=n[u.key],p=f?.serverDefault,d=!f||p===void 0?!1:g!==p;t.out.push('<div class="flex items-center gap-2">'),qe(t,{for:u.key,class:"text-sm font-medium",children:v=>{v.out.push(`<!---->${I(u.label)}`)},$$slots:{default:!0}}),t.out.push("<!----> "),d?(t.out.push("<!--[-->"),Es(t,{})):t.out.push("<!--[!-->"),t.out.push("<!--]--></div> <!---->"),mu(t,{type:"single",value:g,onValueChange:v=>{u.key==="theme"&&v&&i?i(v):o(u.key,v)},children:v=>{v.out.push('<div class="relative w-full md:w-auto md:max-w-md"><!---->'),gu(v,{class:"w-full",children:T=>{if(T.out.push('<div class="flex items-center gap-2">'),a?.icon){T.out.push("<!--[-->");const m=a.icon;T.out.push("<!---->"),m(T,{class:"h-4 w-4"}),T.out.push("<!---->")}else T.out.push("<!--[!-->");T.out.push(`<!--]--> ${I(a?.label||`Select ${u.label.toLowerCase()}`)}</div>`)},$$slots:{default:!0}}),v.out.push("<!----> "),d?(v.out.push("<!--[-->"),v.out.push('<button type="button" class="absolute top-1/2 right-8 inline-flex h-5 w-5 -translate-y-1/2 items-center justify-center rounded transition-colors hover:bg-muted" aria-label="Reset to default" title="Reset to default">'),xt(v,{class:"h-3 w-3"}),v.out.push("<!----></button>")):v.out.push("<!--[!-->"),v.out.push("<!--]--></div> <!---->"),fu(v,{children:T=>{if(u.options){T.out.push("<!--[-->");const m=te(u.options);T.out.push("<!--[-->");for(let x=0,C=m.length;x<C;x++){let w=m[x];T.out.push("<!---->"),au(T,{value:w.value,label:w.label,children:b=>{if(b.out.push('<div class="flex items-center gap-2">'),w.icon){b.out.push("<!--[-->");const N=w.icon;b.out.push("<!---->"),N(b,{class:"h-4 w-4"}),b.out.push("<!---->")}else b.out.push("<!--[!-->");b.out.push(`<!--]--> ${I(w.label)}</div>`)},$$slots:{default:!0}}),T.out.push("<!---->")}T.out.push("<!--]-->")}else T.out.push("<!--[!-->");T.out.push("<!--]-->")},$$slots:{default:!0}}),v.out.push("<!---->")},$$slots:{default:!0}}),t.out.push("<!----> "),u.help||ge[u.key]?(t.out.push("<!--[-->"),t.out.push(`<p class="mt-1 text-xs text-muted-foreground">${I(u.help||ge[u.key])}</p>`)):t.out.push("<!--[!-->"),t.out.push("<!--]-->")}else{if(t.out.push("<!--[!-->"),u.type==="checkbox"){t.out.push("<!--[-->");const a=u.key==="pdfAsImage"&&!ue();t.out.push('<div class="flex items-start space-x-3">'),Qe(t,{id:u.key,checked:!!n[u.key],disabled:a,onCheckedChange:f=>o(u.key,f),class:"mt-1"}),t.out.push(`<!----> <div class="space-y-1"><label${X("for",u.key)}${K(`cursor-pointer text-sm leading-none font-medium ${z(a?"text-muted-foreground":"")}`)}>${I(u.label)}</label> `),u.help||ge[u.key]?(t.out.push("<!--[-->"),t.out.push(`<p class="text-xs text-muted-foreground">${I(u.help||ge[u.key])}</p>`)):(t.out.push("<!--[!-->"),u.key==="pdfAsImage"&&!ue()?(t.out.push("<!--[-->"),t.out.push(`<p class="text-xs text-muted-foreground">PDF-to-image processing requires a vision-capable model. PDFs will be processed as
							text.</p>`)):t.out.push("<!--[!-->"),t.out.push("<!--]-->")),t.out.push("<!--]--></div></div>")}else t.out.push("<!--[!-->");t.out.push("<!--]-->")}t.out.push("<!--]-->")}t.out.push("<!--]-->")}t.out.push("<!--]--></div>")}t.out.push("<!--]-->"),k()}function xu(t,e){S();let{open:s=void 0,type:n,message:o,onOpenChange:i}=e;const r=n==="timeout",c=r?"TCP Timeout":"Server Error",h=r?"The request did not receive a response from the server before timing out.":"The server responded with an error message. Review the details below.",l=r?"text-destructive":"text-amber-500",u=r?"border-destructive/40 bg-destructive/10 text-destructive":"border-amber-500/40 bg-amber-500/10 text-amber-600 dark:text-amber-400";function a(f){s=f,i?.(f)}t.out.push("<!---->"),st(t,{open:s,onOpenChange:a,children:f=>{f.out.push("<!---->"),nt(f,{children:g=>{g.out.push("<!---->"),ot(g,{children:p=>{p.out.push("<!---->"),rt(p,{class:"flex items-center gap-2",children:d=>{r?(d.out.push("<!--[-->"),Si(d,{class:`h-5 w-5 ${l}`})):(d.out.push("<!--[!-->"),ct(d,{class:`h-5 w-5 ${l}`})),d.out.push(`<!--]--> ${I(c)}`)},$$slots:{default:!0}}),p.out.push("<!----> <!---->"),it(p,{children:d=>{d.out.push(`<!---->${I(h)}`)},$$slots:{default:!0}}),p.out.push("<!---->")},$$slots:{default:!0}}),g.out.push(`<!----> <div${K(`rounded-lg border px-4 py-3 text-sm ${u}`)}><p class="font-medium">${I(o)}</p></div> <!---->`),ut(g,{children:p=>{p.out.push("<!---->"),lt(p,{onclick:()=>a(!1),children:d=>{d.out.push("<!---->Close")},$$slots:{default:!0}}),p.out.push("<!---->")},$$slots:{default:!0}}),g.out.push("<!---->")},$$slots:{default:!0}}),f.out.push("<!---->")},$$slots:{default:!0}}),t.out.push("<!---->"),R(e,{open:s}),k()}function wu(t,e){S();let{open:s=void 0,emptyFiles:n,onOpenChange:o}=e;function i(r){s=r,o?.(r)}t.out.push("<!---->"),st(t,{open:s,onOpenChange:i,children:r=>{r.out.push("<!---->"),nt(r,{children:c=>{const h=te(n);c.out.push("<!---->"),ot(c,{children:l=>{l.out.push("<!---->"),rt(l,{class:"flex items-center gap-2",children:u=>{di(u,{class:"h-5 w-5 text-destructive"}),u.out.push("<!----> Empty Files Detected")},$$slots:{default:!0}}),l.out.push("<!----> <!---->"),it(l,{children:u=>{u.out.push("<!---->The following files are empty and have been removed from your attachments:")},$$slots:{default:!0}}),l.out.push("<!---->")},$$slots:{default:!0}}),c.out.push('<!----> <div class="space-y-3 text-sm"><div class="rounded-lg bg-muted p-3"><div class="mb-2 font-medium">Empty Files:</div> <ul class="list-inside list-disc space-y-1 text-muted-foreground"><!--[-->');for(let l=0,u=h.length;l<u;l++){let a=h[l];c.out.push(`<li class="font-mono text-sm">${I(a)}</li>`)}c.out.push('<!--]--></ul></div> <div><div class="mb-2 font-medium">What happened:</div> <ul class="list-inside list-disc space-y-1 text-muted-foreground"><li>Empty files cannot be processed or sent to the AI model</li> <li>These files have been automatically removed from your attachments</li> <li>You can try uploading files with content instead</li></ul></div></div> <!---->'),ut(c,{children:l=>{l.out.push("<!---->"),lt(l,{onclick:()=>i(!1),children:u=>{u.out.push("<!---->Got it")},$$slots:{default:!0}}),l.out.push("<!---->")},$$slots:{default:!0}}),c.out.push("<!---->")},$$slots:{default:!0}}),r.out.push("<!---->")},$$slots:{default:!0}}),t.out.push("<!---->"),R(e,{open:s}),k()}function Cu(t,e){S();let{open:s=void 0,code:n,language:o,onOpenChange:i}=e;function r(c){s=c,i?.(c)}t.out.push("<!---->"),Js(t,{open:s,onOpenChange:r,children:c=>{c.out.push("<!---->"),Ke(c,{children:h=>{h.out.push("<!---->"),Ls(h,{class:"code-preview-overlay"}),h.out.push("<!----> <!---->"),Bs(h,{class:"code-preview-content",children:l=>{l.out.push(`<iframe${X("title",`Preview ${z(o)}`)} sandbox="allow-scripts" class="code-preview-iframe"></iframe> <!---->`),js(l,{class:"code-preview-close absolute top-4 right-4 border-none bg-transparent text-white opacity-70 mix-blend-difference transition-opacity hover:opacity-100 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-8","aria-label":"Close preview",children:u=>{Se(u,{}),u.out.push('<!----> <span class="sr-only">Close preview</span>')},$$slots:{default:!0}}),l.out.push("<!---->")},$$slots:{default:!0}}),h.out.push("<!---->")}}),c.out.push("<!---->")},$$slots:{default:!0}}),t.out.push("<!---->"),R(e,{open:s}),k()}function In(t,e){S();let{content:s,class:n=""}=e,o="",i=!1,r="",c="text";function h(l){i=l,l||(r="",c="text")}t.out.push(`<div${K(pe(n),"svelte-1qk6xxt")}>${Jo(o)}</div> `),Cu(t,{open:i,code:r,language:c,onOpenChange:h}),t.out.push("<!---->"),k()}function Su(t,e){S();let{class:s="",showActions:n=!1}=e,o=Do(),i=Ue(),r=qs(),c=Eo();function h(){return i?"bg-yellow-500":o?"bg-red-500":c?"bg-green-500":"bg-gray-500"}function l(){return i?"Connecting...":o?"Connection Error":c?"Connected":"Unknown"}t.out.push(`<div${K(`flex items-center space-x-3 ${z(s)}`)}><div class="flex items-center space-x-2"><div${K(`h-2 w-2 rounded-full ${z(h())}`)}></div> <span class="text-sm text-muted-foreground">${I(l())}</span></div> `),c&&!o?(t.out.push("<!--[-->"),Me(t,{variant:"outline",class:"text-xs",children:u=>{us(u,{class:"mr-1 h-3 w-3"}),u.out.push(`<!----> ${I(r||"Unknown Model")}`)},$$slots:{default:!0}}),t.out.push("<!----> "),c.default_generation_settings.n_ctx?(t.out.push("<!--[-->"),Me(t,{variant:"secondary",class:"text-xs",children:u=>{u.out.push(`<!---->context: ${I(c.default_generation_settings.n_ctx.toLocaleString())}`)},$$slots:{default:!0}})):t.out.push("<!--[!-->"),t.out.push("<!--]-->")):t.out.push("<!--[!-->"),t.out.push("<!--]--> "),n&&o?(t.out.push("<!--[-->"),J(t,{variant:"outline",size:"sm",class:"text-destructive",children:u=>{ct(u,{class:"h-4 w-4"}),u.out.push(`<!----> ${I(o)}`)},$$slots:{default:!0}})):t.out.push("<!--[!-->"),t.out.push("<!--]--></div>"),k()}function ku(t,e){let{class:s="",message:n="Initializing connection to Delta server..."}=e;t.out.push(`<div${K(`flex h-full items-center justify-center ${z(s)}`)}><div class="text-center"><div class="mb-4"><div class="mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-muted">`),us(t,{class:"h-8 w-8 animate-pulse text-muted-foreground"}),t.out.push(`<!----></div> <h2 class="mb-2 text-xl font-semibold">Connecting to Server</h2> <p class="text-sm text-muted-foreground">${I(n)}</p></div> <div class="mt-4">`),Su(t,{class:"justify-center"}),t.out.push("<!----></div></div></div>")}function _u(t,e){S();let s=Pe.supportedModalities,n=Pe.modelName,o=Pe.serverProps;if(o){if(t.out.push("<!--[-->"),t.out.push('<div class="flex flex-wrap items-center justify-center gap-4 text-sm text-muted-foreground">'),n?(t.out.push("<!--[-->"),Me(t,{variant:"outline",class:"text-xs",children:i=>{us(i,{class:"mr-1 h-3 w-3"}),i.out.push(`<!----> <span class="block max-w-[50vw] truncate">${I(n)}</span>`)},$$slots:{default:!0}})):t.out.push("<!--[!-->"),t.out.push('<!--]--> <div class="flex gap-4">'),o.default_generation_settings.n_ctx?(t.out.push("<!--[-->"),Me(t,{variant:"secondary",class:"text-xs",children:i=>{i.out.push(`<!---->context: ${I(o.default_generation_settings.n_ctx.toLocaleString())}`)},$$slots:{default:!0}})):t.out.push("<!--[!-->"),t.out.push("<!--]--> "),s.length>0){t.out.push("<!--[-->");const i=te(s);t.out.push("<!--[-->");for(let r=0,c=i.length;r<c;r++){let h=i[r];Me(t,{variant:"secondary",class:"text-xs",children:l=>{h==="vision"?(l.out.push("<!--[-->"),gn(l,{class:"mr-1 h-3 w-3"})):(l.out.push("<!--[!-->"),h==="audio"?(l.out.push("<!--[-->"),bn(l,{class:"mr-1 h-3 w-3"})):l.out.push("<!--[!-->"),l.out.push("<!--]-->")),l.out.push(`<!--]--> ${I(h)}`)},$$slots:{default:!0}})}t.out.push("<!--]-->")}else t.out.push("<!--[!-->");t.out.push("<!--]--></div></div>")}else t.out.push("<!--[!-->");t.out.push("<!--]-->"),k()}function Ge(t,e){let{icon:s,tooltip:n,variant:o="ghost",size:i="sm",class:r="",disabled:c=!1,onclick:h,"aria-label":l}=e;t.out.push("<!---->"),me(t,{delayDuration:Re,children:u=>{u.out.push("<!---->"),ve(u,{children:a=>{J(a,{variant:o,size:i,disabled:c,onclick:h,class:`h-6 w-6 p-0 ${z(r)} flex`,"aria-label":l||n,children:f=>{const g=s;f.out.push("<!---->"),g(f,{class:"h-3 w-3"}),f.out.push("<!---->")},$$slots:{default:!0}})},$$slots:{default:!0}}),u.out.push("<!----> <!---->"),be(u,{children:a=>{a.out.push(`<p>${I(n)}</p>`)},$$slots:{default:!0}}),u.out.push("<!---->")},$$slots:{default:!0}}),t.out.push("<!---->")}export{Ku as C};
