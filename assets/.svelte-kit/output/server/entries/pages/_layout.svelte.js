import{w as x,z as Q,y as _,A as y,B as O,D as m,E as S,F as Zt,G as _t,x as Lt,I as st,J as U,K,M as Mt,N as L,O as Jt,P as Bt,Q as k,R as V,S as G}from"../../chunks/index.js";import{h as Xt,s as qt,d as yt,P as $t,D as te,a as ee,b as se,S as Et,c as ne,p as nt,e as oe,C as ie,T as ue,R as Kt,A as Rt,f as zt,g as Ft,i as Ht,j as Ut,k as re,l as le,L as ce}from"../../chunks/ConfirmationDialog.js";import{I as jt,m as he,t as ae,d as fe,l as de,a as pe,b as xt,s as me,c as N,B as $,S as ge,e as Wt,X as ve}from"../../chunks/MarkdownContent.svelte_svelte_type_style_lang.js";import"clsx";import"pdfjs-dist";import"@sveltejs/kit/internal";import"../../chunks/exports.js";import"../../chunks/utils.js";import"@sveltejs/kit/internal/server";import{c as be,t as W,a as j,S as we,M as xe,b as kt,d as _e,u as Ce,g as Se,e as Ie,i as Te}from"../../chunks/chat.svelte.js";import"../../chunks/settings.svelte.js";import"style-to-object";function Ae(t,s){x();let{$$slots:e,$$events:n,...o}=s;jt(t,Q([{name:"arrow-big-up"},o,{iconNode:[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z"}]],children:c=>{o.children?.(c),c.out.push("<!---->")},$$slots:{default:!0}}])),_()}function Me(t,s){x();let{$$slots:e,$$events:n,...o}=s;jt(t,Q([{name:"panel-left"},o,{iconNode:[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M9 3v18"}]],children:c=>{o.children?.(c),c.out.push("<!---->")},$$slots:{default:!0}}])),_()}const Be=Array(12).fill(0);function Ee(t,s){x();let{visible:e,class:n}=s;const o=y(Be);t.out.push(`<div${O(S(["sonner-loading-wrapper",n].filter(Boolean).join(" ")))}${m("data-visible",e)}><div class="sonner-spinner"><!--[-->`);for(let r=0,c=o.length;r<c;r++)o[r],t.out.push('<div class="sonner-loading-bar"></div>');t.out.push("<!--]--></div></div>"),_()}const ke=void 0;function Ne(t){let s=t.activeElement;for(;s?.shadowRoot;){const e=s.shadowRoot.activeElement;if(e===s)break;s=e}return s}class Pe{#e;#t;constructor(s={}){const{window:e=ke,document:n=e?.document}=s;e!==void 0&&(this.#e=n,this.#t=be())}get current(){return this.#t?.(),this.#e?Ne(this.#e):null}}new Pe;class De{#e;#t;constructor(s){this.#e=s,this.#t=Symbol(s)}get key(){return this.#t}exists(){return Zt(this.#t)}get(){const s=_t(this.#t);if(s===void 0)throw new Error(`Context "${this.#e}" not found`);return s}getOr(s){const e=_t(this.#t);return e===void 0?s:e}set(s){return Lt(this.#t,s)}}const Oe=new De("<Toaster/>");function Nt(t){return t.label!==void 0}const Pt=4e3,Le=14,Ke=200,Re={toast:"",title:"",description:"",loader:"",closeButton:"",cancelButton:"",actionButton:"",action:"",warning:"",error:"",success:"",default:"",info:"",loading:""};function ze(t,s){x();let{toast:e,index:n,expanded:o,invert:r,position:c,visibleToasts:i,expandByDefault:l,closeButton:f,interacting:u,cancelButtonStyle:h="",actionButtonStyle:M="",duration:p,descriptionClass:d="",classes:g,unstyled:P=!1,loadingIcon:R,successIcon:B,errorIcon:C,warningIcon:v,closeIcon:b,infoIcon:w,defaultRichColors:I=!1,swipeDirections:z,closeButtonAriaLabel:Y,$$slots:ot,$$events:Z,...q}=s;const St={...Re};let it=!1,tt=!1,It=!1,Tt=!1,At=!1,ut=0,et=0;e.duration;let rt=null;const lt=n===0,ct=n+1<=i,T=e.type,ht=e.dismissable!==!1,at=e.class||"",E=e.descriptionClass||"",J=W.heights.findIndex(A=>A.toastId===e.id)||0,ft=e.closeButton??f;e.duration;const X=c.split("-"),dt=W.heights.reduce((A,bt,wt)=>wt>=J?A:A+bt.height,0),pt=e.invert||r,F=T==="loading",D={...St,...g};e.title,e.description;const H=Math.round(J*Le+dt);function mt(){tt=!0,ut=H,W.removeHeight(e.id),setTimeout(()=>{W.remove(e.id)},Ke)}e.promise&&T==="loading"||(e.duration,Number.POSITIVE_INFINITY);const gt=e.icon?e.icon:T==="success"?B:T==="error"?C:T==="warning"?v:T==="info"?w:T==="loading"?R:null;function vt(A){R?(A.out.push("<!--[-->"),A.out.push(`<div${O(S(j(D?.loader,e?.classes?.loader,"sonner-loader")))}${m("data-visible",T==="loading")}>`),R(A),A.out.push("<!----></div>")):(A.out.push("<!--[!-->"),Ee(A,{class:j(D?.loader,e.classes?.loader),visible:T==="loading"})),A.out.push("<!--]-->")}if(t.out.push(`<li${m("tabindex",0)}${O(S(j(q.class,at,D?.toast,e?.classes?.toast,D?.[T],e?.classes?.[T])))} data-sonner-toast=""${m("data-rich-colors",e.richColors??I)}${m("data-styled",!(e.component||e.unstyled||P))}${m("data-mounted",it)}${m("data-promise",!!e.promise)}${m("data-swiped",At)}${m("data-removed",tt)}${m("data-visible",ct)}${m("data-y-position",X[0])}${m("data-x-position",X[1])}${m("data-index",n)}${m("data-front",lt)}${m("data-swiping",It)}${m("data-dismissable",ht)}${m("data-type",T)}${m("data-invert",pt)}${m("data-swipe-out",Tt)}${m("data-swipe-direction",rt)}${m("data-expanded",!!(o||l&&it))}${st(`${q.style} ${e.style}`,{"--index":n,"--toasts-before":n,"--z-index":W.toasts.length-n,"--offset":`${tt?ut:H}px`,"--initial-height":l?"auto":`${et}px`})}>`),ft&&!e.component&&T!=="loading"&&b!==null?(t.out.push("<!--[-->"),t.out.push(`<button${m("aria-label",Y)}${m("data-disabled",F)} data-close-button=""${O(S(j(D?.closeButton,e?.classes?.closeButton)))}>`),b?.(t),t.out.push("<!----></button>")):t.out.push("<!--[!-->"),t.out.push("<!--]--> "),e.component){t.out.push("<!--[-->");const A=e.component;t.out.push("<!---->"),A(t,Q([e.componentProps,{closeToast:mt}])),t.out.push("<!---->")}else{if(t.out.push("<!--[!-->"),(T||e.icon||e.promise)&&e.icon!==null&&(gt!==null||e.icon)?(t.out.push("<!--[-->"),t.out.push(`<div data-icon=""${O(S(j(D?.icon,e?.classes?.icon)))}>`),e.promise||T==="loading"?(t.out.push("<!--[-->"),e.icon?(t.out.push("<!--[-->"),t.out.push("<!---->"),e.icon(t,{}),t.out.push("<!---->")):(t.out.push("<!--[!-->"),vt(t)),t.out.push("<!--]-->")):t.out.push("<!--[!-->"),t.out.push("<!--]--> "),e.type!=="loading"?(t.out.push("<!--[-->"),e.icon?(t.out.push("<!--[-->"),t.out.push("<!---->"),e.icon(t,{}),t.out.push("<!---->")):(t.out.push("<!--[!-->"),T==="success"?(t.out.push("<!--[-->"),B?.(t),t.out.push("<!---->")):(t.out.push("<!--[!-->"),T==="error"?(t.out.push("<!--[-->"),C?.(t),t.out.push("<!---->")):(t.out.push("<!--[!-->"),T==="warning"?(t.out.push("<!--[-->"),v?.(t),t.out.push("<!---->")):(t.out.push("<!--[!-->"),T==="info"?(t.out.push("<!--[-->"),w?.(t),t.out.push("<!---->")):t.out.push("<!--[!-->"),t.out.push("<!--]-->")),t.out.push("<!--]-->")),t.out.push("<!--]-->")),t.out.push("<!--]-->")),t.out.push("<!--]-->")):t.out.push("<!--[!-->"),t.out.push("<!--]--></div>")):t.out.push("<!--[!-->"),t.out.push(`<!--]--> <div data-content=""><div data-title=""${O(S(j(D?.title,e?.classes?.title)))}>`),e.title){if(t.out.push("<!--[-->"),typeof e.title!="string"){t.out.push("<!--[-->");const A=e.title;t.out.push("<!---->"),A(t,Q([e.componentProps])),t.out.push("<!---->")}else t.out.push("<!--[!-->"),t.out.push(`${U(e.title)}`);t.out.push("<!--]-->")}else t.out.push("<!--[!-->");if(t.out.push("<!--]--></div> "),e.description){if(t.out.push("<!--[-->"),t.out.push(`<div data-description=""${O(S(j(d,E,D?.description,e.classes?.description)))}>`),typeof e.description!="string"){t.out.push("<!--[-->");const A=e.description;t.out.push("<!---->"),A(t,Q([e.componentProps])),t.out.push("<!---->")}else t.out.push("<!--[!-->"),t.out.push(`${U(e.description)}`);t.out.push("<!--]--></div>")}else t.out.push("<!--[!-->");t.out.push("<!--]--></div> "),e.cancel?(t.out.push("<!--[-->"),typeof e.cancel=="function"?(t.out.push("<!--[-->"),t.out.push("<!---->"),e.cancel(t,{}),t.out.push("<!---->")):(t.out.push("<!--[!-->"),Nt(e.cancel)?(t.out.push("<!--[-->"),t.out.push(`<button data-button="" data-cancel=""${st(e.cancelButtonStyle??h)}${O(S(j(D?.cancelButton,e?.classes?.cancelButton)))}>${U(e.cancel.label)}</button>`)):t.out.push("<!--[!-->"),t.out.push("<!--]-->")),t.out.push("<!--]-->")):t.out.push("<!--[!-->"),t.out.push("<!--]--> "),e.action?(t.out.push("<!--[-->"),typeof e.action=="function"?(t.out.push("<!--[-->"),t.out.push("<!---->"),e.action(t,{}),t.out.push("<!---->")):(t.out.push("<!--[!-->"),Nt(e.action)?(t.out.push("<!--[-->"),t.out.push(`<button data-button=""${st(e.actionButtonStyle??M)}${O(S(j(D?.actionButton,e?.classes?.actionButton)))}>${U(e.action.label)}</button>`)):t.out.push("<!--[!-->"),t.out.push("<!--]-->")),t.out.push("<!--]-->")):t.out.push("<!--[!-->"),t.out.push("<!--]-->")}t.out.push("<!--]--></li>"),_()}function Fe(t){t.out.push('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" height="20" width="20" data-sonner-success-icon=""><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z" clip-rule="evenodd"></path></svg>')}function He(t){t.out.push('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" height="20" width="20" data-sonner-error-icon=""><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"></path></svg>')}function Ue(t){t.out.push('<svg viewBox="0 0 64 64" fill="currentColor" height="20" width="20" data-sonner-warning-icon="" xmlns="http://www.w3.org/2000/svg"><path d="M32.427,7.987c2.183,0.124 4,1.165 5.096,3.281l17.936,36.208c1.739,3.66 -0.954,8.585 -5.373,8.656l-36.119,0c-4.022,-0.064 -7.322,-4.631 -5.352,-8.696l18.271,-36.207c0.342,-0.65 0.498,-0.838 0.793,-1.179c1.186,-1.375 2.483,-2.111 4.748,-2.063Zm-0.295,3.997c-0.687,0.034 -1.316,0.419 -1.659,1.017c-6.312,11.979 -12.397,24.081 -18.301,36.267c-0.546,1.225 0.391,2.797 1.762,2.863c12.06,0.195 24.125,0.195 36.185,0c1.325,-0.064 2.321,-1.584 1.769,-2.85c-5.793,-12.184 -11.765,-24.286 -17.966,-36.267c-0.366,-0.651 -0.903,-1.042 -1.79,-1.03Z"></path><path d="M33.631,40.581l-3.348,0l-0.368,-16.449l4.1,0l-0.384,16.449Zm-3.828,5.03c0,-0.609 0.197,-1.113 0.592,-1.514c0.396,-0.4 0.935,-0.601 1.618,-0.601c0.684,0 1.223,0.201 1.618,0.601c0.395,0.401 0.593,0.905 0.593,1.514c0,0.587 -0.193,1.078 -0.577,1.473c-0.385,0.395 -0.929,0.593 -1.634,0.593c-0.705,0 -1.249,-0.198 -1.634,-0.593c-0.384,-0.395 -0.576,-0.886 -0.576,-1.473Z"></path></svg>')}function je(t){t.out.push('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" height="20" width="20" data-sonner-info-icon=""><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z" clip-rule="evenodd"></path></svg>')}function We(t){t.out.push('<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-sonner-close-icon=""><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>')}const Qe=3,Qt="24px",Vt="16px",Ve=4e3,Ge=356,Ye=14,Ze="dark",Dt="light";function Je(t,s){const e={};return[t,s].forEach((n,o)=>{const r=o===1,c=r?"--mobile-offset":"--offset",i=r?Vt:Qt;function l(f){["top","right","bottom","left"].forEach(u=>{e[`${c}-${u}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{const u=n[f];u===void 0?e[`${c}-${f}`]=i:e[`${c}-${f}`]=typeof u=="number"?`${u}px`:u}):l(i)}),e}function Xe(t,s){x();function e(E){return E!=="system"?E:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Ze:Dt}let{invert:n=!1,position:o="bottom-right",hotkey:r=["altKey","KeyT"],expand:c=!1,closeButton:i=!1,offset:l=Qt,mobileOffset:f=Vt,theme:u="light",richColors:h=!1,duration:M=Ve,visibleToasts:p=Qe,toastOptions:d={},dir:g="auto",gap:P=Ye,loadingIcon:R,successIcon:B,errorIcon:C,warningIcon:v,closeIcon:b,infoIcon:w,containerAriaLabel:I="Notifications",class:z,closeButtonAriaLabel:Y="Close toast",onblur:ot,onfocus:Z,onmouseenter:q,onmousemove:St,onmouseleave:it,ondragend:tt,onpointerdown:It,onpointerup:Tt,$$slots:At,$$events:ut,...et}=s;function rt(){if(g!=="auto")return g;if(typeof window>"u"||typeof document>"u")return"ltr";const E=document.documentElement.getAttribute("dir");return E==="auto"||!E?(Mt(()=>g=window.getComputedStyle(document.documentElement).direction??"ltr"),g):(Mt(()=>g=E),E)}const lt=Array.from(new Set([o,...W.toasts.filter(E=>E.position).map(E=>E.position)].filter(Boolean)));let ct=!1,T=!1,ht=e(u);const at=r.join("+").replace(/Key/g,"").replace(/Digit/g,"");if(Oe.set(new we),t.out.push(`<section${m("aria-label",`${L(I)} ${L(at)}`)}${m("tabindex",-1)} aria-live="polite" aria-relevant="additions text" aria-atomic="false" class="svelte-tppj9g">`),W.toasts.length>0){t.out.push("<!--[-->");const E=y(lt);t.out.push("<!--[-->");for(let J=0,ft=E.length;J<ft;J++){let X=E[J];const[dt,pt]=X.split("-"),F=Je(l,f),D=y(W.toasts.filter(H=>!H.position&&J===0||H.position===X));t.out.push(`<ol${K({tabindex:-1,dir:rt(),class:S(z),"data-sonner-toaster":!0,"data-sonner-theme":ht,"data-y-position":dt,"data-x-position":pt,style:et.style,...et},"svelte-tppj9g",void 0,{"--front-toast-height":`${W.heights[0]?.height}px`,"--width":`${Ge}px`,"--gap":`${P}px`,"--offset-top":F["--offset-top"],"--offset-right":F["--offset-right"],"--offset-bottom":F["--offset-bottom"],"--offset-left":F["--offset-left"],"--mobile-offset-top":F["--mobile-offset-top"],"--mobile-offset-right":F["--mobile-offset-right"],"--mobile-offset-bottom":F["--mobile-offset-bottom"],"--mobile-offset-left":F["--mobile-offset-left"]})}><!--[-->`);for(let H=0,mt=D.length;H<mt;H++){let gt=D[H];{let vt=function(a){B?(a.out.push("<!--[-->"),B?.(a),a.out.push("<!---->")):(a.out.push("<!--[!-->"),B!==null?(a.out.push("<!--[-->"),Fe(a)):a.out.push("<!--[!-->"),a.out.push("<!--]-->")),a.out.push("<!--]-->")},A=function(a){C?(a.out.push("<!--[-->"),C?.(a),a.out.push("<!---->")):(a.out.push("<!--[!-->"),C!==null?(a.out.push("<!--[-->"),He(a)):a.out.push("<!--[!-->"),a.out.push("<!--]-->")),a.out.push("<!--]-->")},bt=function(a){v?(a.out.push("<!--[-->"),v?.(a),a.out.push("<!---->")):(a.out.push("<!--[!-->"),v!==null?(a.out.push("<!--[-->"),Ue(a)):a.out.push("<!--[!-->"),a.out.push("<!--]-->")),a.out.push("<!--]-->")},wt=function(a){w?(a.out.push("<!--[-->"),w?.(a),a.out.push("<!---->")):(a.out.push("<!--[!-->"),w!==null?(a.out.push("<!--[-->"),je(a)):a.out.push("<!--[!-->"),a.out.push("<!--]-->")),a.out.push("<!--]-->")},Yt=function(a){b?(a.out.push("<!--[-->"),b?.(a),a.out.push("<!---->")):(a.out.push("<!--[!-->"),b!==null?(a.out.push("<!--[-->"),We(a)):a.out.push("<!--[!-->"),a.out.push("<!--]-->")),a.out.push("<!--]-->")};ze(t,{index:H,toast:gt,defaultRichColors:h,duration:d?.duration??M,class:d?.class??"",descriptionClass:d?.descriptionClass||"",invert:n,visibleToasts:p,closeButton:i,interacting:T,position:X,style:d?.style??"",classes:d.classes||{},unstyled:d.unstyled??!1,cancelButtonStyle:d?.cancelButtonStyle??"",actionButtonStyle:d?.actionButtonStyle??"",closeButtonAriaLabel:d?.closeButtonAriaLabel??Y,expandByDefault:c,expanded:ct,loadingIcon:R,successIcon:vt,errorIcon:A,warningIcon:bt,infoIcon:wt,closeIcon:Yt,$$slots:{successIcon:!0,errorIcon:!0,warningIcon:!0,infoIcon:!0,closeIcon:!0}})}}t.out.push("<!--]--></ol>")}t.out.push("<!--]-->")}else t.out.push("<!--[!-->");t.out.push("<!--]--></section>"),_()}function qe(t,s){x();let{themeColors:e}=s;e?(t.out.push("<!--[-->"),t.out.push(`<meta name="theme-color"${m("content",e.dark)}/>`)):t.out.push("<!--[!-->"),t.out.push("<!--]-->"),_()}function ye(t,s){x();let{trueNonce:e="",initConfig:n,themeColors:o}=s;Jt(t,r=>{o?(r.out.push("<!--[-->"),r.out.push(`<meta name="theme-color"${m("content",o.dark)}/>`)):r.out.push("<!--[!-->"),r.out.push(`<!--]--> ${Xt(`<script${e?` nonce=${e}`:""}>(`+qt.toString()+")("+JSON.stringify(n)+");<\/script>")}`)}),_()}function $e(t,s){x();let{defaultMode:e="system",themeColors:n,disableTransitions:o=!0,darkClassNames:r=["dark"],lightClassNames:c=[],defaultTheme:i="",nonce:l="",themeStorageKey:f="mode-watcher-theme",modeStorageKey:u="mode-watcher-mode",disableHeadScriptInjection:h=!1,synchronousModeChanges:M=!1}=s;he.current=u,ae.current=f,fe.current=r,de.current=c,pe.current=o,xt.current=n,me.current=M;const p=yt({defaultMode:e,themeColors:n,darkClassNames:r,lightClassNames:c,defaultTheme:i,modeStorageKey:u,themeStorageKey:f}),d=typeof window>"u"?l:"";h?(t.out.push("<!--[-->"),qe(t,{themeColors:xt.current})):(t.out.push("<!--[!-->"),ye(t,{trueNonce:d,initConfig:p,themeColors:xt.current})),t.out.push("<!--]-->"),_()}const ts=768;class es extends xe{constructor(s=ts){super(`max-width: ${s-1}px`)}}const ss="sidebar:state",ns=3600*24*7,os="18rem",is="18rem",us="3rem",rs="b";class ls{props;#e=Bt(()=>this.props.open());get open(){return this.#e()}set open(s){return this.#e(s)}openMobile=!1;setOpen;#t;#s=Bt(()=>this.open?"expanded":"collapsed");get state(){return this.#s()}set state(s){return this.#s(s)}constructor(s){this.setOpen=s.setOpen,this.#t=new es,this.props=s}get isMobile(){return this.#t.current}handleShortcutKeydown=s=>{s.key===rs&&(s.metaKey||s.ctrlKey)&&(s.preventDefault(),this.toggle())};setOpenMobile=s=>{this.openMobile=s};toggle=()=>this.#t.current?this.openMobile=!this.openMobile:this.setOpen(!this.open)}const Gt="scn-sidebar";function cs(t){return Lt(Symbol.for(Gt),new ls(t))}function Ct(){return _t(Symbol.for(Gt))}function hs(t,s){x();let{ref:e=null,class:n,children:o,$$slots:r,$$events:c,...i}=s;t.out.push(`<div${K({"data-slot":"sidebar-group-content","data-sidebar":"group-content",class:S(N("w-full text-sm",n)),...i},null)}>`),o?.(t),t.out.push("<!----></div>"),k(s,{ref:e}),_()}function as(t,s){x();let{ref:e=null,children:n,child:o,class:r,$$slots:c,$$events:i,...l}=s;const f={class:N("text-sidebar-foreground/70 ring-sidebar-ring outline-hidden flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",r),"data-slot":"sidebar-group-label","data-sidebar":"group-label",...l};o?(t.out.push("<!--[-->"),o(t,{props:f}),t.out.push("<!---->")):(t.out.push("<!--[!-->"),t.out.push(`<div${K({...f},null)}>`),n?.(t),t.out.push("<!----></div>")),t.out.push("<!--]-->"),k(s,{ref:e}),_()}function fs(t,s){x();let{ref:e=null,class:n,children:o,$$slots:r,$$events:c,...i}=s;t.out.push(`<div${K({"data-slot":"sidebar-group","data-sidebar":"group",class:S(N("relative flex w-full min-w-0 flex-col p-2",n)),...i},null)}>`),o?.(t),t.out.push("<!----></div>"),k(s,{ref:e}),_()}function ds(t,s){x();let{ref:e=null,class:n,children:o,$$slots:r,$$events:c,...i}=s;t.out.push(`<div${K({"data-slot":"sidebar-header","data-sidebar":"header",class:S(N("flex flex-col gap-2 p-2",n)),...i},null)}>`),o?.(t),t.out.push("<!----></div>"),k(s,{ref:e}),_()}function ps(t,s){x();let{ref:e=null,class:n,children:o,$$slots:r,$$events:c,...i}=s;t.out.push(`<main${K({"data-slot":"sidebar-inset",class:S(N("relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",n)),...i},null)}>`),o?.(t),t.out.push("<!----></main>"),k(s,{ref:e}),_()}function ms(t,s){x();let{ref:e=null,class:n,children:o,$$slots:r,$$events:c,...i}=s;t.out.push(`<li${K({"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",class:S(N("group/menu-item relative",n)),...i},null)}>`),o?.(t),t.out.push("<!----></li>"),k(s,{ref:e}),_()}function gs(t,s){x();let{ref:e=null,class:n,children:o,$$slots:r,$$events:c,...i}=s;t.out.push(`<ul${K({"data-slot":"sidebar-menu","data-sidebar":"menu",class:S(N("flex w-full min-w-0 flex-col gap-1",n)),...i},null)}>`),o?.(t),t.out.push("<!----></ul>"),k(s,{ref:e}),_()}function vs(t,s){x();let{ref:e=null,open:n=!0,onOpenChange:o=()=>{},class:r,style:c,children:i,$$slots:l,$$events:f,...u}=s;cs({open:()=>n,setOpen:h=>{n=h,o(h),document.cookie=`${ss}=${n}; path=/; max-age=${ns}`}}),t.out.push("<!---->"),$t(t,{delayDuration:0,children:h=>{h.out.push(`<div${K({"data-slot":"sidebar-wrapper",style:`--sidebar-width: ${L(os)}; --sidebar-width-icon: ${L(us)}; ${L(c)}`,class:S(N("group/sidebar-wrapper flex min-h-svh w-full has-data-[variant=inset]:bg-sidebar",r)),...u},null)}>`),i?.(h),h.out.push("<!----></div>")}}),t.out.push("<!---->"),k(s,{ref:e,open:n}),_()}function bs(t,s){x();let{ref:e=null,class:n,onclick:o,$$slots:r,$$events:c,...i}=s;const l=Ct();$(t,Q([{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",class:N("size-7",n),type:"button",onclick:f=>{o?.(f),l.toggle()}},i,{children:f=>{Me(f,{}),f.out.push('<!----> <span class="sr-only">Toggle Sidebar</span>')},$$slots:{default:!0}}])),k(s,{ref:e}),_()}function ws(t,s){x();let{ref:e=null,class:n,children:o,$$slots:r,$$events:c,...i}=s;t.out.push(`<div${K({"data-slot":"sheet-header",class:S(N("flex flex-col gap-1.5 p-4",n)),...i},null)}>`),o?.(t),t.out.push("<!----></div>"),k(s,{ref:e}),_()}function xs(t,s){x();let{ref:e=null,class:n,$$slots:o,$$events:r,...c}=s,i=!0,l;function f(u){u.out.push("<!---->"),te(u,Q([{"data-slot":"sheet-title",class:N("font-semibold text-foreground",n)},c,{get ref(){return e},set ref(h){e=h,i=!1}}])),u.out.push("<!---->")}do i=!0,l=V(t),f(l);while(!i);G(t,l),k(s,{ref:e}),_()}function _s(t,s){x();let{ref:e=null,class:n,$$slots:o,$$events:r,...c}=s,i=!0,l;function f(u){u.out.push("<!---->"),ee(u,Q([{"data-slot":"sheet-description",class:N("text-sm text-muted-foreground",n)},c,{get ref(){return e},set ref(h){e=h,i=!1}}])),u.out.push("<!---->")}do i=!0,l=V(t),f(l);while(!i);G(t,l),k(s,{ref:e}),_()}const Cs=se;function Ss(t,s){x();let{ref:e=null,side:n="left",variant:o="sidebar",collapsible:r="offcanvas",class:c,children:i,$$slots:l,$$events:f,...u}=s;const h=Ct();let M=!0,p;function d(g){if(r==="none")g.out.push("<!--[-->"),g.out.push(`<div${K({class:S(N("flex h-full w-(--sidebar-width) flex-col bg-sidebar text-sidebar-foreground",c)),...u},null)}>`),i?.(g),g.out.push("<!----></div>");else{if(g.out.push("<!--[!-->"),h.isMobile){g.out.push("<!--[-->");var P=()=>h.openMobile,R=B=>h.setOpenMobile(B);g.out.push("<!---->"),Cs(g,Q([{get open(){return P()},set open(B){R(B)}},u,{children:B=>{B.out.push("<!---->"),ge(B,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",class:"z-99999 w-(--sidebar-width) bg-sidebar p-0 text-sidebar-foreground sm:z-99 [&>button]:hidden",style:`--sidebar-width: ${L(is)};`,side:n,children:C=>{C.out.push("<!---->"),ws(C,{class:"sr-only",children:v=>{v.out.push("<!---->"),xs(v,{children:b=>{b.out.push("<!---->Sidebar")},$$slots:{default:!0}}),v.out.push("<!----> <!---->"),_s(v,{children:b=>{b.out.push("<!---->Displays the mobile sidebar.")},$$slots:{default:!0}}),v.out.push("<!---->")},$$slots:{default:!0}}),C.out.push('<!----> <div class="flex h-full w-full flex-col">'),i?.(C),C.out.push("<!----></div>")},$$slots:{default:!0}}),B.out.push("<!---->")},$$slots:{default:!0}}])),g.out.push("<!---->")}else g.out.push("<!--[!-->"),g.out.push(`<div class="group peer hidden text-sidebar-foreground md:block"${m("data-state",h.state)}${m("data-collapsible",h.state==="collapsed"?r:"")}${m("data-variant",o)}${m("data-side",n)} data-slot="sidebar"><div data-slot="sidebar-gap"${O(S(N("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",o==="floating"||o==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")))}></div> <div${K({"data-slot":"sidebar-container",class:S(N("fixed inset-y-0 z-999 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:z-0 md:flex",n==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",o==="floating"||o==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)",c)),...u},null)}><div data-sidebar="sidebar" data-slot="sidebar-inner" class="flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow-sm">`),i?.(g),g.out.push("<!----></div></div></div>");g.out.push("<!--]-->")}g.out.push("<!--]-->")}do M=!0,p=V(t),d(p);while(!M);G(t,p),k(s,{ref:e}),_()}function Is(t,s){x();let{handleMobileSidebarItemClick:e,isSearchModeActive:n=void 0,searchQuery:o=void 0}=s,r=null;function c(){n=!1,o=""}let i=!0,l;function f(u){u.out.push('<div class="space-y-0.5">'),n?(u.out.push("<!--[-->"),u.out.push('<div class="relative">'),Et(u,{class:"absolute top-2.5 left-2 h-4 w-4 text-muted-foreground"}),u.out.push("<!----> "),Wt(u,{onkeydown:h=>h.key==="Escape"&&c(),placeholder:"Search conversations...",class:"pl-8",get ref(){return r},set ref(h){r=h,i=!1},get value(){return o},set value(h){o=h,i=!1}}),u.out.push("<!----> "),ve(u,{class:"cursor-pointertext-muted-foreground absolute top-2.5 right-2 h-4 w-4",onclick:c}),u.out.push("<!----></div>")):(u.out.push("<!--[!-->"),$(u,{class:"w-full justify-between hover:[&>kbd]:opacity-100",href:"?new_chat=true#/",onclick:e,variant:"ghost",children:h=>{h.out.push('<div class="flex items-center gap-2">'),ne(h,{class:"h-4 w-4"}),h.out.push("<!----> New chat</div> "),Ot(h,{keys:["shift","cmd","o"]}),h.out.push("<!---->")},$$slots:{default:!0}}),u.out.push("<!----> "),$(u,{class:"w-full justify-between hover:[&>kbd]:opacity-100",onclick:()=>{n=!0},variant:"ghost",children:h=>{h.out.push('<div class="flex items-center gap-2">'),Et(h,{class:"h-4 w-4"}),h.out.push("<!----> Search conversations</div> "),Ot(h,{keys:["cmd","k"]}),h.out.push("<!---->")},$$slots:{default:!0}}),u.out.push("<!---->")),u.out.push("<!--]--></div>")}do i=!0,l=V(t),f(l);while(!i);G(t,l),k(s,{isSearchModeActive:n,searchQuery:o}),_()}function Ts(t,s){x();const e=Ct();let n=nt.params.id,o=!1,r="",c=!1,i=!1,l=null,f="",u=r.trim().length>0?kt().filter(C=>C.name.toLowerCase().includes(r.toLowerCase())):kt();function h(){l&&(c=!1,setTimeout(()=>{_e(l.id),l=null},100))}function M(){!f.trim()||!l||(i=!1,Ce(l.id,f),l=null)}function p(){e.isMobile&&e.toggle()}function d(){o=!0}function g(){if(n&&u.find(v=>v.id===n)){const v=new CustomEvent("edit-active-conversation",{detail:{conversationId:n}});document.dispatchEvent(v)}}let P=!0,R;function B(C){oe(C,{class:"h-[100vh]",children:v=>{v.out.push("<!---->"),ds(v,{class:" top-0 z-10 gap-6 bg-sidebar/50 px-4 pt-4 pb-2 backdrop-blur-lg md:sticky",children:b=>{b.out.push('<a href="#/"><h1 class="inline-flex items-center gap-1 px-2 text-xl font-semibold">Delta</h1></a> '),Is(b,{handleMobileSidebarItemClick:p,get isSearchModeActive(){return o},set isSearchModeActive(w){o=w,P=!1},get searchQuery(){return r},set searchQuery(w){r=w,P=!1}}),b.out.push("<!---->")},$$slots:{default:!0}}),v.out.push("<!----> <!---->"),fs(v,{class:"mt-4 space-y-2 p-0 px-4",children:b=>{u.length>0&&o||!o?(b.out.push("<!--[-->"),b.out.push("<!---->"),as(b,{children:w=>{w.out.push(`<!---->${U(o?"Search results":"Conversations")}`)},$$slots:{default:!0}}),b.out.push("<!---->")):b.out.push("<!--[!-->"),b.out.push("<!--]--> <!---->"),hs(b,{children:w=>{w.out.push("<!---->"),gs(w,{children:I=>{const z=y(u);I.out.push("<!--[-->");for(let Y=0,ot=z.length;Y<ot;Y++){let Z=z[Y];I.out.push("<!---->"),ms(I,{class:"mb-1",children:q=>{As(q,{conversation:{id:Z.id,name:Z.name,lastModified:Z.lastModified,currNode:Z.currNode},isActive:n===Z.id})},$$slots:{default:!0}}),I.out.push("<!---->")}I.out.push("<!--]--> "),u.length===0?(I.out.push("<!--[-->"),I.out.push(`<div class="px-2 py-4 text-center"><p class="mb-4 p-4 text-sm text-muted-foreground">${U(r.length>0?"No results found":o?"Start typing to see results":"No conversations yet")}</p></div>`)):I.out.push("<!--[!-->"),I.out.push("<!--]-->")},$$slots:{default:!0}}),w.out.push("<!---->")},$$slots:{default:!0}}),b.out.push("<!---->")},$$slots:{default:!0}}),v.out.push('<!----> <div class="bottom-0 z-10 bg-sidebar bg-sidebar/50 px-4 py-4 backdrop-blur-lg md:sticky"></div>')},$$slots:{default:!0}}),C.out.push("<!----> "),ie(C,{title:"Delete Conversation",description:l?`Are you sure you want to delete "${l.name}"? This action cannot be undone and will permanently remove all messages in this conversation.`:"",confirmText:"Delete",cancelText:"Cancel",variant:"destructive",icon:ue,onConfirm:h,onCancel:()=>{c=!1,l=null},get open(){return c},set open(v){c=v,P=!1}}),C.out.push("<!----> <!---->"),Kt(C,{get open(){return i},set open(v){i=v,P=!1},children:v=>{v.out.push("<!---->"),Rt(v,{children:b=>{b.out.push("<!---->"),zt(b,{children:w=>{w.out.push("<!---->"),Ft(w,{children:I=>{I.out.push("<!---->Edit Conversation Name")},$$slots:{default:!0}}),w.out.push("<!----> <!---->"),Ht(w,{children:I=>{Wt(I,{class:"mt-4 text-foreground",onkeydown:z=>{z.key==="Enter"&&(z.preventDefault(),M())},placeholder:"Enter a new name",type:"text",get value(){return f},set value(z){f=z,P=!1}})},$$slots:{default:!0}}),w.out.push("<!---->")},$$slots:{default:!0}}),b.out.push("<!----> <!---->"),Ut(b,{children:w=>{w.out.push("<!---->"),re(w,{onclick:()=>{i=!1,l=null},children:I=>{I.out.push("<!---->Cancel")},$$slots:{default:!0}}),w.out.push("<!----> <!---->"),le(w,{onclick:M,children:I=>{I.out.push("<!---->Save")},$$slots:{default:!0}}),w.out.push("<!---->")},$$slots:{default:!0}}),b.out.push("<!---->")},$$slots:{default:!0}}),v.out.push("<!---->")},$$slots:{default:!0}}),C.out.push("<!---->")}do P=!0,R=V(t),B(R);while(!P);G(t,R),k(s,{handleMobileSidebarItemClick:p,activateSearchMode:d,editActiveConversation:g}),_()}function As(t,s){x();let{conversation:e,isActive:n=!1}=s,o=Se().includes(e.id),r=!0,c;function i(l){l.out.push(`<button${O(`group flex min-h-9 w-full cursor-pointer items-center justify-between space-x-3 rounded-lg px-3 py-1.5 text-left transition-colors hover:bg-foreground/10 ${L(n?"bg-foreground/5 text-accent-foreground":"")}`,"svelte-5d6dyd")}><div class="flex min-w-0 flex-1 items-center gap-2">`),o?(l.out.push("<!--[-->"),ce(l,{class:"h-3.5 w-3.5 shrink-0 animate-spin text-muted-foreground"})):l.out.push("<!--[!-->"),l.out.push(`<!--]-->  <span class="truncate text-sm font-medium">${U(e.name)}</span></div> `),l.out.push("<!--[!-->"),l.out.push("<!--]--></button>")}do r=!0,c=V(t),i(c);while(!r);G(t,c),_()}function Ms(t,s){x();let{open:e=void 0,currentTitle:n,newTitle:o,onConfirm:r,onCancel:c}=s,i=!0,l;function f(u){u.out.push("<!---->"),Kt(u,{get open(){return e},set open(h){e=h,i=!1},children:h=>{h.out.push("<!---->"),Rt(h,{children:M=>{M.out.push("<!---->"),zt(M,{children:p=>{p.out.push("<!---->"),Ft(p,{children:d=>{d.out.push("<!---->Update Conversation Title?")},$$slots:{default:!0}}),p.out.push("<!----> <!---->"),Ht(p,{children:d=>{d.out.push("<!---->Do you want to update the conversation title to match the first message content?")},$$slots:{default:!0}}),p.out.push("<!---->")},$$slots:{default:!0}}),M.out.push(`<!----> <div class="space-y-4 pt-2 pb-6"><div class="space-y-2"><p class="text-sm font-medium text-muted-foreground">Current title:</p> <p class="rounded-md bg-muted/50 p-3 text-sm font-medium">${U(n)}</p></div> <div class="space-y-2"><p class="text-sm font-medium text-muted-foreground">New title would be:</p> <p class="rounded-md bg-muted/50 p-3 text-sm font-medium">${U(o)}</p></div></div> <!---->`),Ut(M,{children:p=>{$(p,{variant:"outline",onclick:c,children:d=>{d.out.push("<!---->Keep Current Title")},$$slots:{default:!0}}),p.out.push("<!----> "),$(p,{onclick:r,children:d=>{d.out.push("<!---->Update Title")},$$slots:{default:!0}}),p.out.push("<!---->")},$$slots:{default:!0}}),M.out.push("<!---->")},$$slots:{default:!0}}),h.out.push("<!---->")},$$slots:{default:!0}}),u.out.push("<!---->")}do i=!0,l=V(t),f(l);while(!i);G(t,l),k(s,{open:e}),_()}function Ot(t,s){x();let{keys:e,variant:n="default",class:o=""}=s,r="px-1 pointer-events-none inline-flex select-none items-center gap-0.5 font-sans text-md font-medium opacity-0 transition-opacity -my-1",c=n==="destructive"?"text-destructive":"text-muted-foreground";const i=y(e);t.out.push(`<kbd${O(`${L(r)} ${L(c)} ${L(o)}`)}><!--[-->`);for(let l=0,f=i.length;l<f;l++){let u=i[l];u==="shift"?(t.out.push("<!--[-->"),Ae(t,{class:`h-1 w-1 ${L(n==="destructive"?"text-destructive":"")} -mr-1`})):(t.out.push("<!--[!-->"),u==="cmd"?(t.out.push("<!--[-->"),t.out.push(`<span${O(S(n==="destructive"?"text-destructive":""))}>âŒ˜</span>`)):(t.out.push("<!--[!-->"),t.out.push(`${U(u.toUpperCase())}`)),t.out.push("<!--]-->")),t.out.push("<!--]--> "),l<e.length-1?(t.out.push("<!--[-->"),t.out.push("<span></span>")):t.out.push("<!--[!-->"),t.out.push("<!--]-->")}t.out.push("<!--]--></kbd>"),_()}function Hs(t,s){x();let{children:e}=s;nt.route.id,nt.route.id,nt.url.searchParams.get("new_chat"),Ie().length>0||Te();let n=!1,o,r=!1,c="",i="";function l(){r=!1}function f(){r=!1}let u=!0,h;function M(p){$e(p,{}),p.out.push("<!----> "),Xe(p,{richColors:!0}),p.out.push("<!----> "),Ms(p,{currentTitle:c,newTitle:i,onConfirm:f,onCancel:l,get open(){return r},set open(d){r=d,u=!1}}),p.out.push("<!----> <!---->"),vs(p,{get open(){return n},set open(d){n=d,u=!1},children:d=>{d.out.push(`<div class="flex h-screen w-full"${st("",{height:`${L(o)}px`})}><!---->`),Ss(d,{class:"h-full",children:g=>{Ts(g,{})},$$slots:{default:!0}}),d.out.push("<!----> <!---->"),bs(d,{class:`transition-left absolute left-0 z-[900] h-8 w-8 duration-200 ease-linear ${L(n?"md:left-[var(--sidebar-width)]":"")}`,style:"translate: 1rem 1rem;"}),d.out.push("<!----> <!---->"),ps(d,{class:"flex flex-1 flex-col overflow-hidden",children:g=>{e?.(g),g.out.push("<!---->")},$$slots:{default:!0}}),d.out.push("<!----></div>")},$$slots:{default:!0}}),p.out.push("<!---->")}do u=!0,h=V(t),M(h);while(!u);G(t,h),_()}export{Hs as default};
